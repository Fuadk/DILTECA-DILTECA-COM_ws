{"hash":"e12715024a911585278264ffda0b60c6df8b86c7","fesm2022":[{"exports":["StarlibComponent","starServices"],"facadeModuleId":"/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/starlib.mjs","isDynamicEntry":false,"isEntry":true,"isImplicitEntry":false,"moduleIds":["/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/lib/model.mjs","/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/lib/starlib.service.mjs","/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/lib/starlib.component.mjs","/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/public-api.mjs","/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/starlib.mjs"],"name":"starlib","type":"chunk","dynamicImports":[],"fileName":"starlib.mjs","implicitlyLoadedBefore":[],"importedBindings":{"@angular/core":["*","Injectable","Component"],"@angular/common/http":["HttpHeaders","HttpRequest","*"],"rxjs":["BehaviorSubject","throwError"],"rxjs/operators":["catchError","map","tap"],"@progress/kendo-angular-dialog":["DialogCloseResult","*"],"@progress/kendo-date-math":["firstDayInWeek","Day","getDate"],"ts-md5/dist/md5":["Md5"],"@angular/common":["formatDate"],"@progress/kendo-angular-notification":["*"],"@progress/kendo-angular-l10n":["*"]},"imports":["@angular/core","@angular/common/http","rxjs","rxjs/operators","@progress/kendo-angular-dialog","@progress/kendo-date-math","ts-md5/dist/md5","@angular/common","@progress/kendo-angular-notification","@progress/kendo-angular-l10n"],"modules":{"/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/lib/model.mjs":{"code":"class tabsCodes {\n    constructor() {\n        this.CODENAME = '';\n        this.CODE = '';\n        this.PARTCODE = '';\n        this.LANGUAGE_NAME = '';\n        this.CODETEXT_LANG = '';\n        this.CODEVALUE_LANG = '';\n        this.LAST_UPDATE = '';\n        this.FLEX_FLD1 = '';\n        this.FLEX_FLD2 = '';\n        this.FLEX_FLD3 = '';\n        this.FLEX_FLD4 = '';\n        this.FLEX_FLD5 = '';\n    }\n}\nclass componentConfigDef {\n    constructor() {\n        this.eventFrom = null;\n        this.languageChanged = \"EN\";\n        this.masterSaved = null;\n        this.masterDeleted = null;\n        this.parentClose = null;\n        this.formMode = null;\n        this.savingMode = null;\n        this.isMaster = null;\n        this.isChild = null;\n        this.masterKey = null;\n        this.AUTH_TYPE = null;\n        this.formattedWhere = null;\n        this.clearComponent = null;\n        this.otherMasterKey = null;\n        this.gridHeight = null;\n        this.formHeight = null;\n        this.routineAuth = null;\n        this.showAll = null;\n        this.editable = null;\n        this.queryable = true;\n        this.navigable = true;\n        this.insertable = true;\n        this.removeable = true;\n        this.enabled = true;\n        this.updateable = true;\n        this.toolsShow = null;\n        this.showTitle = true;\n        this.showSave = null;\n        this.title = null;\n        this.hideGrid = null;\n        this.clearScreen = null;\n        this.setScreen = null;\n        this.WEEKShow = null;\n        this.showToolBar = null;\n        this.useAutoSave = null;\n    }\n}","originalLength":5869,"removedExports":[],"renderedExports":["tabsCodes","componentConfigDef"],"renderedLength":1568},"/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/lib/starlib.service.mjs":{"code":"class starServices extends BehaviorSubject {\n    constructor(notificationService, dialogService, http, messages) {\n        super(null);\n        this.notificationService = notificationService;\n        this.dialogService = dialogService;\n        this.http = http;\n        this.messages = messages;\n        this.createdItems = [];\n        this.updatedItems = [];\n        this.deletedItems = [];\n        this.routine_name = \"\";\n        this.saveChangesMsg = \"Screen changed, are you sure you to navigate?\";\n        this.deleteDetailMsg = \"Can not delete as detail has data.\";\n        this.pleaseConfirmMsg = \"Please confirm\";\n        this.deleteConfirmMsg = \"Are you sure you want to delete this record?\";\n        this.nothingToDeletelMsg = \"No records to delete.\";\n        this.fieldsRequiredMsg = \"Please enter required fields.\";\n        this.readOnlyMsg = \"Can not save , your authority is readonly.\";\n        this.noAccessMsg = \"You dont have access to this routine.\";\n        this.standardErrorMsg = \"Error performing transaction\";\n        this.saveMasterMsg = \"Save master record first.\";\n        this.helpMsg = \"\";\n        this.helpMsg_grid = \"\";\n        this.USERNAME = \"\";\n        this.hideAfter = 1000;\n        this.StrAuth = \"\";\n        this.MASTER_DB = \"\";\n        this.USERNAME_DB = \"\";\n        this.limit = 2500;\n        this.YesNoActions = [\n            { text: 'No', primary: false },\n            { text: 'Yes', primary: true }\n        ];\n        this.OkActions = [\n            { text: 'Ok', primary: false }\n        ];\n        this.sessionParams = {};\n        //private BASE_URL = 'https://odatasampleservices.azurewebsites.net/V4/Northwind/Northwind.svc/';\n        //private BASE_URL = 'http://192.168.1.3:9090/api?_format=json&_limit=50';\n        this.EPMENG_URL = \"\"; //'http://192.168.1.5:8092/format';\n        //private EPMENG_URL = 'http://gmashro.com:8092/format';\n        this.SERVER_URL = \"\"; // 'http://localhost:9090';\n        this.SERVER_DEPLOY = \"\";\n        //public SERVER_URL = 'http://gmashro.com:9090';\n        this.BASE_URL = this.SERVER_URL + '/api?_format=json&_limit=' + this.limit;\n        //private BASE_URL = 'http://gmashro.com:9090/api?_format=json&_limit=' + this.limit;\n        this.eKycScr = \"DSPEKYC\";\n        this.syncFlag = 0;\n        this.rulesPostQueryDef = {\n            rulePtrsArr: [],\n            rulesArr: [],\n            actionPtrsArr: [],\n            actionsArr: []\n        };\n        this.rulesPreQueryDef = {\n            rulePtrsArr: [],\n            rulesArr: [],\n            actionPtrsArr: [],\n            actionsArr: []\n        };\n        this.hostsArr = [];\n        this.hostsMapArr = [];\n        this.commitBody = [];\n        this.inTrans = false;\n        this.Body = [];\n        this.commitCommands = ['INSERT', 'UPDATE', 'DELETE'];\n        //logger.warn(\"Warning message\");\n    }\n    query(state) {\n        let queryName = \"\";\n        this.fetch(this, queryName)\n            .subscribe(x => super.next(x));\n    }\n    removeRec(gridData, editedRowIndex) {\n        //let result1 = JSON.parse(JSON.stringify(gridData));\n        if (typeof editedRowIndex !== \"undefined\") {\n            gridData.data.splice(editedRowIndex, 1);\n            gridData.total = gridData.data.length;\n            /*  //if (this.paramConfig.DEBUG_FLAG) console.log('remving editedRowIndex:' + editedRowIndex)\n              result1.data.splice( editedRowIndex , 1 );\n              result1.total = result1.data.length;*/\n        }\n        return gridData;\n    }\n    updateRec(gridData, editedRowIndex, NewVal) {\n        gridData.data[editedRowIndex] = NewVal;\n        return gridData;\n    }\n    addRec(gridData, NewVal) {\n        gridData.data.push(NewVal);\n        /* let result ={\"data\":[], total:0};\n         let result1 = JSON.parse(JSON.stringify(gridData));\n         NewVal = this.parseToDate(NewVal);\n         result1.data.push(NewVal);\n         result.data = result1.data;\n         result.total = result.data.length;\n         return result1;*/\n        return gridData;\n    }\n    formatWhere(NewVal) {\n        function isDate(value) {\n            return value instanceof Date;\n        }\n        function FORMAT_ISO_parse(d) {\n            var dateIso = d.toISOString();\n            var dateIsoArr = dateIso.split(\"T\");\n            dateIso = dateIsoArr[0] + \" \" + dateIsoArr[1];\n            dateIso = dateIso.substr(0, 19);\n            return dateIso;\n        }\n        function parseValue(key, value) {\n            let phrase = \"\";\n            //console.log(\"isDate:\" , isDate (value), value, typeof value);\n            if (isDate(value)) {\n                //value = getDate(value);\n                //value = FORMAT_ISO_parse(value);\n                value = value.toISOString();\n            }\n            if (typeof value === 'string') {\n                // it's a string\n                if (value != \"\") {\n                    let operators = \"<>!=\";\n                    let operatorVal = \"\";\n                    let trimeedVal = value.trim();\n                    let firstChar = trimeedVal.charAt(0);\n                    let n = operators.search(firstChar);\n                    if (n != -1) {\n                        if (firstChar == \"|\")\n                            operatorVal = \" = '\" + value + \"' \";\n                        else\n                            operatorVal = value;\n                    }\n                    else if (value.toUpperCase().search(\"%\") != -1) {\n                        operatorVal = \" like '\" + value + \"' \";\n                        console.log(\"operatorVal:\" + operatorVal);\n                    }\n                    else {\n                        operatorVal = \" = '\" + value + \"' \";\n                    }\n                    phrase = key + encodeURIComponent(operatorVal);\n                    //phrase = key + operatorVal;\n                }\n            }\n            else {\n                // it's something else\n                let operatorVal = \" = '\" + value + \"' \";\n                phrase = key + encodeURIComponent(operatorVal);\n            }\n            return phrase;\n        }\n        let wherePhrase = \"\";\n        let whereClause = \"\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"formatWhere:\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(NewVal);\n        Object.keys(NewVal).forEach(function (key) {\n            let value = NewVal[key];\n            //if (this.paramConfig.DEBUG_FLAG) console.log(key + \":\" + value);\n            if ((value != \"\") && (value != null)) {\n                let phrase = parseValue(key, value);\n                if (wherePhrase == \"\") {\n                    wherePhrase = wherePhrase + phrase;\n                }\n                else {\n                    wherePhrase = wherePhrase + \" and \" + phrase;\n                }\n            }\n        });\n        if (wherePhrase != \"\")\n            whereClause = \"&_WHERE=\" + wherePhrase;\n        else\n            whereClause = \"&_WHERE=\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"whereClause:\" + whereClause);\n        return whereClause;\n    }\n    checkDBLoc(theURL) {\n        let paramConfig = getParamConfig();\n        if (this.paramConfig.DBLoc != \"\") {\n            let userName = this.sessionParams.USERNAME;\n            theURL = theURL + \"&DBLoc=\" + this.paramConfig.DBLoc;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checkDBLoc:theURL:\", theURL);\n        return theURL;\n    }\n    fetch(object, queryName) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        let theURL = `${this.BASE_URL}${queryName}`;\n        theURL = this.checkDBLoc(theURL);\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        return this.http\n            .get(`${theURL}`, this.httpOptions)\n            .pipe(catchError((err) => {\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(data => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"status data: \", data);\n            this.loading = false;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:this.rulesPostQueryDef\", this.rulesPostQueryDef);\n            this.checkRules(object, this.rulesPostQueryDef, data, \"POST_QUERY\");\n        }));\n    }\n    /* public remove( page: any):Observable<any> {\n         this.delete(page)\n             .subscribe(x => super.next(x));\n \n             return 0;\n     }\n */\n    delete(Page) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        let theURL = `${this.BASE_URL}${Page}`;\n        theURL = this.checkDBLoc(theURL);\n        //console.log(\"delete theURL:\",theURL);\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        return this.http\n            .delete(`${theURL}`, this.httpOptions)\n            .pipe(catchError((err) => {\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(() => this.loading = false));\n    }\n    post_delete(Page, Body) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"post:Page:\",Page,\" Body:\",Body)\n        let theURL = `${this.BASE_URL}${Page}`;\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth:\" + this.StrAuth);\n        return this.http\n            .post(`${theURL}`, Body, this.httpOptions)\n            .pipe(catchError((err) => {\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(data => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"status data:\", data);\n            this.loading = false;\n        }));\n    }\n    showDailogErr(error) {\n        let Msg = error.error;\n        //console.log(\"Msg:\", Msg);\n        let position = Msg.search(\"UNIQUE constraint\");\n        if (position != -1)\n            Msg = this.getNLS([], 'ALREADY_EXISTS', 'Record already exists');\n        var dialogStruc = {\n            msg: Msg,\n            title: \"Error\",\n            info: null,\n            object: this,\n            action: this.OkActions,\n            callback: null\n        };\n        this.showConfirmation(dialogStruc);\n    }\n    post(object, Page, Body) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"post:Page:\",Page,\" Body:\",Body)\n        this.checkRules(object, this.rulesPreQueryDef, Body, \"PRE_QUERY\");\n        let theURL = `${this.BASE_URL}${Page}`;\n        theURL = this.checkDBLoc(theURL);\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth:\" , this.StrAuth , theURL);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth: with URL\" , this.StrAuth , theURL);\n        return this.http\n            .post(`${theURL}`, Body, this.httpOptions)\n            .pipe(catchError((err) => {\n            //console.log(\"err:\", err.error.error)\n            this.showDailogErr(err.error);\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(data => {\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"status data:\", data);\n            this.loading = false;\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"test:this.rulesPostQueryDef\", this.rulesPostQueryDef)\n            this.syncFlag = 0;\n            this.checkRules(object, this.rulesPostQueryDef, data, \"POST_QUERY\");\n        }));\n    }\n    /////////////////////////////////////////////////////\n    postUpload(Page, Body) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        let theURL = Page;\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'authorization': this.StrAuth\n            })\n        };\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth:\" + this.StrAuth);\n        return this.http\n            .post(`${theURL}`, Body, this.httpOptions)\n            .pipe(catchError((err) => {\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(() => this.loading = false));\n    }\n    /////////////////////////////////////////////////////\n    uploadFile(page, filesSet, id) {\n        filesSet.forEach(file => {\n            // create a new multipart-form for every file\n            const formdata = new FormData();\n            formdata.append('file', file);\n            formdata.append('id', id);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"uploadFile page:\" + page);\n            let apiURL = this.SERVER_URL + '/api/att' + page;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"apiURL:\" + apiURL);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(formdata);\n            formdata.forEach(entries => console.log(JSON.stringify(entries)));\n            this.postUpload(apiURL, formdata).subscribe(result => {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log('result', result);\n            });\n        });\n    }\n    uploadFileOld(file) {\n        const formdata = new FormData();\n        formdata.append('file', file); //the uploaded file content\n        formdata.append('documentVersionId', '123'); //I need to pass some additional info to the server besides the File data\n        let apiURL = this.SERVER_URL + '/api?upload=y';\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"apiURL:\" + apiURL);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(formdata);\n        formdata.forEach(entries => console.log(JSON.stringify(entries)));\n        //const apiURL = this.api_path + 'Upload';     //calling http://localhost:52333/api/UploadController\n        this.postUpload(apiURL, formdata).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log('result', result);\n        });\n        /*const uploadReq = new HttpRequest('POST', apiURL, formdata, {\n           reportProgress: true\n        });\n        this.httpclient.request(uploadReq).subscribe(event => {\n           if (event.type === HttpEventType.UploadProgress) {\n               this.progress = Math.round(100 * event.loaded / event.total);\n           }\n       });\n       */\n    }\n    /////////////////////////////////////////////////////\n    hasChanges() {\n        return Boolean(this.deletedItems.length || this.updatedItems.length || this.createdItems.length);\n    }\n    addToBody(NewVal, Body) {\n        Body.push(NewVal);\n        // if (this.paramConfig.DEBUG_FLAG) console.log('NewVal : HF Please'  + JSON.stringify(NewVal));\n        return Body;\n    }\n    showNotification(styleNote, msg) {\n        let hideAfter = this.hideAfter;\n        if (styleNote == \"error\")\n            hideAfter = 5000;\n        this.notificationService.show({\n            content: msg,\n            cssClass: 'button-notification',\n            animation: { type: 'fade', duration: 200 },\n            position: { horizontal: 'center', vertical: 'bottom' },\n            //            stacking: { stacking: 'down' },\n            type: { style: styleNote, icon: true },\n            //closable: true,\n            hideAfter: hideAfter\n        });\n    }\n    goRecordAct(target, object) {\n        let rec;\n        if (target == \"first\") {\n            object.CurrentRec = 0;\n        }\n        else if (target == \"last\") {\n            object.CurrentRec = object.executeQueryresult.total - 1;\n        }\n        else if (target == \"next\") {\n            if (object.CurrentRec < object.executeQueryresult.total - 1)\n                object.CurrentRec = object.CurrentRec + 1;\n        }\n        else if (target == \"prev\") {\n            if (object.CurrentRec > 0)\n                object.CurrentRec = object.CurrentRec - 1;\n        }\n        rec = object.executeQueryresult.data[object.CurrentRec];\n        if (typeof rec !== \"undefined\") {\n            object.form.patchValue(rec);\n            object.form.markAsPristine();\n            object.form.markAsUntouched();\n            //object.form.reset(rec, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\n            if (object.disableEmitReadCompleted != true)\n                object.readCompletedOutput.emit(object.form.value);\n            if (typeof object.callBackFunction !== \"undefined\")\n                object.callBackFunction(rec);\n        }\n        else\n            object.clearCompletedOutput.emit([]);\n    }\n    goRecord(target, object) {\n        if (typeof object.executeQueryresult != \"undefined\") {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(object.form.dirty);\n            if (object.form.dirty == true) {\n                let dialogStruc = {\n                    msg: this.saveChangesMsg,\n                    title: this.pleaseConfirmMsg,\n                    info: target,\n                    object: object,\n                    action: this.YesNoActions,\n                    callback: this.goRecordAct\n                };\n                this.showConfirmation(dialogStruc);\n            }\n            else {\n                this.goRecordAct(target, object);\n            }\n        }\n    }\n    showConfirmation(dialogStruc) {\n        let dialogResult;\n        const dialog = this.dialogService.open({\n            title: dialogStruc.title,\n            content: dialogStruc.msg,\n            actions: dialogStruc.action,\n            width: 450,\n            height: 200,\n            minWidth: 250\n        });\n        dialog.result.subscribe((result) => {\n            if (result instanceof DialogCloseResult) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log('close');\n            }\n            else {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log('action', result);\n            }\n            dialogResult = JSON.parse(JSON.stringify(result));\n            if (dialogResult.primary == true) {\n                if (dialogStruc.hasOwnProperty('callback')) {\n                    dialogStruc.callback(dialogStruc.info, dialogStruc.object);\n                }\n            }\n        });\n    }\n    /**************** Form functions **************/\n    executeQuery_form(form, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"star-services executeQuery_form object.form:\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isSearch:\" + object.isSearch);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(object.form.value);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(form.value);\n        if (typeof object.form !== \"undefined\") {\n            if ((object.form.dirty == true) && (object.isSearch != true)) {\n                let dialogStruc = {\n                    msg: this.saveChangesMsg,\n                    title: this.pleaseConfirmMsg,\n                    info: form,\n                    object: object,\n                    action: this.YesNoActions,\n                    callback: this.executeQueryAct_form\n                };\n                this.showConfirmation(dialogStruc);\n            }\n            else {\n                this.executeQueryAct_form(form, object);\n            }\n        }\n        else {\n            this.executeQueryAct_form(form, object);\n        }\n    }\n    // routine from : https://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/integration-with-json/\n    parseToDate(json) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"json:in:\", json);\n        Object.keys(json).map(key => {\n            let Val1 = json[key];\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"key:\", key, Val1, typeof Val1);\n            //let n = key.toUpperCase().search(\"DATE\");\n            //if (n != -1){\n            if (typeof Val1 != \"number\") { //it is not a number, check more\n                if ((Val1 != null) && (Val1.length > 7)) {\n                    const date = new Date(Val1);\n                    let checkYYYY = isNaN(parseInt(Val1.substring(0, 4)));\n                    let timeVal = date.getTime();\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"timeVal:\", timeVal, isNaN(timeVal));\n                    if (!isNaN(timeVal) && (timeVal > 0) && !checkYYYY) {\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"it is a date\");\n                        //if (this.paramConfig.DEBUG_FLAG) console.log(\"key:\"+key + \":\" + date.getTime());\n                        json[key] = date;\n                    }\n                }\n            }\n        });\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"json:out:\", json);\n        return json;\n    }\n    dateYYYYMMDD(object, json) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"json:\", json);\n        Object.keys(json).map(key => {\n            let n = key.toUpperCase().search(\"_DATE\");\n            if (n != -1) {\n                let dateOrg = json[key];\n                let date = new Date(json[key]);\n                //date = toLocalDate(date);\n                let timeVal = date.getTime();\n                if (!isNaN(timeVal) && (timeVal > 0)) {\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"key:\"+key + \":\" + date.getTime());\n                    //let array = dateOrg.split(\"T\")\n                    dateOrg = formatDate(dateOrg, object.paramConfig.DateFormat, object.paramConfig.dateLocale);\n                    json[key] = dateOrg;\n                }\n            }\n        });\n        return json;\n    }\n    executeQueryAct_form(form, object) {\n        if (typeof form === \"undefined\")\n            return;\n        let paramConfig = {\n            \"Name\": \"childRecords\",\n            \"Val\": 0\n        };\n        setParamConfig(paramConfig);\n        if (object.isChild == true) {\n            if (object.isSearch == true) {\n                if ((typeof object.masterKeyNameArr != \"undefined\") && (object.masterKeyNameArr.length != 0)) {\n                    for (let i = 0; i < object.masterKeyNameArr.length; i++) {\n                        object.formInitialValues[object.masterKeyNameArr[i]] = object.masterKeyArr[i];\n                    }\n                }\n                else {\n                    object.formInitialValues[object.masterKeyName] = object.masterKey;\n                }\n                //object.formInitialValues[object.masterKeyName] = object.masterKey;\n                object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.masterKeyName:\" + object.masterKeyName);\n                object.isSearch = true;\n                form = object.form.value;\n            }\n        }\n        let Page = \"&_query=\" + object.getCMD;\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isSearch:\" + object.isSearch);\n        //if (object.isSearch == true) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(form.value);\n        let NewVal = form;\n        object.isSearch = false;\n        if ((typeof object.formattedWhere === \"undefined\") || (object.formattedWhere == null)) {\n            Page = Page + object.starServices.formatWhere(NewVal);\n        }\n        else {\n            Page = Page + object.formattedWhere;\n            object.formattedWhere = null;\n        }\n        if ((typeof object.OrderByClause !== \"undefined\") && (object.OrderByClause != \"\"))\n            Page = Page + \"&_ORDERBY=\" + object.OrderByClause;\n        //}\n        //console.log(\"test Page:\", Page);\n        object.executeQueryresult = [];\n        object.executeQueryresult.result = 0;\n        object.CurrentRec = 0;\n        Page = encodeURI(Page);\n        object.starServices.fetch(object, Page).subscribe(result => {\n            if (result != null) {\n                for (let i = 0; i < result.data[0].data.length; i++)\n                    result.data[0].data[i] = object.starServices.parseToDate(result.data[0].data[i]);\n                result = { data: result.data[0].data,\n                    total: parseInt(result.data[0].data.length, 10) };\n                if (object.isMaster)\n                    object.starServices.showNotification('success', \"Records retrieved : \" + result.total);\n                object.executeQueryresult = result;\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.executeQueryresult:\", object.executeQueryresult);\n                //console.log(\"result.data:\",result.data, \" object.CurrentRec\", object.CurrentRec );\n                //console.log(\"result.data[object.CurrentRec:\",result.data[object.CurrentRec] );\n                if (typeof result.data[object.CurrentRec] !== \"undefined\") {\n                    object.form.patchValue(result.data[object.CurrentRec]);\n                    //console.log(\"object.form.value:\",object.form.value);\n                    object.form.markAsPristine();\n                    object.form.markAsUntouched();\n                }\n                //object.form.reset(result.data[object.CurrentRec], {emitEvent: object.emitEvent != null ? object.emitEvent : true});\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"form servicereadCompletedOutput\");\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(object.readCompletedOutput);\n                let paramConfig = {\n                    \"Name\": \"childRecords\",\n                    \"Val\": result.total\n                };\n                setParamConfig(paramConfig);\n                if (result.total != 0)\n                    object.isNew = false;\n                if (object.disableEmitReadCompleted != true) {\n                    if (result.total != 0) {\n                        object.readCompletedOutput.emit(object.form.value);\n                    }\n                    else\n                        object.clearCompletedOutput.emit([]);\n                }\n                if (typeof object.callBackFunction !== \"undefined\")\n                    object.callBackFunction(result.data[0]);\n            }\n            this.setPrimarKeyNameArr(object, true);\n        }, err => {\n            //alert('error:' + err.message);\n            this.showErrorMsg(object, err);\n        });\n    }\n    execstarServices_form_inTrans(NewVal, object) {\n        this.commitBody.push(NewVal);\n        if (object.action != \"REMOVE\") {\n            if (typeof object.executeQueryresult !== \"undefined\") {\n                if (object.isNew == true) {\n                    object.executeQueryresult.data.push(NewVal);\n                    object.executeQueryresult.total = object.executeQueryresult.total + 1;\n                }\n                else {\n                    object.executeQueryresult.data[object.CurrentRec] = NewVal;\n                }\n            }\n            else {\n                let NewValArr = [];\n                NewValArr.push(NewVal);\n                let result = { data: NewValArr,\n                    total: 1 };\n                object.executeQueryresult = result;\n                object.CurrentRec = 0;\n            }\n            var data = [];\n            data.push(NewVal);\n            if (object.isNew == true) {\n                object.isNew = false;\n                if (typeof object.callBackPost_Insert !== \"undefined\") {\n                    object.callBackPost_Insert.apply(object, data);\n                }\n            }\n            else {\n                if (typeof object.callBackPost_Update !== \"undefined\") {\n                    object.callBackPost_Update.apply(object, data);\n                }\n            }\n        }\n        else {\n            //REMOVE\n            object.executeQueryresult.data.splice(object.CurrentRec, 1);\n            object.executeQueryresult.total--;\n            if (object.CurrentRec > 0) {\n                object.CurrentRec--;\n                object.form.reset(object.executeQueryresult.data[object.CurrentRec], { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                if (object.isNew == true)\n                    object.isNew = false;\n            }\n            else {\n                object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                object.isNew = true;\n            }\n            let NewVal1 = [];\n            NewVal1.push(NewVal);\n            if (typeof object.callBackRemoveAtt !== \"undefined\")\n                object.callBackRemoveAtt(object, NewVal1);\n            if (typeof object.callBackPost_Remove !== \"undefined\") {\n                object.callBackPost_Remove.apply(object, NewVal1);\n            }\n        }\n        if (object.action != \"REMOVE\") {\n            object.form.reset(NewVal, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n        }\n        if (object.diableEmitSave == true) { }\n        else\n            object.saveCompletedOutput.emit(NewVal);\n        if (object.isChild == true) {\n            let paramConfig = {\n                \"Name\": \"childRecords\",\n                \"Val\": object.executeQueryresult.total\n            };\n            setParamConfig(paramConfig);\n        }\n        object.action = \"\";\n        this.setPrimarKeyNameArr(object, true);\n    }\n    execstarServices_form(NewVal, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"NewVal:\", NewVal);\n        object.addToBody(NewVal);\n        let Page = \"&_trans=Y\";\n        if (this.inTrans) {\n            this.execstarServices_form_inTrans(NewVal, object);\n            return;\n        }\n        this.post(object, Page, object.Body).subscribe(Page => {\n            object.Body = [];\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"object.executeQueryresult.data:object.CurrentRec:\" + object.CurrentRec + \" object.action:\" + object.action);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(object.executeQueryresult);\n            //if (typeof object.executeQueryresult !== \"undefined\")\n            {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"here1\");\n                if (object.action != \"REMOVE\") {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(object.executeQueryresult);\n                    if (typeof object.executeQueryresult !== \"undefined\") {\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"object.isNew:\" + object.isNew);\n                        if (object.isNew == true) {\n                            object.executeQueryresult.data.push(NewVal);\n                            object.executeQueryresult.total = object.executeQueryresult.total + 1;\n                            //object.CurrentRec++;\n                        }\n                        else {\n                            object.executeQueryresult.data[object.CurrentRec] = NewVal;\n                        }\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"object.executeQueryresult post\");\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(object.executeQueryresult);\n                    }\n                    else {\n                        let NewValArr = [];\n                        NewValArr.push(NewVal);\n                        let result = { data: NewValArr,\n                            total: 1 };\n                        object.executeQueryresult = result;\n                        object.CurrentRec = 0;\n                    }\n                    this.showNotification('success', \"Data saved successfully\");\n                    var data = [];\n                    data.push(NewVal);\n                    if (object.isNew == true) {\n                        object.isNew = false;\n                        if (typeof object.callBackPost_Insert !== \"undefined\") {\n                            //object.callBackPost_Insert(object, NewVal);\n                            //console.log(\"before calling callBackPost_Insert:\", NewVal,data)\n                            object.callBackPost_Insert.apply(object, data);\n                        }\n                    }\n                    else {\n                        if (typeof object.callBackPost_Update !== \"undefined\") {\n                            object.callBackPost_Update.apply(object, data);\n                        }\n                    }\n                }\n                else {\n                    //REMOVE\n                    object.executeQueryresult.data.splice(object.CurrentRec, 1);\n                    object.executeQueryresult.total--;\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"object.CurrentRec:\" + object.CurrentRec, \" NewVal:\", NewVal);\n                    if (object.CurrentRec > 0) {\n                        object.CurrentRec--;\n                        object.form.reset(object.executeQueryresult.data[object.CurrentRec], { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                        if (object.isNew == true)\n                            object.isNew = false;\n                    }\n                    else {\n                        object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                        object.isNew = true;\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"object.isNew:\" + object.isNew);\n                    }\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"here2:NewVal:\", NewVal);\n                    let NewVal1 = [];\n                    NewVal1.push(NewVal);\n                    if (typeof object.callBackRemoveAtt !== \"undefined\")\n                        object.callBackRemoveAtt.apply(object, NewVal1);\n                    if (typeof object.callBackPost_Remove !== \"undefined\") {\n                        object.callBackPost_Remove.apply(object, NewVal1);\n                    }\n                }\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"here2\");\n            if (object.action != \"REMOVE\") {\n                object.form.reset(NewVal, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n            }\n            if (object.diableEmitSave == true) { }\n            else\n                object.saveCompletedOutput.emit(NewVal);\n            if (object.isChild == true) {\n                let paramConfig = {\n                    \"Name\": \"childRecords\",\n                    \"Val\": object.executeQueryresult.total\n                };\n                setParamConfig(paramConfig);\n            }\n            object.action = \"\";\n            this.setPrimarKeyNameArr(object, true);\n        }, err => {\n            //alert ('error:' + err.message);\n            this.showErrorMsg(object, err);\n        });\n    }\n    saveChanges_form(form, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log('saveChanges_form : object.isNew :' + object.isNew);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(object.componentConfig.routineAuth);\n        if (object.componentConfig.routineAuth != null) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"authLevel:\" + object.componentConfig.routineAuth.authLevel);\n            if (object.componentConfig.routineAuth.authLevel != 2) {\n                let dialogStruc = {\n                    msg: this.readOnlyMsg,\n                    title: \"Warning\",\n                    info: null,\n                    object: object,\n                    action: this.OkActions,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                return;\n            }\n        }\n        if ((!object.form.dirty) && object.isChild)\n            return;\n        if (object.form.invalid) {\n            object.submitted = true;\n            this.showOkMsg(object, this.fieldsRequiredMsg, \"Error\");\n            return;\n        }\n        let NewVal = {};\n        //object.Body = [];   // only one transaction allowed in  form. Moved to form\n        //NewVal =  form.value;\n        NewVal = Object.assign({}, form.value, {});\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"----- NewVal:\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(NewVal);\n        if (object.isNew == true)\n            NewVal[\"_QUERY\"] = object.insertCMD;\n        else\n            NewVal[\"_QUERY\"] = object.updateCMD;\n        //object.isNew = false;\n        this.execstarServices_form(NewVal, object);\n    }\n    enterQueryAct_form(form, object) {\n        object.CurrentRec = 0;\n        object.executeQueryresult = [];\n        object.executeQueryresult.result = 0;\n        object.isSearch = true;\n        object.isNew = false;\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log('enterQuery : object.isSearch:' + object.isSearch);\n        object.clearCompletedOutput.emit(object.formInitialValues);\n        object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n        object.starServices.setPrimarKeyNameArr(object, false);\n    }\n    setPrimarKeyNameArr(object, value) {\n        if (typeof object.primarKeyReadOnlyArr !== \"undefined\") {\n            let keys = Object.keys(object.primarKeyReadOnlyArr);\n            for (let k = 0; k < keys.length; k++) {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"[keys[k]:\", keys[k], \" value:\", value);\n                object.primarKeyReadOnlyArr[keys[k]] = value;\n            }\n        }\n    }\n    enterQuery_form(form, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:dirty:\", object.form.dirty);\n        if (object.form.dirty == true) {\n            let dialogStruc = {\n                msg: this.saveChangesMsg,\n                title: this.pleaseConfirmMsg,\n                info: form,\n                object: object,\n                action: this.YesNoActions,\n                callback: this.enterQueryAct_form\n            };\n            this.showConfirmation(dialogStruc);\n        }\n        else {\n            this.enterQueryAct_form(form, object);\n        }\n    }\n    onCancel_form(e, object) {\n        object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n        object.isSearch = false;\n        object.isNew = true;\n        object.clearCompletedOutput.emit(object.formInitialValues);\n        object.executeQueryresult = [];\n        object.executeQueryresult.result = 0;\n        object.CurrentRec = 0;\n        object.FORM_TRIGGER_FAILURE = false;\n    }\n    showOkMsg(object, msg, severity) {\n        let dialogStruc = {\n            msg: msg,\n            title: severity,\n            info: null,\n            object: object,\n            action: this.OkActions,\n            callback: null\n        };\n        this.showConfirmation(dialogStruc);\n    }\n    onRemove_form(form, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isNew:\", object.isNew);\n        if (object.isNew == true) {\n            this.onCancel_form(null, object);\n            return;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.executeQueryresult:\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(object.executeQueryresult);\n        if ((typeof object.executeQueryresult !== \"undefined\") && (object.executeQueryresult.total == 0)) {\n            this.showOkMsg(object, this.nothingToDeletelMsg, \"Warning\");\n            return;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log('onRemove : isChild ' + object.isChild + \" object.isMaster:\" + object.isMaster);\n        let NewVal = form.value;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.executeQueryresult:\" + object.executeQueryresult);\n        if (object.isChild == false) {\n            var paramConfig = getParamConfig();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(paramConfig);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"paramConfig.childRecords:\" + paramConfig.childRecords);\n            if (typeof paramConfig.childRecords === \"undefined\") {\n                paramConfig.childRecords = 0;\n            }\n            if ((paramConfig.childRecords != 0) && (object.isMaster == true)) {\n                let dialogStruc = {\n                    msg: this.deleteDetailMsg,\n                    title: \"Warning\",\n                    info: null,\n                    object: object,\n                    action: this.OkActions,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                return;\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(paramConfig);\n        let dialogStruc = {\n            msg: this.deleteConfirmMsg,\n            title: this.pleaseConfirmMsg,\n            info: form,\n            object: object,\n            action: this.YesNoActions,\n            callback: this.Remove_formAct\n        };\n        this.showConfirmation(dialogStruc);\n    }\n    Remove_formAct(form, object) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"in Remove_formAct\");\n        let NewVal = {};\n        NewVal = form.value;\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(NewVal);\n        //object.form.reset(object.formInitialValues);\n        object.action = \"REMOVE\";\n        NewVal[\"_QUERY\"] = object.deleteCMD;\n        object.starServices.execstarServices_form(NewVal, object);\n    }\n    onNew_form(e, object) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"onNew: object.masterKey:\" + object.masterKey);\n        object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n        object.clearCompletedOutput.emit(object.formInitialValues);\n        object.isSearch = false;\n        object.isNew = true;\n        this.setPrimarKeyNameArr(object, false);\n    }\n    /******************* Grid functions  ********/\n    addHandler_grid(object) {\n        if (typeof object.masterKeyNameArr != \"undefined\") {\n            if (object.isChild == true) {\n                if (object.masterKeyArr[0] == \"\") {\n                    this.showOkMsg(this, this.saveMasterMsg, \"Error\");\n                    return;\n                }\n            }\n            else {\n                if (object.isChild == true) {\n                    if (object.masterKey == \"\") {\n                        this.showOkMsg(this, this.saveMasterMsg, \"Error\");\n                        return;\n                    }\n                }\n            }\n        }\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"test41:object.gridInitialValues:\", object.gridInitialValues);\n        object.saveCurrent();\n        this.setPrimarKeyNameArr(object, false);\n        /* object.gridInitialValues.MODULE = object.masterKey;*/\n        if ((typeof object.masterKeyNameArr != \"undefined\") && (object.masterKeyNameArr.length != 0)) {\n            this.setPrimarKeyNameArr(object, false);\n            if (object.isChild == true) {\n                for (let i = 0; i < object.masterKeyNameArr.length; i++) {\n                    let readOnly = \"is\" + object.masterKeyNameArr[i] + \"readOnly\";\n                    if (object.primarKeyReadOnlyArr) {\n                        object.primarKeyReadOnlyArr[readOnly] = true;\n                    }\n                    object.gridInitialValues[object.masterKeyNameArr[i]] = object.masterKeyArr[i];\n                }\n            }\n        }\n        else {\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"test4:object.masterKeyName:\", object.masterKeyName);\n            if (object.masterKeyName != \"\") {\n                object.gridInitialValues[object.masterKeyName] = object.masterKey;\n            }\n        }\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"test42:object.gridInitialValues:\", object.gridInitialValues);\n        object.closeEditor();\n        object.formGroup = object.createFormGroupGrid(object.gridInitialValues);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.formGroup:\", object.formGroup);\n        object.isNew = true;\n        object.grid.addRow(object.formGroup);\n        //this.setPrimarKeyNameArr(object, false);\n    }\n    removeHandler_grid(sender, object) {\n        //sender.cancelCell();\n        let paramConfig = getParamConfig();\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"removeHandler_grid paramConfig:object.isMaster \" + object.isMaster);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(paramConfig);\n        if ((paramConfig.childRecords != 0) && (object.isMaster == true)) {\n            let dialogStruc = {\n                msg: this.deleteDetailMsg,\n                title: \"Warning\",\n                info: null,\n                object: object,\n                action: this.OkActions,\n                callback: null\n            };\n            this.showConfirmation(dialogStruc);\n            return;\n        }\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.editedRowIndex :\", object.editedRowIndex);\n        if (typeof object.editedRowIndex !== \"undefined\") {\n            let NewVal = {};\n            let grid_data = JSON.parse(JSON.stringify(object.grid.data));\n            NewVal = grid_data.data[object.editedRowIndex];\n            let curCMD = NewVal[\"_QUERY\"];\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"check:NewVal:_QUERY\", NewVal[\"_QUERY\"]);\n            let result1 = object.starServices.removeRec(object.grid.data, object.editedRowIndex);\n            object.grid.data = result1;\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"check:NewVal:\", NewVal);\n            NewVal[\"_QUERY\"] = object.deleteCMD;\n            if (curCMD != object.insertCMD) {\n                object.addToBody(NewVal);\n                object.removedRec.push(NewVal);\n            }\n        }\n        else\n            object.cancelHandler();\n    }\n    saveCurrent_grid(object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"saveCurrent_grid:object.formGroup:\", object.formGroup);\n        if (object.formGroup) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"saveCurrent_grid:object.formGroup:\", object.formGroup);\n            let NewVal = {};\n            NewVal = Object.assign({}, object.formGroup.value);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log('check:dirty :', object.formGroup.dirty, \" isNew:\", object.isNew, \" NewVal: \", NewVal);\n            if (object.formGroup.dirty === true) {\n                if (object.isNew == true) {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"here1 NewVal\", NewVal);\n                    //let result = object.starServices.addRec(object.grid.data, NewVal) ;\n                    // object.grid.data = result;\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(object.grid.data);\n                    if (object.grid.data == null || typeof object.grid.data.data == \"undefined\")\n                        object.grid.data = { data: [], total: 0 };\n                    //object.grid.data.data.push(NewVal);\n                    object.grid.data.data.splice(0, 0, NewVal);\n                    NewVal[\"_QUERY\"] = object.insertCMD;\n                }\n                else {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log('check:object.grid.data:', object.grid.data, \" NewVal:\", NewVal);\n                    //NewVal = this.parseToDate(NewVal);\n                    if (object.grid.data.data[object.editedRowIndex]._QUERY == object.insertCMD) {\n                        NewVal[\"_QUERY\"] = object.insertCMD;\n                    }\n                    else {\n                        NewVal[\"_QUERY\"] = object.updateCMD;\n                    }\n                    object.grid.data.data[object.editedRowIndex] = NewVal;\n                    //let result1 = object.starServices.updateRec(object.grid.data , object.editedRowIndex, NewVal );\n                    //object.grid.data = result1;\n                }\n                //object.addToBody(NewVal); // addToBody will be done at saveChanges_grid to avoid duplicte update since object.grid.data.data is getting updated\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(object.grid.data);\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"pre close\");\n            object.closeEditor();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"post close\");\n        }\n    }\n    closeEditor_grid(object) {\n        //console.log(\"Del:object.editedRowIndex:\", object.editedRowIndex);\n        //console.log(\"Del:object.grid:\", object.grid);\n        object.grid.closeRow(object.editedRowIndex);\n        object.isNew = false;\n        object.editedRowIndex = undefined;\n        object.formGroup = undefined;\n    }\n    cancelHandler_grid(object) {\n        object.closeEditor();\n        object.isSearch = false;\n        object.FORM_TRIGGER_FAILURE = false;\n        //object.removedRec.length = 0;\n    }\n    saveChanges_grid_inTrans(grid, object, NewVal) {\n        this.commitBody.push(NewVal);\n        if (object.isChild == true) {\n            let gridRecords = object.grid.data.data.length;\n            let paramConfig = {\n                \"Name\": \"childRecords\",\n                \"Val\": gridRecords\n            };\n            setParamConfig(paramConfig);\n        }\n        if (typeof object.callBackPost_Save !== \"undefined\") {\n            let NewVal1 = [];\n            NewVal1.push(NewVal);\n            object.callBackPost_Save.apply(object, NewVal1);\n        }\n        this.setPrimarKeyNameArr(object, true);\n        object.saveCompletedOutput.emit(grid);\n    }\n    saveChanges_grid(grid, object) {\n        if ((object.grid.data == null) || (typeof object.grid.data.data == \"undefined\")) {\n            return;\n        }\n        let Error = false;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"pre object.saveCurrent\");\n        object.saveCurrent();\n        if (object.componentConfig.routineAuth != null) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"authLevel:\" + object.componentConfig.routineAuth.authLevel);\n            if (object.componentConfig.routineAuth.authLevel != 2) {\n                let dialogStruc = {\n                    msg: this.readOnlyMsg,\n                    title: \"Warning\",\n                    info: null,\n                    object: object,\n                    action: this.OkActions,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                return;\n            }\n        }\n        let NewVal = [];\n        for (let i = 0; i < object.grid.data.data.length; i++) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"check: object.grid.data.data[i]._QUERY:\", object.grid.data.data[i]._QUERY);\n            if (typeof object.grid.data.data[i]._QUERY != \"undefined\") {\n                NewVal = object.grid.data.data[i];\n                object.addToBody(NewVal);\n            }\n        }\n        if (this.inTrans) {\n            this.saveChanges_grid_inTrans(grid, object, NewVal);\n            return;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"check: object.Body:\", object.Body);\n        if (object.Body.length != 0) {\n            let Page = \"&_trans=Y\";\n            this.post(object, Page, object.Body).subscribe(Page => {\n                object.Body = [];\n                for (let i = object.grid.data.data.length - 1; i >= 0; i--) {\n                    if (typeof object.grid.data.data[i]._QUERY != \"undefined\") {\n                        object.grid.data.data[i]._QUERY_DONE = object.grid.data.data[i]._QUERY;\n                        delete object.grid.data.data[i]._QUERY;\n                    }\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"check: object.grid.data.data[i]._QUERY:\", object.grid.data.data[i]._QUERY);\n                }\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.grid.data.data:\", object.grid.data.data);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.grid.data.data:.length\", object.grid.data.data.length);\n                if (object.isChild == true) {\n                    let gridRecords = object.grid.data.data.length;\n                    let paramConfig = {\n                        \"Name\": \"childRecords\",\n                        \"Val\": gridRecords\n                    };\n                    setParamConfig(paramConfig);\n                }\n                this.showNotification('success', \"Data saved successfully\");\n                if (typeof object.callBackPost_Save !== \"undefined\") {\n                    let NewVal1 = [];\n                    NewVal1.push(NewVal);\n                    object.callBackPost_Save.apply(object, NewVal1);\n                }\n                this.setPrimarKeyNameArr(object, true);\n            }, err => {\n                for (let i = object.Body.length - 1; i >= 0; i--) {\n                    if (object.Body[i]._QUERY != object.deleteCMD) {\n                        object.Body.splice(i, 1);\n                    }\n                }\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"err:\", err);\n                let errMsg = this.getErrorMsg(err);\n                this.showNotification(\"error\", \"error:\" + errMsg);\n                Error = true;\n            });\n        }\n        else {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"object.isMaster:\" + object.isMaster);\n            if (!object.isMaster)\n                this.showNotification('warning', \"No changes to save\");\n        }\n        if (!Error)\n            object.saveCompletedOutput.emit(grid);\n    }\n    getErrorMsg(err) {\n        let errMsg = \"\";\n        if (typeof err.error.error != \"undefined\") {\n            errMsg = err.error.error;\n        }\n        else\n            errMsg = err.error;\n        return errMsg;\n    }\n    executeQuery_grid(grid, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.grid:\", object.grid);\n        if (typeof object.grid == \"undefined\")\n            return;\n        let dirty = false;\n        //if (this.paramConfig.DEBUG_FLAG) console.log (\"executeQuery_grid:\" + object.Body.length + \" \" + object.grid.isEditing(), \"object.Body:\",object.Body);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"object.Body:\",object.Body)\n        if ((object.Body.length != 0) || object.grid.isEditing() == true) {\n            dirty = true;\n        }\n        if (dirty == true) {\n            let dialogStruc = {\n                msg: this.saveChangesMsg,\n                title: this.pleaseConfirmMsg,\n                info: grid,\n                object: object,\n                action: this.YesNoActions,\n                callback: this.executeQueryAct_grid\n            };\n            this.showConfirmation(dialogStruc);\n        }\n        else {\n            this.executeQueryAct_grid(grid, object);\n        }\n    }\n    executeQueryAct_grid(grid, object) {\n        let paramConfig = {\n            \"Name\": \"childRecords\",\n            \"Val\": 0\n        };\n        setParamConfig(paramConfig);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isChild:\", object.isChild, \" object.isSearch :\", object.isSearch);\n        if (object.isChild == true) {\n            if (object.isSearch != true) {\n                grid = object.gridInitialValues;\n                if ((typeof object.masterKeyNameArr != \"undefined\") && (object.masterKeyNameArr.length != 0)) {\n                    for (let i = 0; i < object.masterKeyNameArr.length; i++) {\n                        object.gridInitialValues[object.masterKeyNameArr[i]] = object.masterKeyArr[i];\n                    }\n                }\n                else {\n                    object.gridInitialValues[object.masterKeyName] = object.masterKey;\n                }\n                //grid[object.masterKeyName] = object.masterKey;\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.masterKeyName:\" + object.masterKeyName);\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(grid);\n                object.isSearch = true;\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"---Searching:\");\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(grid);\n            }\n        }\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log('------------executeQuery object.isSearch :' + object.isSearch + \"  object.isChild:\" + object.isChild);\n        // if (object.paramConfig.DEBUG_FLAG) console.log(object.grid);\n        let Page = \"&_query=\" + object.getCMD;\n        if (object.isSearch == true) {\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log('object.formGroup:', object.formGroup, 'typeof(grid):', typeof (grid.data), ' grid:', grid);\n            let NewVal = \"\";\n            if (typeof object.formGroup == \"undefined\") {\n                // a child component\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log('grid:', typeof (grid.data));\n                if (typeof grid.data == \"object\")\n                    NewVal = grid.data; // passed empty grid\n                else\n                    NewVal = grid; // used the passed grid param\n            }\n            else\n                NewVal = object.formGroup.value;\n            object.isSearch = false;\n            if ((typeof object.formattedWhere === \"undefined\") || (object.formattedWhere == null)) {\n                Page = Page + object.starServices.formatWhere(NewVal);\n            }\n            else {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.formattedWhere\", object.formattedWhere);\n                Page = Page + object.formattedWhere;\n                object.formattedWhere = null;\n            }\n            if ((typeof object.OrderByClause !== \"undefined\") && (object.OrderByClause != \"\"))\n                Page = Page + \"&_ORDERBY=\" + object.OrderByClause;\n        }\n        Page = encodeURI(Page);\n        //if (object.paramConfig.DEBUG_FLAG) console.log('Page:' + Page);\n        object.grid.loading = true;\n        object.closeEditor();\n        object.executeQueryresult = [];\n        object.executeQueryresult.result = 0;\n        object.CurrentRec = 0;\n        object.grid.data = null;\n        object.starServices.fetch(object, Page).subscribe(result => {\n            if (result != null) {\n                let actualResult = Object.assign({}, result, {});\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"------result.data[0].data :\");\n                //if (object.paramConfig.DEBUG_FLAG) console.log(result.data[0].data);\n                for (let i = 0; i < result.data[0].data.length; i++) {\n                    result.data[0].data[i] = object.starServices.parseToDate(result.data[0].data[i]);\n                    if (result.data[0].data[i]._QUERY != \"undefined\") {\n                        delete result.data[0].data[i]._QUERY;\n                        delete result.data[0].data[i]._QUERY_DONE;\n                    }\n                }\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(result.data[0].data[0]);\n                object.Body = [];\n                result = { data: result.data[0].data,\n                    total: parseInt(result.data[0].data.length, 10) };\n                if (object.isMaster)\n                    object.starServices.showNotification('success', \"Records retrieved : \" + result.total);\n                object.executeQueryresult = result;\n                if (object.isChild == true) {\n                    let paramConfig = {\n                        \"Name\": \"childRecords\",\n                        \"Val\": result.total\n                    };\n                    setParamConfig(paramConfig);\n                }\n            }\n            object.grid.loading = false;\n            object.grid.data = result;\n            if (typeof object.callBackFunction !== \"undefined\")\n                object.callBackFunction(result);\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"grid servicereadCompletedOutput\");\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(object.grid.data.data);\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"result length:\" + result.length);\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"result total:\" + result.total);\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"object.performReadCompletedOutput:\" + object.performReadCompletedOutput);\n            if ((typeof object.performReadCompletedOutput !== \"undefined\") || (object.performReadCompletedOutput == false)) {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"here1\");\n            }\n            else {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"here2\");\n                if (object.disableEmitReadCompleted != true) {\n                    if (result.total != 0)\n                        object.readCompletedOutput.emit(object.grid.data.data[0]);\n                    else\n                        object.readCompletedOutput.emit([]);\n                }\n            }\n            object.starServices.setPrimarKeyNameArr(object, true);\n        }, err => {\n            object.Body = [];\n            object.grid.loading = false;\n            object.grid.data = null;\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"err:\", err);\n            object.starServices.showNotification(\"error\", \"error:\" + err.error.error.code);\n        });\n        object.docClickSubscription = object.renderer.listen('document', 'click', object.onDocumentClick.bind(object));\n    }\n    enterQueryAct_grid(grid, object) {\n        object.grid.cancel;\n        object.grid.data = null;\n        object.Body = [];\n        object.isSearch = true;\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isSearch:\" + object.isSearch);\n        object.addHandler();\n        object.clearCompletedOutput.emit(object.formInitialValues);\n        object.starServices.setPrimarKeyNameArr(object, false);\n    }\n    enterQuery_grid(grid, object) {\n        let dirty = false;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"pre object.saveCurrent\");\n        object.saveCurrent();\n        let modified = false;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.grid.data\");\n        if (object.grid.data != null) {\n            if (typeof object.grid.data.data !== \"undefined\") {\n                for (let i = 0; i < object.grid.data.data.length; i++) {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"check: i:\", i, \" object.grid.data.data[i]._QUERY:\", object.grid.data.data[i]._QUERY);\n                    if (typeof object.grid.data.data[i]._QUERY !== \"undefined\") {\n                        modified = true;\n                    }\n                }\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.saveCurrent :\" + object.Body.length + \" \" + object.grid.isEditing());\n        if (object.Body.length != 0) {\n            modified = true;\n        }\n        if ((modified == true) || object.grid.isEditing() == true) {\n            dirty = true;\n        }\n        if (dirty == true) {\n            let dialogStruc = {\n                msg: this.saveChangesMsg,\n                title: this.pleaseConfirmMsg,\n                info: grid,\n                object: object,\n                action: this.YesNoActions,\n                callback: this.enterQueryAct_grid\n            };\n            this.showConfirmation(dialogStruc);\n        }\n        else {\n            this.enterQueryAct_grid(grid, object);\n        }\n    }\n    setStrAuth(user, password) {\n        this.StrAuth = user + \":\" + password;\n        this.StrAuth = btoa(this.StrAuth);\n        this.StrAuth = \"Basic \" + this.StrAuth;\n    }\n    isASCII(str) {\n        return /^[\\x00-\\x7F]*$/.test(str);\n    }\n    login(object, user, password) {\n        if (!this.isASCII(user)) {\n            this.showNotification(\"error\", \"rror: \" + \"Not a valid User Name\");\n        }\n        this.paramConfig = getParamConfig();\n        this.setStrAuth(user, password);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth:\" + this.StrAuth);\n        let Page = \"\";\n        let success = false;\n        const md5 = new Md5();\n        let pass = md5.appendStr(password).end();\n        user = user.toUpperCase().trim();\n        let NewVal = {\n            \"USERNAME\": user,\n            \"PASSWORD\": pass\n        };\n        NewVal[\"_QUERY\"] = \"VERIFY_ADM_USER\";\n        object.Body = [];\n        object.Body = [];\n        object.addToBody(NewVal);\n        let paramConfig = {\n            \"Name\": \"USERNAME\",\n            \"Val\": user\n        };\n        setParamConfig(paramConfig);\n        this.sessionParams[\"USERNAME\"] = user;\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (typeof result.data[0].data[0] !== \"undefined\") {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"Object in login HF\", object.Body, user);\n                if (result.data[0].data[0].USERNAME == user) {\n                    this.USERNAME = user;\n                    object.Body = [];\n                    let paramConfig = {\n                        \"Name\": \"USER_INFO\",\n                        \"Val\": result.data[0].data[0]\n                    };\n                    setParamConfig(paramConfig);\n                    this.sessionParams[\"USER_INFO\"] = result.data[0].data[0];\n                    this.USER_INFO = result.data[0].data[0];\n                    if (this.sessionParams.USER_INFO.MASTER_DB != \"\") {\n                        this.MASTER_DB = this.sessionParams.USER_INFO.MASTER_DB;\n                        this.USERNAME_DB = this.sessionParams.USER_INFO.MASTER_DB;\n                    }\n                    success = true;\n                    this.loadRules(object);\n                    if (object.testEKYC) {\n                        object.loginCompletedHandler(null);\n                    }\n                    else\n                        object.loginCompleted.emit(this);\n                }\n            }\n            if (!success)\n                this.showNotification(\"error\", \"error:\" + \"Wrong user or password\");\n        }, err => {\n            object.Body = [];\n            this.showNotification(\"error\", \"error:\" + \"Wrong user or password\");\n        });\n    }\n    getUserInfo(object, user) {\n        this.paramConfig = getParamConfig();\n        let Page = \"\";\n        let success = false;\n        user = user.toUpperCase().trim();\n        user = user.trim();\n        let NewVal = {\n            \"USERNAME\": user\n        };\n        NewVal[\"_QUERY\"] = \"GET_ADM_USER_INFORMATION\";\n        object.Body = [];\n        object.addToBody(NewVal);\n        let paramConfig = {\n            \"Name\": \"USERNAME\",\n            \"Val\": user\n        };\n        setParamConfig(paramConfig);\n        this.sessionParams[\"USERNAME\"] = user;\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (typeof result.data[0].data[0] !== \"undefined\") {\n                console.log(\"result:\", result.data[0].data[0]);\n                if (result.data[0].data[0].USERNAME == user) {\n                    this.USERNAME = user;\n                    object.Body = [];\n                    let paramConfig = {\n                        \"Name\": \"USER_INFO\",\n                        \"Val\": result.data[0].data[0]\n                    };\n                    setParamConfig(paramConfig);\n                    this.sessionParams[\"USER_INFO\"] = result.data[0].data[0];\n                    this.USER_INFO = result.data[0].data[0];\n                    if ((this.sessionParams.USER_INFO.MASTER_DB != \"\") && (typeof this.sessionParams.USER_INFO.MASTER_DB !== \"undefined\")) {\n                        this.MASTER_DB = this.sessionParams.USER_INFO.MASTER_DB;\n                    }\n                    success = true;\n                    this.loadRules(object);\n                    if (object.testEKYC) {\n                        object.loginCompletedHandler(null);\n                    }\n                    else\n                        object.loginCompletedHandler(this);\n                }\n            }\n            if (!success) {\n                let errorMsg = user + \"is not defined in STAR DB\";\n                let dialogStruc = {\n                    msg: errorMsg,\n                    title: \"Error\",\n                    info: null,\n                    object: object,\n                    action: null,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                object.logoff(3000);\n            }\n        }, err => {\n            object.Body = [];\n            let errorMsg = user + \"is not defined in STAR DB\";\n            let dialogStruc = {\n                msg: errorMsg,\n                title: \"Error\",\n                info: null,\n                object: object,\n                action: null,\n                callback: null\n            };\n            this.showConfirmation(dialogStruc);\n            object.logoff(3000);\n        });\n    }\n    /////////////////\n    LogRule(object, ruleLog, msgResponse, status) {\n        function prepareDataForDB(dataIn) {\n            let dataOut = JSON.stringify(dataIn);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"dataIn:\", dataIn, \" dataOut:\", dataOut);\n            dataOut = dataOut.split(\"'\").join('\"');\n            return dataOut;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"-----msgResponse:\", msgResponse, \"ruleLog:\", ruleLog);\n        let db = ruleLog.db;\n        let d = new Date();\n        let dateIso = d.toISOString();\n        let RULE_KEY = ruleLog.rule.RULE_KEY;\n        let array = RULE_KEY.split(\",\");\n        //let ruleKey = {};\n        let ruleKey = \"\";\n        let ruleKeyName = \"\";\n        for (let i = 0; i < array.length; i++) {\n            let elem = array[i];\n            let elem_value = ruleLog.queryData[elem];\n            if (typeof elem_value !== \"undefined\") {\n                //ruleKey[elem] = elem_value;\n                if (ruleKey != \"\") {\n                    ruleKey = ruleKey + \"_\";\n                }\n                ruleKey = ruleKey + elem_value;\n                if (ruleKeyName != \"\") {\n                    ruleKeyName = ruleKeyName + \"_\";\n                }\n                ruleKeyName = ruleKeyName + elem;\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"ruleKey:\", ruleKey, \" ruleKeyName:\", ruleKeyName);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"RULE_KEY:\", RULE_KEY);\n        let queryData = prepareDataForDB(ruleLog.queryData);\n        //let bodyToSend = prepareDataForDB(ruleLog.bodyToSend);\n        let bodyToSend = ruleLog.bodyToSend;\n        let parametersToSend = prepareDataForDB(ruleLog.parametersToSend);\n        // let ruleKeyStr = prepareDataForDB(ruleKey);\n        let msgResponseStr = prepareDataForDB(msgResponse);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"queryData:\" + queryData);\n        //\n        let userName = object.starServices.sessionParams.USER_INFO.Name;\n        object.Body = [];\n        let Page = \"\";\n        let NewVal = {\n            \"RULE_KEY\": ruleKey,\n            \"RULE_KEY_NAME\": ruleKeyName,\n            \"STATUS\": status,\n            \"MODULE\": ruleLog.rule.MODULE,\n            \"RULE_ID\": ruleLog.rule.RULE_ID,\n            \"ACTION_ID\": ruleLog.action.ACTION_ID,\n            \"SENT_DATE\": ruleLog.sentDate,\n            \"MSG_RECEIVED\": queryData,\n            \"PARAMETER_SENT\": parametersToSend,\n            \"BODY_SENT\": bodyToSend,\n            \"MSG_RESPONSE\": msgResponseStr,\n            \"LOGDATE\": dateIso,\n            \"LOGNAME\": userName\n        };\n        NewVal[\"_QUERY\"] = \"INSERT_ADM_RULE_LOG\";\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"test:NewVal:\", NewVal)\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"test:object.Body:\", object.Body)\n        object.addToBody(NewVal);\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:result.data:\", result.data);\n            object.Body = [];\n        }, err => {\n            object.Body = [];\n            this.showNotification(\"error\", \"error:\" + err.message);\n        });\n    }\n    performHttpPost(object, bodyToSend, parametersToSend, sendTo, queryData, rule, action, Trigger, hostDef, hostMapDef, headerParam) {\n        var valid = false;\n        let error = 0;\n        let msg = \"\";\n        let options = {\n            host: '',\n            path: '',\n            port: 80,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                //'Content-Type': 'text/xml; charset=utf-8',\n                \"authorization\": \"\"\n            }\n        };\n        // if (this.paramConfig.DEBUG_FLAG) console.log(\"---------------req.url:\",req.url);\n        // if (this.paramConfig.DEBUG_FLAG) console.log(\"---------------pathname:\",req._parsedUrl.pathname);\n        // if (this.paramConfig.DEBUG_FLAG) console.log(\"---------------path:\",req._parsedUrl.path);\n        let d = new Date();\n        let dateIso = d.toISOString();\n        if (hostDef == null)\n            hostDef = \"\";\n        let ruleLog = {\n            rule: rule,\n            action: action,\n            queryData: queryData,\n            bodyToSend: bodyToSend,\n            parametersToSend: parametersToSend,\n            //  \"db\": db,\n            sentDate: dateIso,\n            hostDef: hostDef\n        };\n        if (sendTo == \"WF\") {\n            let url = this.BASE_URL;\n            options.headers.authorization = this.StrAuth;\n            valid = true;\n        }\n        else {\n            if (hostDef != \"\") {\n                let path = \"/\" + hostDef.PATH;\n                if (parametersToSend != \"\")\n                    path = path + parametersToSend;\n                let host = hostDef.HOST;\n                let port = parseInt(hostDef.PORT);\n                let method = hostDef.HTTP_METHOD;\n                options.host = host;\n                options.port = port;\n                options.path = path;\n                options.method = method;\n                // let url = \"http://\" + host + \":\" + port  + path + parametersToSend ;\n                let url = hostDef.URL;\n                //\t\t\t\t\toptions.headers.authorization = req.headers.authorization;\n                //bodyToSend = \"\";\n                valid = true;\n            }\n            else {\n                error = 100;\n                msg = \"undefined Host :\" + sendTo;\n                this.LogRule(object, ruleLog, msg, 100);\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"here2:valid:\", valid);\n        if (valid) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"options:\", options);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"------bodyToSend:\" + bodyToSend, \"  Trigger:\", Trigger);\n            let keys = Object.keys(headerParam);\n            for (let i = 0; i < keys.length; i++) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(keys[i] + \" \" + headerParam[keys[i]]);\n                if (headerParam[keys[i]] != null) {\n                    options.headers[keys[i]] = headerParam[keys[i]];\n                    //screenConfig[ keys[i] ] = componentConfig[ keys[i] ];\n                }\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"here2:action.ACTION_CODE:\", action.ACTION_CODE);\n            if (action.ACTION_CODE == \"SEND_WAIT\") {\n                /*\n                let sendingLib = \"request\";\n                status = 1;\n                let headers  =  {headers:options.headers};\n                if (this.paramConfig.DEBUG_FLAG) console.log(\"headers:\", headers);\n                let url = \"http://\" + host + \":\" + port  + path + parametersToSend ;\n                if (this.paramConfig.DEBUG_FLAG) console.log(\"---url:\", url);\n                if (method == \"GET\")\n                {\n                  let res = request(method, url, headers);\n                  let result = JSON.parse(res.getBody('utf8'));\n                }\n                else\n                if (method == \"POST\")\n                {\n        \n                  let dataForSync = { body : bodyToSend, headers:options.headers};\n                  let res = request(method, url, dataForSync);\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\"res:\", res);\n                  let statusCode = res.statusCode;\n                  let msgResponse =\"\";\n                  if (statusCode == 200)\n                  {\n                    let contentType = res.headers['content-type'];\n        \n                    let msgResponse = res.getBody('utf8');\n                    if (this.paramConfig.DEBUG_FLAG) console.log(\"statusCode:\", statusCode,\" headers:\", headers,  \" msgResponse:\", msgResponse);\n                    let n = contentType.search(\"json\");\n                    if (n != -1)\n                      let result = JSON.stringify(JSON.parse(msgResponse));\n                    else\n                      let result = msgResponse;\n                    if (this.paramConfig.DEBUG_FLAG) console.log(\"result:\" +  result);\n                  }\n                  else\n                  {\n                    error = statusCode;\n                    let msgResponse = res.body.toString();\n                    msg = msgResponse;\n                  }\n        \n                }\n                if (error == 0)\n                {\n                  if ( (hostMapDef != null) &&  (hostMapDef.XSLT_RECEIVE != null) && (hostMapDef.XSLT_RECEIVE != \"\") )\n                  {\n                    {\n                      //result = xsltmap.mapDataOut(result, hostMapDef.XSLT_RECEIVE);\n                      //if (this.paramConfig.DEBUG_FLAG) console.log(\"result:\", result);\n        \n                    }\n                  }\n        \n                  let status = extractStatus (ruleLog, result);\n                  LogRule(ruleLog, result, status );\n                  error = status;\n                  if (status != 0)\n                    msg = result;\n                }\n                */\n            }\n            else {\n                //async\n                function extractStatus(ruleLog, msgResponse) {\n                    let successMsg = ruleLog.hostDef.SUCCESS_MSG;\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"-------msgResponse:\", msgResponse, successMsg);\n                    let array = successMsg.split(\":\");\n                    let field = array[0];\n                    let value = array[1];\n                    let msgResponseArr = msgResponse;\n                    msgResponse = JSON.stringify(msgResponseArr);\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"field:\", field, \" value:\", value, \" msgResponseArr:\", msgResponseArr);\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"-------msgResponseArr[field]:\", msgResponseArr[field], value);\n                    let status = 1;\n                    if (msgResponseArr[field] == value)\n                        status = 0;\n                    return status;\n                }\n                function extractResponseData(msgResponse, responseDataID) {\n                    function getKey(Elm, elmVal) {\n                        let keys = Object.keys(Elm);\n                        let k = 0;\n                        let elmObj;\n                        while (k < keys.length) {\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"[keys[k]:\", keys[k]);\n                            if (keys[k] == elmVal) {\n                                let elmName = keys[k];\n                                elmObj = Elm[elmName];\n                                if (this.paramConfig.DEBUG_FLAG)\n                                    console.log(\"elmObj:\", elmObj);\n                                break;\n                            }\n                            k++;\n                        }\n                        return elmObj;\n                    }\n                    let array = responseDataID.split(\".\");\n                    for (let i = 0; i < array.length; i++) {\n                        let returnKey = getKey(msgResponse, array[i]);\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"returnKey.length:\", returnKey.length);\n                        if (returnKey.length == 1)\n                            msgResponse = returnKey[0];\n                        else\n                            msgResponse = returnKey;\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"msgResponse:\", msgResponse);\n                    }\n                    return msgResponse;\n                }\n                /*\n                function  handleResponseEnd(ruleLog, msgResponse){\n                  let status = extractStatus (ruleLog, msgResponse);\n                  this.LogRule(ruleLog, msgResponse, status);\n        \n        \n                  //\t.RULE_ID + \",\" +  action.ACTION_ID + \",\" + users.getUserName() + \",\"  + dateIso;\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\"-------handleResponse:status:\" ,  status);\n                }\n                */\n                function getBody(msgResponse) {\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"msgResponse:\", msgResponse)\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"msgResponse:body\", msgResponse.body)\n                    return msgResponse.body;\n                }\n                /*\n                      let handleResponse = function(response,  ruleLog){\n                        let msgResponse = ''\n                        response.on('data', function (chunk) {\n                        msgResponse += chunk;\n                        });\n                        response.on('end', function () {\n                         handleResponseEnd(ruleLog, msgResponse);\n                         });\n              \n                      }\n                      */\n                let headers = {\n                    headers: new HttpHeaders()\n                        .set('Authorization', this.StrAuth)\n                        .set('Content-Type', \"application/json\")\n                };\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"here2:headers:\", headers);\n                if (bodyToSend == \"\")\n                    bodyToSend = null;\n                let bodyToSendKSON = JSON.parse(bodyToSend);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"here2:bodyToSendKSON:\", bodyToSendKSON);\n                let url = hostDef.URL + parametersToSend;\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"---url:\", url);\n                const request = new HttpRequest(options.method, url, bodyToSendKSON, headers);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"------------request:\", request, \" bodyToSendKSON:\", bodyToSendKSON);\n                let msgBodyAll;\n                this.syncFlag = 1;\n                //https://developpaper.com/getting-started-with-angular-http-client/\n                this.http.request(request)\n                    .subscribe((response) => {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\" call successful value returned in body\", response);\n                    let msgBody = getBody(response);\n                    if (typeof msgBody !== \"undefined\") {\n                        msgBodyAll = msgBody;\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"msgBodyAll:\", msgBodyAll);\n                    }\n                }, error => {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"PUT call in error:\", error);\n                    this.syncFlag = 0;\n                    this.showNotification(\"error\", \"error calling: \" + url + \":\" + error.error.error);\n                }, () => {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"The  observable is now completed:msgBodyAll:\", msgBodyAll);\n                    if (typeof msgBodyAll !== \"undefined\") {\n                        let status = extractStatus(ruleLog, msgBodyAll);\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"-------uleLog.rule:\", ruleLog.rule);\n                        if (Trigger == \"POST_QUERY\") {\n                            let responseDataID = ruleLog.rule.RESPONSE_DATA_ID;\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"TABS:responseDataID:\", responseDataID);\n                            let responseData = extractResponseData(msgBodyAll, responseDataID);\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"TABS:responseData:\", responseData);\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"TABS:ruleLog.rule.RESPONSE_DATA_NAME:\", ruleLog.rule.RESPONSE_DATA_NAME);\n                            if (typeof responseData !== \"undefined\") {\n                                object[ruleLog.rule.RESPONSE_DATA_NAME] = responseData;\n                                if (this.paramConfig.DEBUG_FLAG)\n                                    console.log(\"TABS:object.tabsAPIResponse:\", object.tabsAPIResponse);\n                            }\n                        }\n                        this.syncFlag = 0;\n                        this.LogRule(object, ruleLog, msgBodyAll, status);\n                    }\n                });\n                /*\n              let reqNew = this.http.request(options, function(response){ handleResponse(response,  ruleLog); });\n              reqNew.on('error', function(err) {\n                // Handle error\n                error = err;\n                msg = \"Error sending to Host :\" +sendTo ;\n                if (this.paramConfig.DEBUG_FLAG) console.log( msg + \" Error:\" + err );\n                this.LogRule(ruleLog, msg + \" Error:\" + err, 400 );\n              });\n      \n              if (this.paramConfig.DEBUG_FLAG) console.log(\"here1\");\n              reqNew.write(bodyToSend);\n              if (this.paramConfig.DEBUG_FLAG) console.log(\"here2\");\n              reqNew.end();\n              if (this.paramConfig.DEBUG_FLAG) console.log(\"here3\");\n              */\n            }\n        }\n        let statusRec = {\n            status: error,\n            msg: msg\n        };\n        /*let status = 1;\n        if (!valid){\n          statusRec.status = 1;\n          statusRec.msg =\n        }*/\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"valid:\", valid, \" status:\", statusRec);\n        return (statusRec);\n    }\n    sendToServer(object, actionsArr, queryData, rule, action, Trigger, hostsArr, hostsMapArr) {\n        function getElmValue(paramData, queryData) {\n            function getORDER_FIELDSData(param, orderFields) {\n                let val = \"\";\n                if (orderFields != \"\") {\n                    let array = param.split(\".\");\n                    let fieldName = array[1];\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"fieldName:\", fieldName, \" orderFields:\", orderFields);\n                    if (typeof orderFields !== \"undefined\") {\n                        orderFields = JSON.parse(orderFields);\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"orderFields:\", orderFields);\n                        let fieldsData = orderFields.data;\n                        val = fieldsData[fieldName];\n                    }\n                }\n                return val;\n            }\n            let val = paramData;\n            var n = 0;\n            n = paramData.search(\":\");\n            if (n != -1) {\n                let array = paramData.split(\":\");\n                for (let i = 0; i < array.length; i++) {\n                    if (i != 0) {\n                        n = array[i].search(\" \");\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"n:\", n, \"array[i]:\", array[i]);\n                        if (n == -1)\n                            n = array[i].length;\n                        if (n != -1) {\n                            let param = array[i].slice(0, n);\n                            param = param.trim();\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"param:\" + param);\n                            let nincludes = param.includes(\".\");\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"nincludes:\", nincludes);\n                            if (nincludes == true) {\n                                val = getORDER_FIELDSData(param, queryData.ORDER_FIELDS);\n                            }\n                            else\n                                val = queryData[param];\n                            if (typeof val == \"string\")\n                                val = val.trim();\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"param:\", param, \" val:\", val);\n                        }\n                    }\n                }\n            }\n            if (typeof val == \"string\")\n                val = val.split(\"'\").join(\"\");\n            return val;\n        }\n        function getHost(sendTo, hostsArr) {\n            let i = 0;\n            while (i < hostsArr.length) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"-----------hostsArr[i].HOST_ID :\", hostsArr[i].HOST_ID, \" sendTo:\", sendTo);\n                if (hostsArr[i].HOST_ID == sendTo)\n                    return hostsArr[i];\n                i++;\n            }\n            return null;\n        }\n        function getHostMap(hostDef, mapID, hostsMapArr) {\n            let i = 0;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"-----------mapID:\", mapID, \" hostDef.MAP_ID:\", hostDef.MAP_ID);\n            if ((mapID != null) && (mapID != \"\")) {\n                while (i < hostsMapArr.length) {\n                    if ((hostsMapArr[i].HOST_ID == hostDef.HOST_ID) && (mapID == hostsMapArr[i].MAP_ID))\n                        return hostsMapArr[i];\n                    i++;\n                }\n            }\n            return null;\n        }\n        ////////////////////\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"****************actionsArr:\", actionsArr);\n        let statusRec;\n        let sendTo = actionsArr.SEND_TO;\n        let qryParam = {};\n        let headerParam = {};\n        let bodyToSendArr = [];\n        let bodyToSend = \"\";\n        let parametersToSend = \"\";\n        let hostDef = getHost(sendTo, hostsArr);\n        let hostMapDef = getHostMap(hostDef, action.MAP_ID, hostsMapArr);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"hostMapDef:\", hostMapDef);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"****hostDef.HEADER:\", hostDef.HEADER);\n        if ((hostDef.HEADER != null) && (hostDef.HEADER != \"\")) {\n            let array = hostDef.HEADER.split(\"\\n\");\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"array:\", array, \" array.length:\", array.length);\n            for (let i = 0; i < array.length; i++) {\n                let elem = array[i];\n                let arrayParam = elem.split(\":\");\n                let param = arrayParam[0];\n                param = param.trim();\n                let paramData = arrayParam[1];\n                paramData = paramData.trim();\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"paramData:\", paramData);\n                paramData = getElmValue(paramData, queryData);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"-----------------------------param:\", param, \" paramData:\", paramData);\n                headerParam[param] = paramData;\n            }\n        }\n        if ((actionsArr.BODY_DATA != null) && (actionsArr.BODY_DATA != \"\")) {\n            let bodyData = actionsArr.BODY_DATA;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"bodyData:\", bodyData);\n            let array = bodyData.split(\",\");\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"array:\", array, \" array.length:\", array.length);\n            for (let i = 0; i < array.length; i++) {\n                let elem = array[i];\n                let arrayParam = elem.split(\"=\");\n                let param = arrayParam[0];\n                param = param.trim();\n                let paramData = arrayParam[1];\n                paramData = paramData.trim();\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"paramData:\", paramData);\n                paramData = getElmValue(paramData, queryData);\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"-----------------------------param:\", param, \" paramData:\", paramData);\n                qryParam[param] = paramData;\n            }\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"qryParam:here\");\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"qryParam:\", qryParam , \" qryParam.length :\", Object.keys(qryParam).length);\n            bodyToSendArr.push(qryParam);\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"---hostDef:\", hostDef);//fuad\n            if (bodyToSendArr.length != 0) {\n                /*if ( (hostMapDef != null) &&  (hostMapDef.XSLT_SEND != null) && (hostMapDef.XSLT_SEND != \"\") )\n                {\n                  {\n                    bodyToSend = xsltmap.mapData(bodyToSendArr, hostMapDef.XSLT_SEND);\n      \n                  }\n                }\n                else\n                {*/\n                bodyToSend = JSON.stringify(bodyToSendArr);\n                //}\n            }\n            /*\n            let hexout = hexdump(bodyToSend, 16) ;\n            if (this.paramConfig.DEBUG_FLAG) console.log(\"hexout:\",hexout);\n            */\n        }\n        if ((actionsArr.PARAMETER_DATA != null) && (actionsArr.PARAMETER_DATA != \"\")) {\n            let parameterData = actionsArr.PARAMETER_DATA;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"parameterData:\", parameterData);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"parameterData.length:\", parameterData.length);\n            let array = parameterData.split(\",\");\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"array:\", array, \" array.length:\", array.length);\n            for (let i = 0; i < array.length; i++) {\n                let elem = array[i];\n                let arrayParam = elem.split(\"=\");\n                let param = arrayParam[0];\n                param = param.trim();\n                let paramData = arrayParam[1];\n                paramData = paramData.trim();\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"paramData:\", paramData);\n                paramData = getElmValue(paramData, queryData);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"-----------------------------param:\", param, \" paramData:\", paramData);\n                if (parametersToSend == \"\")\n                    parametersToSend = \"?\" + param + \"=\" + paramData;\n                else\n                    parametersToSend = parametersToSend + \"&\" + param + \"=\" + paramData;\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"bodyToSend:\", bodyToSend);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"parametersToSend:\", parametersToSend);\n        statusRec = this.performHttpPost(object, bodyToSend, parametersToSend, sendTo, queryData, rule, action, Trigger, hostDef, hostMapDef, headerParam);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"post performHttpPost: status:\", statusRec);\n        return statusRec;\n    }\n    performAction(object, qry, ptr, queryData, rule, rulesDef, Trigger, hostsArr, hostsMapArr) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"---performAction:rulesDef:\", rulesDef);\n        let status = 0;\n        let statusRec = {\n            status: 0,\n            msg: \"\"\n        };\n        let actionPtr = rulesDef.actionPtrsArr[qry];\n        if (typeof actionPtr !== \"undefined\") {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"ptr:\", ptr);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"actionPtr:\", actionPtr);\n            let i = ptr;\n            let ptr2 = \"\";\n            let ptr1 = actionPtr[i];\n            if (typeof actionPtr[i + 1] !== \"undefined\")\n                ptr2 = actionPtr[i + 1];\n            else\n                ptr2 = rulesDef.actionsArr.length;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"ptr1:\", ptr1, \" ptr2:\", ptr2);\n            let j = ptr1;\n            let ruleID = rulesDef.actionsArr[j].RULE_ID;\n            while ((j < ptr2) && (status == 0)) {\n                if (ruleID != rulesDef.actionsArr[j].RULE_ID) {\n                    break;\n                }\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"rulesDef.actionsArr:\",rulesDef.actionsArr[j]);\n                if ((rulesDef.actionsArr[j].ACTION_CODE == \"SEND\") || (rulesDef.actionsArr[j].ACTION_CODE == \"SEND_WAIT\")) {\n                    statusRec = this.sendToServer(object, rulesDef.actionsArr[j], queryData, rule, rulesDef.actionsArr[j], Trigger, hostsArr, hostsMapArr);\n                    status = statusRec.status;\n                }\n                j++;\n            }\n        }\n        return statusRec;\n    }\n    checkRulesByTrigger(object, rulesDef, queryData, Trigger, routine_name, hostsArr, hostsMapArr) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checkRulesByTrigger:rulesDef:\", rulesDef, \" queryData:\", queryData);\n        let statusRec;\n        function getFieldData(rule, queryData) {\n            let fieldData = \"\";\n            let array = rule.FIELD.split(\".\");\n            console.log(\"array:\", array);\n            if (array.length > 1) {\n                let orderFields = queryData[\"ORDER_FIELDS\"];\n                //console.log(\"orderFields:\",orderFields)\n                if (typeof orderFields !== \"undefined\") {\n                    if (orderFields != \"\") {\n                        let fieldsData = JSON.parse(orderFields);\n                        //console.log(\"fieldsData:\",fieldsData)\n                        let keys = Object.keys(fieldsData);\n                        console.log(\"keys:\", keys);\n                        for (let j = 0; j < keys.length; j++) {\n                            console.log(\"addOrderFields key:\", keys[j]);\n                            if (keys[j] == array[0]) {\n                                let objData = fieldsData[keys[j]];\n                                //console.log(\"objData:\", objData );\n                                if (typeof (objData.length) == \"undefined\") // it is a form (object)\n                                    fieldData = objData[array[1]];\n                                else { // it is a grid (array)\n                                    if (typeof (objData[0]) != \"undefined\")\n                                        fieldData = objData[0][array[1]];\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                fieldData = queryData[rule.FIELD];\n            }\n            return fieldData;\n        }\n        function checkRule(rule, queryData) {\n            let ruleMatch = false;\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"------rule:\",rule, \" queryData:\", queryData);\n            //let fieldData = queryData[rule.FIELD];\n            let fieldData = getFieldData(rule, queryData);\n            switch (rule.OPERATION) {\n                case \"=\":\n                    if (fieldData == rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \"<\":\n                    if (fieldData < rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \"<=\":\n                    if (fieldData <= rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \">\":\n                    if (fieldData > rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \">=\":\n                    if (fieldData >= rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \"<>\":\n                    if (fieldData != rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \"INSTR\":\n                    if (rule.FIELD_VALUE.search(fieldData) != -1) {\n                        ruleMatch = true;\n                    }\n                    break;\n                default:\n                    ruleMatch = false;\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test3:ruleMatch:\", ruleMatch, \" fieldData:\", fieldData, \" OPERATION:\", rule.OPERATION, \" FIELD_VALUE:\", rule.FIELD_VALUE);\n            return ruleMatch;\n        }\n        let status = 0;\n        statusRec = {\n            status: 0,\n            msg: \"\"\n        };\n        let qry = queryData._QUERY;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"-------- _QUERY:\", queryData._QUERY, \" rulesDef.rulePtrsArr:\", rulesDef.rulePtrsArr);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checking rulesDef.rulePtrsArr:\", rulesDef.rulePtrsArr);\n        let rulePtr = rulesDef.rulePtrsArr[qry];\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"rulePtr:\", rulePtr);\n        if (typeof rulePtr !== \"undefined\") {\n            //let actionPtr = rulesDef.rulePtrsArr[qry];\n            //if (typeof actionPtr !== \"undefined\")\n            {\n                let result = false;\n                let i = 0;\n                //while ( (i<rulePtr.length) && (status == 0) )\n                {\n                    var ptr1 = rulePtr[i];\n                    var ptr2 = rulePtr[rulePtr.length - 1];\n                    // if (typeof rulePtr[i+1] !== \"undefined\")\n                    //     var ptr2 = rulePtr[i+1];\n                    // else\n                    //     //var ptr2 = rulesDef.rulesArr.length\n                    //     var ptr2 = ptr1+1\n                    //console.log(\"ptr1:\",ptr1, \" ptr2:\", ptr2);\n                    var j = ptr1;\n                    while (j <= ptr2) {\n                        //console.log(\"--------------------rulesDef.rulesArr:\", rulesDef.rulesArr[j].RULE_ID, \" item:\", rulesDef.rulesArr[j].ITEM);\n                        var ruleMatch = checkRule(rulesDef.rulesArr[j], queryData);\n                        if (ruleMatch == false)\n                            break;\n                        j++;\n                    }\n                    console.log(\"checkRulesByTrigger:Conditions ruleMatch:\", ruleMatch, \" for rule:\", rulesDef.rulesArr[ptr1].RULE_ID);\n                    if (ruleMatch == true) {\n                        //statusRec = performAction(db,req, qry, i, queryData, rulesDef.rulesArr[ptr1],rulesDef, Trigger );\n                        statusRec = this.performAction(object, qry, i, queryData, rulesDef.rulesArr[ptr1], rulesDef, Trigger, hostsArr, hostsMapArr);\n                        status = statusRec.status;\n                    }\n                    //if (ruleMatch == false)\n                    //  break;\n                    i++;\n                }\n            }\n        }\n        return statusRec;\n    }\n    checkRules(object, rulesDef, actualResult, Trigger) {\n        if (this.paramConfig.isCheckRules == false)\n            return;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checkRules:\", Trigger, \" routine_name:\", this.routine_name, \" actualResult:\", actualResult);\n        if (Trigger == \"POST_QUERY\") {\n            if (typeof actualResult.data[0] !== \"undefined\") {\n                let transData = actualResult.data[0].data;\n                for (let i = 0; i < transData.length; i++) {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"checkRules:transData[i]:\", transData[i], i);\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"checkRules:actualResult.data[0].query:\", actualResult.data[0].query);\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"checkRules:actualResult.data[0] HF please\", actualResult.data[0].data);\n                    let queryData = transData[i];\n                    queryData[\"_QUERY\"] = actualResult.data[0].query;\n                    //       if (this.paramConfig.DEBUG_FLAG) console.log(\"queryData:\", queryData)\n                    this.checkRulesByTrigger(object, rulesDef, queryData, Trigger, this.routine_name, this.hostsArr, this.hostsMapArr);\n                }\n            }\n        }\n        else if (Trigger == \"PRE_QUERY\") {\n            if (typeof actualResult !== \"undefined\") {\n                for (let i = 0; i < actualResult.length; i++) {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"actualResult[i]:\", actualResult[i]);\n                    let queryData = actualResult[i];\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"queryData:\", queryData);\n                    this.checkRulesByTrigger(object, rulesDef, queryData, Trigger, this.routine_name, this.hostsArr, this.hostsMapArr);\n                }\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checkRules:Done\", Trigger, \" routine_name:\", this.routine_name, \" actualResult:\", actualResult);\n        return Trigger;\n    }\n    //////////////\n    storeActionsPtrs(actions, rulesDef) {\n        let currentQUERY_DEF = \"\";\n        let currentRULE_ID = \"\";\n        let actionPtrs = [];\n        for (let i = 0; i < actions.length; i++) {\n            if ((currentQUERY_DEF != actions[i].QUERY_DEF) && (currentRULE_ID != actions[i].RULE_ID)) {\n                if (i == 0)\n                    actionPtrs.push(i);\n                if (currentQUERY_DEF != \"\") {\n                    rulesDef.actionPtrsArr[currentQUERY_DEF] = actionPtrs;\n                    actionPtrs = [];\n                    actionPtrs.push(i);\n                }\n                currentQUERY_DEF = actions[i].QUERY_DEF;\n                currentRULE_ID = actions[i].RULE_ID;\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"rulePtrs1:\",rulePtrs);\n            }\n            else if ((currentQUERY_DEF == actions[i].QUERY_DEF) && (currentRULE_ID != actions[i].RULE_ID)) {\n                currentRULE_ID = actions[i].RULE_ID;\n                actionPtrs.push(i);\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"actionPtrs2:\", actionPtrs);\n        }\n        //actionPtrs.push(i);\n        rulesDef.actionPtrsArr[currentQUERY_DEF] = actionPtrs;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"rulesDef.actionPtrsArr:\", rulesDef.actionPtrsArr);\n    }\n    storeRulesPtrs(rules, rulesDef) {\n        let currentQUERY_DEF = \"\";\n        let currentRULE_ID = \"\";\n        let rulePtrs = [];\n        for (let i = 0; i < rules.length; i++) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(rules[i].QUERY_DEF + \" : \" + rules[i].RULE_ID + \"          \" + currentQUERY_DEF + \" : \" + currentRULE_ID);\n            if ((currentQUERY_DEF != rules[i].QUERY_DEF) && (currentRULE_ID != rules[i].RULE_ID)) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\" not equal\");\n                if (i == 0)\n                    rulePtrs.push(i);\n                if (currentQUERY_DEF != \"\") {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"--storing rulePtrs2:\", rulePtrs);\n                    rulesDef.rulePtrsArr[currentQUERY_DEF] = rulePtrs;\n                    rulePtrs = [];\n                    rulePtrs.push(i);\n                }\n                currentQUERY_DEF = rules[i].QUERY_DEF;\n                currentRULE_ID = rules[i].RULE_ID;\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"rulePtrs1:\",rulePtrs);\n            }\n            else if ((currentQUERY_DEF == rules[i].QUERY_DEF) && (currentRULE_ID != rules[i].RULE_ID)) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\" not equal2\");\n                rulePtrs.push(i);\n                currentRULE_ID = rules[i].RULE_ID;\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"rulePtrs2:\", rulePtrs);\n            }\n            else if ((currentQUERY_DEF == rules[i].QUERY_DEF) && (currentRULE_ID == rules[i].RULE_ID)) {\n                //console.log(\" equal3\");\n                rulePtrs.push(i);\n                currentRULE_ID = rules[i].RULE_ID;\n                //console.log(\"rulePtrs3:\",rulePtrs);\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"rulePtrs2:\", rulePtrs);\n        }\n        //rulePtrs.push(i);\n        rulesDef.rulePtrsArr[currentQUERY_DEF] = rulePtrs;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test3:rulesDef.rulePtrsArr:\", rulesDef.rulePtrsArr);\n    }\n    //////////////\n    loadRules(object) {\n        object.Body = [];\n        let Page = \"\";\n        let NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_DEF_RULE_ITEM\";\n        NewVal[\"RULE_TRIGGER\"] = \"POST_QUERY\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:NewVal:\", NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:object.Body:\", object.Body);\n        object.addToBody(NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:object.Body:\", object.Body);\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_DEF_RULE_ACTION\";\n        NewVal[\"RULE_TRIGGER\"] = \"POST_QUERY\";\n        object.addToBody(NewVal);\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_HOST\";\n        NewVal[\"HOST_ID\"] = \"%\";\n        object.addToBody(NewVal);\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_HOST_MAP\";\n        NewVal[\"HOST_ID\"] = \"%\";\n        NewVal[\"MAP_ID\"] = \"%\";\n        object.addToBody(NewVal);\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:result.data:\", result.data);\n            this.rulesPostQueryDef.rulePtrsArr = [];\n            this.rulesPostQueryDef.actionPtrsArr = [];\n            this.storeRulesPtrs(result.data[0].data, this.rulesPostQueryDef);\n            this.rulesPostQueryDef.rulesArr = result.data[0].data;\n            this.storeActionsPtrs(result.data[1].data, this.rulesPostQueryDef);\n            this.rulesPostQueryDef.actionsArr = result.data[1].data;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:this.rulesPostQueryDef\", this.rulesPostQueryDef);\n            this.hostsArr = result.data[2].data;\n            this.hostsMapArr = result.data[3].data;\n            //////////////\n            object.Body = [];\n        }, err => {\n            object.Body = [];\n            this.showNotification(\"error\", \"error:\" + err.message);\n        });\n        //////////////////////////////\n        //////////////\n        object.Body = [];\n        Page = \"\";\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_DEF_RULE_ITEM\";\n        NewVal[\"RULE_TRIGGER\"] = \"PRE_QUERY\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:NewVal:\", NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:object.Body:\", object.Body);\n        object.addToBody(NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:object.Body:\", object.Body);\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_DEF_RULE_ACTION\";\n        NewVal[\"RULE_TRIGGER\"] = \"PRE_QUERY\";\n        object.addToBody(NewVal);\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:result.data:\", result.data);\n            //////////////\n            this.rulesPreQueryDef.rulePtrsArr = [];\n            this.rulesPreQueryDef.actionPtrsArr = [];\n            this.storeRulesPtrs(result.data[0].data, this.rulesPreQueryDef);\n            this.rulesPreQueryDef.rulesArr = result.data[0].data;\n            this.storeActionsPtrs(result.data[1].data, this.rulesPreQueryDef);\n            this.rulesPreQueryDef.actionsArr = result.data[1].data;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:this.rulesPreQueryDef\", this.rulesPreQueryDef);\n            //////////////\n            object.Body = [];\n        }, err => {\n            object.Body = [];\n            this.showNotification(\"error\", \"error:\" + err.message);\n        });\n    }\n    fetchLookups(object, lookupArrDef) {\n        let Body = [];\n        for (let i = 0; i < lookupArrDef.length; i++) {\n            let NewVal = {};\n            NewVal[\"_QUERY\"] = \"GET_STMT\";\n            NewVal[\"_STMT\"] = lookupArrDef[i].statment;\n            Body = this.addToBody(NewVal, Body);\n        }\n        let Page = \"\";\n        this.post(object, Page, Body).subscribe(result => {\n            for (let i = 0; i < lookupArrDef.length; i++) {\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"result.data[i].data:\",result.data[i].data[0])\n                if (typeof result.data[i] !== \"undefined\") {\n                    if (typeof result.data[i].data[0] !== \"undefined\") {\n                        //add empty record at begining of the array for the LOV for insert new record in a grid work properly\n                        let keys = Object.keys(result.data[i].data[0]);\n                        let emptyRec = {};\n                        let hasSpace = false;\n                        // let codeTxt = keys[0];\n                        // let dataSet = Object.assign([], result.data[i].data);\n                        // dataSet.find(elem =>{\n                        //   //console.log(\"elm:\",elem);\n                        //   if (elem[codeTxt].trim() == \"\"){\n                        //     hasSpace = true;\n                        //     return true;\n                        //   }\n                        // });\n                        if (!hasSpace) {\n                            for (let k = 0; k < keys.length; k++) {\n                                //if (this.paramConfig.DEBUG_FLAG) console.log(\"[keys[k]:\", keys[k]);\n                                //console.log(\"[keys[k]:\", keys[k]);\n                                emptyRec[keys[k]] = \"\";\n                                //object.primarKeyReadOnlyArr[keys[k]] = value;\n                            }\n                            //if (this.paramConfig.DEBUG_FLAG) console.log(\"emptyRec:\",emptyRec)\n                            //console.log(\"emptyRec:\",emptyRec);\n                            result.data[i].data.splice(0, 0, emptyRec);\n                        }\n                    }\n                    object[lookupArrDef[i].lkpArrName] = result.data[i].data;\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"lookupArrDef[i].lkpArrName:\", lookupArrDef[i].lkpArrName, object[lookupArrDef[i].lkpArrName])\n                }\n            }\n            if (typeof object.fetchLookupsCallBack !== \"undefined\")\n                object.fetchLookupsCallBack();\n        }, err => {\n            //alert ('error:' + err.message);\n            this.showErrorMsg(object, err);\n        });\n    }\n    performPost(object, fn) {\n        let Page = \"\";\n        this.post(object, Page, object.Body).subscribe(result => {\n            fn(object, result);\n            object.Body = [];\n        }, err => {\n            //alert ('error:' + err.message);\n            this.showErrorMsg(object, err);\n        });\n    }\n    setComponentConfig(componentConfig, screenConfig) {\n        let keys = Object.keys(componentConfig);\n        for (let i = 0; i < keys.length; i++) {\n            //if (this.paramConfig.DEBUG_FLAG) console.log( keys[i] + \" \" + componentConfig[ keys[i] ] ) ;\n            if (componentConfig[keys[i]] != null) {\n                screenConfig[keys[i]] = componentConfig[keys[i]];\n            }\n        }\n        //if (this.paramConfig.DEBUG_FLAG) console.log(screenConfig);\n        return screenConfig;\n    }\n    getRoutineAuth(menu, routine_name) {\n        let i = 0;\n        let routineAuth;\n        let found = false;\n        if (typeof menu !== \"undefined\") {\n            while (i < menu.length) {\n                let j = 0;\n                while (j < menu[i].children.length) {\n                    if (menu[i].children[j].choice == routine_name) {\n                        routineAuth = menu[i].children[j];\n                        found = true;\n                        break;\n                    }\n                    j++;\n                }\n                if (found)\n                    break;\n                i++;\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"routine_name:\", routine_name, \"routineAuth:\", routineAuth, \" menu:\", menu);\n        return (routineAuth);\n    }\n    actOnParamConfig(object, routine_name) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"routine_name:\" + routine_name);\n        let paramConfig = getParamConfig();\n        let menu = paramConfig.menu;\n        let routineAuth = this.getRoutineAuth(menu, routine_name);\n        if (typeof routineAuth !== \"undefined\") {\n            object.title = routineAuth.title + \" (\" + routineAuth.routineVer + \")\";\n            object.routineAuth = routineAuth;\n            this.routine_name = routine_name;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"object.title:\" + object.title);\n        }\n        else if (routine_name == \"DSPEKYC\") {\n            this.routine_name = routine_name;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"this.routine_name:\" + this.routine_name);\n    }\n    showErrorMsg(object, serverError) {\n        let errorMsg = \"\";\n        if (typeof serverError.error == \"undefined\") {\n            errorMsg = this.standardErrorMsg + \" : \" + serverError;\n        }\n        else\n            errorMsg = this.standardErrorMsg + \" : \" + serverError.error.error;\n        let dialogStruc = {\n            msg: errorMsg,\n            title: \"Error\",\n            info: null,\n            object: object,\n            action: this.OkActions,\n            callback: null\n        };\n        this.showConfirmation(dialogStruc);\n    }\n    sendGetCommand(url, page) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\" inside sendGetCommand\");\n        let theURL = url + page;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\" inside sendGetCommand:theURL:\", theURL);\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"sendGetCommand theURL:\" + theURL);\n        return this.http\n            .get(`${theURL}`, this.httpOptions)\n            .pipe(catchError((err) => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"server error:\", err.message);\n            this.showNotification(\"error\", \"error:\" + err.message);\n            return throwError(err);\n        }), map(response => response), tap(() => this.loading = false));\n    }\n    postCommand(page, url, Body) {\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\" inside postCommand\")\n        let theURL = url; //this.EPMENG_URL + page;\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"postCommand theURL:\" + theURL);\n        return this.http\n            .post(`${theURL}`, Body, this.httpOptions)\n            .pipe(catchError((err) => {\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"server error:\", err.message)\n            this.showNotification(\"error\", \"error:\" + err.message);\n            return throwError(err);\n        }), map(response => response), tap(() => this.loading = false));\n    }\n    CapitalizeFirst(str) {\n        str = str.toLowerCase();\n        str = str.charAt(0).toUpperCase() + str.slice(1);\n        return str;\n    }\n    CapitalizeTitle(fieldName) {\n        let array = fieldName.split(\"_\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"array:\", array);\n        for (let i = 0; i < array.length; i++)\n            array[i] = this.CapitalizeFirst(array[i]);\n        fieldName = array.join(\" \");\n        return fieldName;\n    }\n    prepareLookup(fieldName, paramConfig) {\n        let lkpArrName = \"lkpArr\" + fieldName;\n        let lkpDef;\n        if (fieldName == \"ASSIGNEE\") {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"starServices.sessionParams.USER_INFO:\", this.sessionParams.USER_INFO);\n            let team = this.sessionParams.USER_INFO.TEAM;\n            lkpDef = { \"statment\": \"select USERNAME CODE, FULLNAME CODETEXT_LANG from  ADM_USER_INFORMATION where TEAM = '\" + team + \"' \",\n                \"lkpArrName\": lkpArrName, \"fieldName\": fieldName };\n        }\n        else {\n            lkpDef = { \"statment\": \"SELECT CODE,  CODETEXT_LANG FROM SOM_TABS_CODES WHERE CODENAME = '\" + fieldName + \"' and LANGUAGE_NAME = '\" + paramConfig.userLang + \"' order by CODETEXT_LANG  \",\n                \"lkpArrName\": lkpArrName, \"fieldName\": fieldName };\n        }\n        return lkpDef;\n    }\n    getAssigneeSelect(object, assigneeType) {\n        let selectStmt;\n        if (assigneeType == \"TEAM\") {\n            selectStmt = \"SELECT CODE, CODETEXT_LANG FROM SOM_TABS_CODES WHERE CODENAME ='TEAM' and LANGUAGE_NAME = '\" + object.paramConfig.userLang + \"'  order by CODETEXT_LANG \";\n        }\n        else if (assigneeType == \"PERSON\") {\n            selectStmt = \"SELECT USERNAME  CODE, FULLNAME CODETEXT_LANG FROM ADM_USER_INFORMATION WHERE TEAM ='\" + object.starServices.sessionParams.USER_INFO.TEAM + \"' order by CODETEXT_LANG \";\n        }\n        else if (assigneeType == \"NETWORK\") {\n            selectStmt = \"SELECT CODE, CODETEXT_LANG FROM SOM_TABS_CODES WHERE CODENAME ='EXCH_SYST' and LANGUAGE_NAME = '\" + object.paramConfig.userLang + \"' order by CODETEXT_LANG\";\n        }\n        return selectStmt;\n    }\n    getFirstWeekDay(object, value) {\n        let valueDate;\n        let firstWeekDay = \"Monday\";\n        if (typeof object.paramConfig.firstWeekDay !== \"undefined\") {\n            firstWeekDay = object.paramConfig.firstWeekDay;\n        }\n        valueDate = firstDayInWeek(new Date(value), Day[firstWeekDay]);\n        valueDate = getDate(valueDate);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"valueDate:\", valueDate);\n        return valueDate;\n    }\n    setRTL() {\n        let paramConfig = getParamConfig();\n        let language = paramConfig.userLang;\n        language = language.toLowerCase();\n        let parg = document.getElementById(\"mainpage\");\n        const svc = this.messages;\n        //svc.language = svc.language === 'es' ? 'he' : 'es';\n        //svc.language = language;\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"setRTL:language:\", language)\n        if (language == \"ar\") {\n            parg.dir = \"rtl\";\n            this.messages.notify(true);\n        }\n        else {\n            parg.dir = \"ltr\";\n            this.messages.notify(false);\n        }\n    }\n    loadLanguageOld(language) {\n        language = !language ? \"en\" : language;\n        let file = \"assets/lang/\" + language + \".json\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"loadLanguage:file,\", file);\n        this.http.get(file).subscribe(data => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:data,\", data);\n            let paramConfig = {\n                \"Name\": \"titles\",\n                \"Val\": data\n            };\n            setParamConfig(paramConfig);\n            this.paramConfig = getParamConfig();\n            paramConfig = {\n                \"Name\": \"userLang\",\n                \"Val\": language.toUpperCase()\n            };\n            setParamConfig(paramConfig);\n            this.setRTL();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"document.documentElement.dir:\", document.documentElement.dir == 'ltr');\n        }, err => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:err,\", err);\n            //alert ('error:' + err.message);\n            //this.showErrorMsg(object, err);\n        });\n    }\n    loadLanguage(language) {\n        language = !language ? \"en\" : language;\n        let file = \"lang/\" + language + \".json\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"loadLanguage:file,\", file);\n        let page = \"?getfile=\" + file;\n        page = this.checkDBLoc(page);\n        page = encodeURI(page);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"loadLanguage:page,\", page);\n        this.sendGetCommand(this.SERVER_URL, page).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:result,\", result);\n            let data = result.data;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:data,\", data);\n            let paramConfig = {\n                \"Name\": \"titles\",\n                \"Val\": data\n            };\n            setParamConfig(paramConfig);\n            this.paramConfig = getParamConfig();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"this.paramConfig.titles,\", this.paramConfig.titles);\n            paramConfig = {\n                \"Name\": \"userLang\",\n                \"Val\": language.toUpperCase()\n            };\n            setParamConfig(paramConfig);\n            this.setRTL();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"document.documentElement.dir:\", document.documentElement.dir == 'ltr');\n        }, err => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:err,\", err);\n            //alert ('error:' + err.message);\n            //this.showErrorMsg(object, err);\n        });\n    }\n    getNLS(params, id, text) {\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"getNLS:id,\",id);\n        if (typeof this.paramConfig !== \"undefined\") {\n            if (typeof this.paramConfig.titles !== \"undefined\") {\n                let array = id.split(\".\");\n                if (array.length == 3) {\n                    if (typeof this.paramConfig.titles[array[0]] !== \"undefined\")\n                        if (typeof this.paramConfig.titles[array[0]] !== \"undefined\")\n                            if (typeof this.paramConfig.titles[array[0]][array[1]] !== \"undefined\") {\n                                if (typeof this.paramConfig.titles[array[0]][array[1]][array[2]] !== \"undefined\")\n                                    if (this.paramConfig.titles[array[0]][array[1]][array[2]] != \"\")\n                                        text = this.paramConfig.titles[array[0]][array[1]][array[2]];\n                            }\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"getNLS:text,\",text);\n                }\n                else {\n                    let nls_title = this.paramConfig.titles[id];\n                    if (typeof nls_title !== \"undefined\") {\n                        text = nls_title;\n                    }\n                }\n            }\n        }\n        if (params.length > 0) {\n            let strArray = text.split(\"##\");\n            text = \"\";\n            for (let i = 0; i < strArray.length; i++) {\n                if (typeof params[i] != \"undefined\")\n                    text = text + strArray[i] + params[i];\n                else\n                    text = text + strArray[i];\n            }\n            console.log(text);\n        }\n        return text;\n    }\n    loadStatements(statements) {\n        if (statements == \"\")\n            statements = \"statements.json\";\n        let page = \"?getfile=\" + statements;\n        page = this.checkDBLoc(page);\n        page = encodeURI(page);\n        this.sendGetCommand(this.SERVER_URL, page).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:result,\", result);\n            let data = result.data;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:data,\", data);\n            let lkpArrQUERY_DEF = [];\n            Object.keys(data).forEach(function (key) {\n                let value = data[key];\n                let rec = {\n                    CODE: key,\n                    CODETEXT_LANG: key,\n                    statement: value\n                };\n                lkpArrQUERY_DEF.push(rec);\n            });\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:data,\", data);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:lkpArrQUERY_DEF,\", lkpArrQUERY_DEF);\n            let paramConfig = {\n                \"Name\": \"statements\",\n                \"Val\": data\n            };\n            setParamConfig(paramConfig);\n            paramConfig = {\n                \"Name\": \"lkpArrQUERY_DEF\",\n                \"Val\": lkpArrQUERY_DEF\n            };\n            setParamConfig(paramConfig);\n        }, err => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:err,\", err);\n        });\n    }\n    loadStatementsOld() {\n        let file = \"assets/\" + \"statements.json\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"loadStatements:file,\", file);\n        this.http.get(file).subscribe(data => {\n            let lkpArrQUERY_DEF = [];\n            Object.keys(data).forEach(function (key) {\n                let value = data[key];\n                let rec = {\n                    CODE: key,\n                    CODETEXT_LANG: key,\n                    statement: value\n                };\n                lkpArrQUERY_DEF.push(rec);\n            });\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:data,\", data);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:lkpArrQUERY_DEF,\", lkpArrQUERY_DEF);\n            let paramConfig = {\n                \"Name\": \"statements\",\n                \"Val\": data\n            };\n            setParamConfig(paramConfig);\n            paramConfig = {\n                \"Name\": \"lkpArrQUERY_DEF\",\n                \"Val\": lkpArrQUERY_DEF\n            };\n            setParamConfig(paramConfig);\n        }, err => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:err,\", err);\n        });\n    }\n    handleFetchedModules(object, data) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log('fetchedModules : ', data[0].data);\n        //this.items[0].items =  data;\n        object.items = [\n            {\n                text: 'Select Module',\n                items: data[0].data\n            }\n        ];\n        object.setModuleName(object.currentMenu);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.items:\", object.items, \"data[0].data.length:\", data[0].data.length);\n        if (data[0].data.length == 1) {\n            object.showModuleSelection = false;\n        }\n    }\n    fetchMenu(object, handleFetchedData) {\n        if ((this.StrAuth == \"\") || (typeof this.StrAuth === \"undefined\"))\n            return;\n        let Page = \"\";\n        this.post(this, Page, object.Body).subscribe(result => {\n            handleFetchedData(object, result.data);\n            object.Body = [];\n        }, err => {\n            alert('error:' + err.message);\n        });\n    }\n    setModuleItems(object) {\n        if (!object.staticMenu) {\n            object.Body = [];\n            let NewVal = {\n                MENU: 'MAIN',\n                CHOICES: object.paramConfig.licensedModules.toUpperCase(),\n                LANGUAGE_NAME: object.paramConfig.userLang.toUpperCase(),\n            };\n            NewVal[\"_QUERY\"] = \"GET_ALLOWED_MODULES\";\n            object.addToBody(NewVal);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"--------object.Body :\", object.Body);\n            this.fetchMenu(object, this.handleFetchedModules);\n        }\n    }\n    stateChange(object, data) {\n        //public stateChange(object:any, data: Array<PanelBarItemModel>): boolean {\n        if (object.staticMenu == true) {\n            const focusedEvent = data.items.filter(item => item.focused === true)[0];\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\" in stateChange : \" + focusedEvent.id);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(focusedEvent);\n            if (focusedEvent.title == \"Formatting Flow\") {\n                object.showPanelbar = false;\n            }\n            console.log(\"object.isPhonePortrait:\", object.isPhonePortrait, object.showPanelbar);\n            //this.selectedId = focusedEvent.id;\n            //this.router.navigate(['/' + focusedEvent.id]);\n            //this.starServices.setRTL();\n            return true; //Fuad check if it should return false or true\n        }\n        const focusedEvent = data.items.filter(item => item.focused === true)[0];\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\" in stateChange : \", focusedEvent.id);\n        let routineAuth = this.getRoutineAuth(object.menu, focusedEvent.id);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\" in stateChange : \", focusedEvent.id, \"routineAuth :\", routineAuth);\n        if (focusedEvent.id == \"PRVFLOW\")\n            object.showPanelbar = false;\n        if (typeof routineAuth !== \"undefined\") {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\" in stateChange : routineAuth.authLevel:\" + routineAuth.authLevel);\n            if (routineAuth.authLevel == 0) {\n                let dialogStruc = {\n                    msg: this.noAccessMsg,\n                    title: \"Warning\",\n                    info: null,\n                    object: this,\n                    action: this.OkActions,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                return false;\n            }\n            else {\n                object.selectedId = focusedEvent.id;\n                this.sessionParams[\"PrvUserFlow\"] = \"\";\n                this.sessionParams[\"PrvUserCDR\"] = \"\";\n                if (object.selectedId == \"PRVFLOW\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"PRV_BLD\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"PRV_CDR\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"CCMCAT\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"CRC_CAT\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"CRC_USER_INFO\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"CCMGRP\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"CRC_GROUP\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"CRC_GROUP_INFO\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"CMGCAT\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"CAM_CAT\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"CAM_USER_INFO\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"CMGGRP\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"CAM_GROUP\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"CAM_GROUP_INFO\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"BILLING\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"BILLING\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"BILLING_CDR\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId.startsWith(\"PORTAL_\")) //Fuad : RND\n                 {\n                    this.sessionParams[\"PORTAL_FORM\"] = focusedEvent.id;\n                    focusedEvent.id = 'DSPPORTAL';\n                }\n                //FUAD: check if below code till else is needed\n                if (object.router.routerState.snapshot.url == ('/' + focusedEvent.id)) {\n                    object.router.navigateByUrl('', { skipLocationChange: true }).then(() => object.router.navigate(['/' + focusedEvent.id], { skipLocationChange: true, replaceUrl: true, preserveFragment: false }));\n                }\n                else\n                    object.router.navigate(['/' + focusedEvent.id], { skipLocationChange: true, replaceUrl: true, preserveFragment: false });\n                if (object.isPhonePortrait) {\n                    object.showPanelbar = false;\n                }\n                //this.starServices.setRTL();\n                //this.showPanelbar = false;\n            }\n        }\n        return false;\n    }\n    setPanelBar(object) {\n        if (!object.staticMenu) {\n            object.Body = [];\n            let NewVal = {\n                MENU: object.currentMenu.toUpperCase(),\n                USERNAME: object.starServices.sessionParams.USERNAME.toUpperCase(),\n                LANGUAGE_NAME: object.paramConfig.userLang.toUpperCase()\n            };\n            NewVal[\"_QUERY\"] = \"GET_MENU_ROUTINES\";\n            object.addToBody(NewVal);\n            let NewVal1 = {\n                MENU: \"\",\n                USERNAME: object.starServices.sessionParams.USERNAME.toUpperCase()\n            };\n            NewVal1[\"_QUERY\"] = \"GET_ROUTINES_AUTHORITY\";\n            object.addToBody(NewVal1);\n            this.fetchMenu(object, this.handleFetchedPanelBar);\n        }\n    }\n    handleFetchedPanelBar(object, data) {\n        function checkAuthData(routine_name, authData) {\n            let i = 0;\n            let routineAuth;\n            while (i < authData.length) {\n                if (authData[i].ROUTINE_NAME == routine_name) {\n                    routineAuth = authData[i];\n                    break;\n                }\n                i++;\n            }\n            return routineAuth;\n        }\n        function formatData(arr, authData) {\n            let menu = [];\n            let children = [];\n            for (let i = 0; i < arr.length; i++) {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"arr[i]:\", arr[i]);\n                let type = arr[i].choice_type.charAt(0);\n                if (type == \"M\") {\n                    if (children.length != 0) {\n                        let item = {\n                            title: menuItem.title,\n                            choice: menuItem.choice,\n                            children: children\n                        };\n                        menu.push(item);\n                        children = [];\n                    }\n                    var menuItem = {\n                        title: arr[i].text,\n                        choice: arr[i].choice\n                    };\n                    //menu.push(item);\n                }\n                else if (type == \"R\") {\n                    if (object.paramConfig.DEBUG_FLAG)\n                        console.log(\"authData:\", authData, \"arr[i]:\", arr[i]);\n                    let routineAuth = checkAuthData(arr[i].choice, authData);\n                    if (object.paramConfig.DEBUG_FLAG)\n                        console.log(\"arr[i].choice:\" + arr[i].choice + \"  routineAuth.DISP_FLAG:\" + routineAuth.DISP_FLAG + \" routineAuth.AUTHLEVEL :\" + routineAuth.AUTHLEVEL);\n                    if (routineAuth.DISP_FLAG != \"N\") // && (routineAuth.AUTHLEVEL != 0) )\n                     {\n                        let routineItem = {\n                            title: arr[i].text,\n                            choice: arr[i].choice,\n                            authLevel: routineAuth.AUTHLEVEL,\n                            routineDesc: routineAuth.ROUTINE_DESC,\n                            routineVer: routineAuth.ROUT_VER,\n                            routerLink: \"/\" + arr[i].choice\n                        };\n                        children.push(routineItem);\n                    }\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"---children\");\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(children);\n                }\n            }\n            if (children.length != 0) {\n                let item = {\n                    title: menuItem.title,\n                    choice: menuItem.choice,\n                    children: children\n                };\n                menu.push(item);\n                children = [];\n            }\n            return menu;\n        }\n        object.menu = formatData(data[0].data, data[1].data);\n        object.panelItems = object.menu;\n        let paramConfig = {\n            \"Name\": \"menu\",\n            \"Val\": object.menu\n        };\n        setParamConfig(paramConfig);\n    }\n    sleep(ms) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n    beginTrans() {\n        this.commitBody = [];\n        this.inTrans = true;\n    }\n    endTrans(object, commit) {\n        let Page = \"&_trans=Y\";\n        let tableInfo;\n        //console.log(\"endTrans:\", this.commitBody);\n        if (commit && this.commitBody.length != 0) {\n            return new Promise(resolve => {\n                this.post(this, Page, this.commitBody).subscribe(result => {\n                    this.commitBody = [];\n                    this.inTrans = false;\n                    tableInfo = result.data[0].data;\n                    return resolve(tableInfo);\n                }, err => {\n                    object.FORM_TRIGGER_FAILURE = true;\n                    this.commitBody = [];\n                    this.inTrans = false;\n                    //alert('error:' + err.message);\n                    this.showErrorMsg(object, err);\n                    return resolve(tableInfo);\n                });\n            });\n        }\n        else {\n            this.commitBody = [];\n            this.inTrans = false;\n        }\n    }\n    // public addToBody(NewVal) {\n    //   this.Body.push(NewVal);\n    // }\n    execSQLBody(object, Body, DBLoc) {\n        function getFirstWord(str) {\n            let myArray = str.split(\"_\");\n            return myArray[0];\n        }\n        object.FORM_TRIGGER_FAILURE = false;\n        let Page = \"&_trans=N\";\n        if (DBLoc != \"\")\n            Page = Page + \"&DBLoc=\" + DBLoc;\n        let tableInfo;\n        object.NOTFOUND = false;\n        //console.log(\"Body:\",Body);\n        if (this.inTrans) {\n            let firstWord = getFirstWord(Body[0]._QUERY).toUpperCase();\n            //console.log(\"commit:firstWord:\", firstWord, Body);\n            let isCommitCommand = this.commitCommands.includes(firstWord);\n            if (isCommitCommand) {\n                this.commitBody.push(Body[0]);\n                return tableInfo;\n            }\n        }\n        return new Promise(resolve => {\n            this.post(this, Page, Body).subscribe(result => {\n                //console.log (\"execSQLBody 3\", result);\n                //console.log(\"testx:execSQL:sqlStmt:result.data[0]:\", Body, result.data[0])\n                //console.log(\"testx:execSQL:sqlStmt:result.data[0]:\", Body, result.data)\n                tableInfo = result.data;\n                // if (result.data.length == 0)\n                //   object.NOTFOUND = true;\n                return resolve(tableInfo);\n            }, err => {\n                object.FORM_TRIGGER_FAILURE = true;\n                alert('error:' + err.message);\n                return resolve(tableInfo);\n            });\n        });\n    }\n    execSQL(object, sqlStmt) {\n        function getFirstWord(str) {\n            str = str.trim();\n            let spaceIndex = str.indexOf(' ');\n            return spaceIndex === -1 ? str : str.substr(0, spaceIndex);\n        }\n        object.FORM_TRIGGER_FAILURE = false;\n        let Page = \"&_trans=N\";\n        this.Body = [];\n        let NewVal = {};\n        NewVal[\"_QUERY\"] = \"EXECSQL\";\n        NewVal[\"_STMT\"] = sqlStmt;\n        let tableInfo;\n        object.NOTFOUND = false;\n        if (this.inTrans) {\n            let firstWord = getFirstWord(sqlStmt).toUpperCase();\n            //console.log(\"commit:firstWord:\", firstWord, sqlStmt);\n            let isCommitCommand = this.commitCommands.includes(firstWord);\n            //console.log(\"execSQL: inTrans:\", NewVal);\n            if (isCommitCommand) {\n                this.commitBody.push(NewVal);\n                return tableInfo;\n            }\n        }\n        this.Body = this.addToBody(NewVal, this.Body);\n        return new Promise(resolve => {\n            this.post(this, Page, this.Body).subscribe(result => {\n                this.Body = [];\n                //console.log(\"execSQL:sqlStmt:result.data[0]:\", sqlStmt, result.data[0])\n                tableInfo = result.data[0].data;\n                if (result.data[0].rowCount == 0)\n                    object.NOTFOUND = true;\n                return resolve(tableInfo);\n            }, err => {\n                object.FORM_TRIGGER_FAILURE = true;\n                alert('error:' + err.message);\n                return resolve(tableInfo);\n            });\n        });\n    }\n    ////////\n    att_img_getFileLink(field_data, object) {\n        let fileLink = \"\";\n        if ((field_data != \"\") && (field_data != \"[]\") && (field_data != null)) {\n            field_data = JSON.parse(field_data);\n            //console.log(\"getFileLink:field_data:\", field_data)\n            fileLink = object.AttDwnUrl + encodeURI(field_data[0].name);\n            //console.log(\"getFileLink:fileLink:\", fileLink)\n        }\n        return fileLink;\n    }\n    att_img_getAtt(data, object) {\n        let atts = \"\";\n        //console.log(\"getAtt_data:\", data);\n        if ((data != \"\") && (data != \"[]\") && (data != null)) {\n            let vals = JSON.parse(data);\n            //console.log(\"getAtt_data:\", vals);\n            vals.forEach(val => {\n                //console.log(\"val:\", val)\n                atts = atts + \"<\" + val.name + \" Size:\" + val.size + \">\";\n            });\n        }\n        return atts;\n    }\n    att_img_populateArrs(formGroup, object) {\n        for (let i = 0; i < object.att_arr.length; i++) {\n            if (formGroup[object.att_arr[i]] != \"\")\n                object.myFiles[object.att_arr[i]] = JSON.parse(formGroup[object.att_arr[i]]);\n        }\n        for (let i = 0; i < object.img_arr.length; i++) {\n            if (formGroup[object.img_arr[i]] != \"\")\n                object.myFiles[object.img_arr[i]] = JSON.parse(formGroup[object.img_arr[i]]);\n        }\n    }\n    att_img_form_openUploadimage(field_id, object) {\n        //object.uploadimage = true;\n        //console.log(\"openUploadimage:field_id:\", field_id, object.myFiles, object.myFiles[field_id])\n        let myFiles = [];\n        if (typeof object.myFiles[field_id] != \"undefined\") {\n            myFiles = object.myFiles[field_id];\n        }\n        let filesDeleted = [];\n        if (typeof object.filesDeleted[field_id] != \"undefined\") {\n            filesDeleted = object.filesDeleted[field_id];\n        }\n        let hideOthers = false;\n        if (typeof object.disableUpload != \"undefined\") {\n            hideOthers = object.disableUpload;\n        }\n        let imageID = field_id;\n        var masterParams = {\n            \"action\": \"upload\",\n            \"imageID\": imageID,\n            \"myFiles\": myFiles,\n            \"filesDeleted\": filesDeleted\n        };\n        object.DSP_UPLOADConfig = new componentConfigDef();\n        object.DSP_UPLOADConfig.masterParams = masterParams;\n    }\n    callGetSaveAttachemts(action, data, object) {\n        //console.log(\"callSaveAttachemts:myFiles:\", object.myFiles)\n        var masterParams = {\n            \"action\": action,\n            \"att_arr\": object.att_arr,\n            \"img_arr\": object.img_arr,\n            \"myFiles\": object.myFiles,\n            \"filesDeleted\": object.filesDeleted,\n            \"data\": data\n        };\n        object.DSP_UPLOADConfig = new componentConfigDef();\n        object.DSP_UPLOADConfig.masterParams = masterParams;\n    }\n    async att_img_saveFormCompletedHandler(value, object) {\n        //console.log(\"att_img_saveFormCompletedHandler:value\", value);\n        let field_id = value.field_id;\n        object.myFiles[field_id] = value.myFiles;\n        object.filesDeleted[field_id] = value.filesDeleted;\n        //console.log(\"object.myFiles[field_id]:\", object.myFiles[field_id])\n        let JSONVal = JSON.stringify(object.myFiles[field_id]);\n        if (JSONVal == \"[]\")\n            JSONVal = \"\";\n        object.form.value[field_id] = JSONVal;\n        object.form.patchValue({ [field_id]: JSONVal });\n    }\n    att_img_saveGridCompletedHandler(value, object) {\n        //console.log(\"att_img_saveGridCompletedHandler:value\", value);\n        let field_id = value.field_id;\n        object.myFiles[field_id] = value.myFiles;\n        object.filesDeleted[field_id] = value.filesDeleted;\n        //console.log(\"object.myFiles[field_id]:\", object.myFiles[field_id])\n        let JSONVal = JSON.stringify(object.myFiles[field_id]);\n        if (JSONVal == \"[]\")\n            JSONVal = \"\";\n        object.formGroup.patchValue({ [field_id]: JSONVal });\n        object.formGroup.markAsDirty();\n        //console.log(\"att_img_saveGridCompletedHandler:object.formGroup.value\", object.formGroup.value);\n        object.uploadimage = false;\n    }\n    async att_img_grid_openUploadimage(field_id, object) {\n        if (!object.componentConfig.enabled)\n            return;\n        await object.starServices.sleep(300);\n        //console.log(\"att_img_grid_openUploadimage:object.formGroup:\", object.formGroup)\n        object.uploadimage = true;\n        if (typeof object.formGroup != \"undefined\") {\n            object.myFiles[field_id] = [];\n            object.starServices.att_img_populateArrs(object.formGroup.value, object);\n            //console.log(\"openUploadimage:field_id:\", field_id, object.myFiles, object.myFiles[field_id])\n            let myFiles = [];\n            if (typeof object.myFiles[field_id] != \"undefined\") {\n                myFiles = object.myFiles[field_id];\n            }\n            let filesDeleted = [];\n            if (typeof object.filesDeleted[field_id] != \"undefined\") {\n                filesDeleted = object.filesDeleted[field_id];\n            }\n            let imageID = field_id;\n            var masterParams = {\n                \"action\": \"upload\",\n                \"imageID\": imageID,\n                \"myFiles\": myFiles,\n                \"filesDeleted\": filesDeleted\n            };\n            object.DSP_UPLOADConfig = new componentConfigDef();\n            object.DSP_UPLOADConfig.masterParams = masterParams;\n        }\n    }\n    addNewCode(object, CODENAME) {\n        object.grid_som_tabs_codes = new tabsCodes();\n        object.grid_som_tabs_codes['CODENAME'] = CODENAME; // for retrieve data\n        object.SOM_TABS_CODESConfig = new componentConfigDef();\n        let masterParams = {\n            action: \"ADD\",\n            CODENAME: CODENAME,\n            CODE: object.filterCode,\n            CODETEXT_LANG: object.filterCode\n        };\n        object.SOM_TABS_CODESConfig.masterParams = masterParams; // For add new record\n        object.showCodeDetails = true;\n    }\n    setIdOrder(object, idField, orderField) {\n        let ID = 1;\n        let ORDER = 1;\n        let GridData = object.grid.data;\n        if (typeof GridData.data !== \"undefined\") {\n            for (let i = 0; i < GridData.data.length; i++) {\n                if (GridData.data[i][idField] >= ID)\n                    ID = parseInt(GridData.data[i][idField]) + 1;\n                if (GridData.data[i][orderField] >= ORDER)\n                    ORDER = parseInt(GridData.data[i][orderField]) + 1;\n            }\n        }\n        let values = {\n            [idField]: ID,\n            [orderField]: ORDER\n        };\n        console.log(\"setInitialValues:values:\", values);\n        object.formGroup.patchValue(values);\n    }\n    rowReorder(object, orderField, e) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:\", e);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:\", e.draggedRows[0].rowIndex);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:\", e.dropPosition);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:\", e.dropTargetRow.rowIndex);\n        let dataItem = e.draggedRows[0].dataItem;\n        let GridData;\n        GridData = object.grid.data;\n        if (e.dropPosition == \"after\") {\n            GridData.data.splice(e.dropTargetRow.rowIndex + 1, 0, dataItem);\n            //Remove draggedRows\n            GridData.data = GridData.data.filter(function (dataItem, index) {\n                return index !== e.draggedRows[0].rowIndex;\n            });\n        }\n        else if (e.dropPosition == \"before\") {\n            //Remove draggedRows\n            GridData.data = GridData.data.filter(function (dataItem, index) {\n                return index !== e.draggedRows[0].rowIndex;\n            });\n            GridData.data.splice(e.dropTargetRow.rowIndex, 0, dataItem);\n        }\n        //write order field\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:GridData.data:\", GridData.data);\n        for (let i = 0; i < GridData.data.length; i++) {\n            GridData.data[i][orderField] = i + 1;\n            GridData.data[i]._QUERY = object.updateCMD;\n        }\n        object.saveChanges(object.grid);\n    }\n    handleFilterCode(object, CODE) {\n        if (object.starServices.sessionParams.USER_INFO.GROUPNAME == \"SYSADM\") {\n            object.filterCode = CODE;\n        }\n    }\n    hideNoValidLicense() {\n        const collection = document.getElementsByTagName(\"div\");\n        //console.log (\"checking:collection:\",collection);\n        for (let i = 0; i < collection.length; i++) {\n            let innerHTML = collection[i].innerHTML;\n            //let result = innerHTML.includes(\"ng-reflect-ng-style\");\n            //let result = innerHTML.includes(\"display: flex;\");\n            let result = innerHTML.includes(\"No valid license found\");\n            //console.log (\"checking:result:\",result);\n            if (result) {\n                result = innerHTML.includes(\"No valid license found\");\n                if (result) {\n                    //console.log (\"checking:innerHTML:\",result,innerHTML);\n                    collection[i].style.setProperty('display', 'none');\n                }\n            }\n        }\n        //console.log (\"collection:\", collection.length, collection[35])\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: starServices, deps: [{ token: i1.NotificationService }, { token: i2.DialogService }, { token: i3.HttpClient }, { token: i4.MessageService }], target: i0.FactoryTarget.Injectable }); }\n    static { this.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: starServices, providedIn: 'root' }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: starServices, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: () => [{ type: i1.NotificationService }, { type: i2.DialogService }, { type: i3.HttpClient }, { type: i4.MessageService }] });","originalLength":546143,"removedExports":[],"renderedExports":["starServices"],"renderedLength":158470},"/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/lib/starlib.component.mjs":{"code":"class StarlibComponent {\n    constructor() { }\n    ngOnInit() {\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: StarlibComponent, deps: [], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"18.2.10\", type: StarlibComponent, selector: \"lib-starlib\", ngImport: i0, template: `\n    <p>\n      starlib works!\n    </p>\n  `, isInline: true }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: StarlibComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'lib-starlib', template: `\n    <p>\n      starlib works!\n    </p>\n  ` }]\n        }], ctorParameters: () => [] });","originalLength":1805,"removedExports":[],"renderedExports":["StarlibComponent"],"renderedLength":783},"/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/public-api.mjs":{"code":"/*\n * Public API Surface of starlib\n */","originalLength":622,"removedExports":[],"renderedExports":[],"renderedLength":39},"/Users/Macbookpro/Documents/win/Genovity/dev/users/usertemp/userws/dist/starlib/esm2022/starlib.mjs":{"code":"/**\n * Generated bundle index. Do not edit.\n */","originalLength":484,"removedExports":[],"renderedExports":[],"renderedLength":47}},"referencedFiles":[],"code":"import * as i0 from '@angular/core';\nimport { Injectable, Component } from '@angular/core';\nimport * as i3 from '@angular/common/http';\nimport { HttpHeaders, HttpRequest } from '@angular/common/http';\nimport { BehaviorSubject, throwError } from 'rxjs';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport * as i2 from '@progress/kendo-angular-dialog';\nimport { DialogCloseResult } from '@progress/kendo-angular-dialog';\nimport { firstDayInWeek, Day, getDate } from '@progress/kendo-date-math';\nimport { Md5 } from 'ts-md5/dist/md5';\nimport { formatDate } from '@angular/common';\nimport * as i1 from '@progress/kendo-angular-notification';\nimport * as i4 from '@progress/kendo-angular-l10n';\n\nclass tabsCodes {\n    constructor() {\n        this.CODENAME = '';\n        this.CODE = '';\n        this.PARTCODE = '';\n        this.LANGUAGE_NAME = '';\n        this.CODETEXT_LANG = '';\n        this.CODEVALUE_LANG = '';\n        this.LAST_UPDATE = '';\n        this.FLEX_FLD1 = '';\n        this.FLEX_FLD2 = '';\n        this.FLEX_FLD3 = '';\n        this.FLEX_FLD4 = '';\n        this.FLEX_FLD5 = '';\n    }\n}\nclass componentConfigDef {\n    constructor() {\n        this.eventFrom = null;\n        this.languageChanged = \"EN\";\n        this.masterSaved = null;\n        this.masterDeleted = null;\n        this.parentClose = null;\n        this.formMode = null;\n        this.savingMode = null;\n        this.isMaster = null;\n        this.isChild = null;\n        this.masterKey = null;\n        this.AUTH_TYPE = null;\n        this.formattedWhere = null;\n        this.clearComponent = null;\n        this.otherMasterKey = null;\n        this.gridHeight = null;\n        this.formHeight = null;\n        this.routineAuth = null;\n        this.showAll = null;\n        this.editable = null;\n        this.queryable = true;\n        this.navigable = true;\n        this.insertable = true;\n        this.removeable = true;\n        this.enabled = true;\n        this.updateable = true;\n        this.toolsShow = null;\n        this.showTitle = true;\n        this.showSave = null;\n        this.title = null;\n        this.hideGrid = null;\n        this.clearScreen = null;\n        this.setScreen = null;\n        this.WEEKShow = null;\n        this.showToolBar = null;\n        this.useAutoSave = null;\n    }\n}\n\nclass starServices extends BehaviorSubject {\n    constructor(notificationService, dialogService, http, messages) {\n        super(null);\n        this.notificationService = notificationService;\n        this.dialogService = dialogService;\n        this.http = http;\n        this.messages = messages;\n        this.createdItems = [];\n        this.updatedItems = [];\n        this.deletedItems = [];\n        this.routine_name = \"\";\n        this.saveChangesMsg = \"Screen changed, are you sure you to navigate?\";\n        this.deleteDetailMsg = \"Can not delete as detail has data.\";\n        this.pleaseConfirmMsg = \"Please confirm\";\n        this.deleteConfirmMsg = \"Are you sure you want to delete this record?\";\n        this.nothingToDeletelMsg = \"No records to delete.\";\n        this.fieldsRequiredMsg = \"Please enter required fields.\";\n        this.readOnlyMsg = \"Can not save , your authority is readonly.\";\n        this.noAccessMsg = \"You dont have access to this routine.\";\n        this.standardErrorMsg = \"Error performing transaction\";\n        this.saveMasterMsg = \"Save master record first.\";\n        this.helpMsg = \"\";\n        this.helpMsg_grid = \"\";\n        this.USERNAME = \"\";\n        this.hideAfter = 1000;\n        this.StrAuth = \"\";\n        this.MASTER_DB = \"\";\n        this.USERNAME_DB = \"\";\n        this.limit = 2500;\n        this.YesNoActions = [\n            { text: 'No', primary: false },\n            { text: 'Yes', primary: true }\n        ];\n        this.OkActions = [\n            { text: 'Ok', primary: false }\n        ];\n        this.sessionParams = {};\n        //private BASE_URL = 'https://odatasampleservices.azurewebsites.net/V4/Northwind/Northwind.svc/';\n        //private BASE_URL = 'http://192.168.1.3:9090/api?_format=json&_limit=50';\n        this.EPMENG_URL = \"\"; //'http://192.168.1.5:8092/format';\n        //private EPMENG_URL = 'http://gmashro.com:8092/format';\n        this.SERVER_URL = \"\"; // 'http://localhost:9090';\n        this.SERVER_DEPLOY = \"\";\n        //public SERVER_URL = 'http://gmashro.com:9090';\n        this.BASE_URL = this.SERVER_URL + '/api?_format=json&_limit=' + this.limit;\n        //private BASE_URL = 'http://gmashro.com:9090/api?_format=json&_limit=' + this.limit;\n        this.eKycScr = \"DSPEKYC\";\n        this.syncFlag = 0;\n        this.rulesPostQueryDef = {\n            rulePtrsArr: [],\n            rulesArr: [],\n            actionPtrsArr: [],\n            actionsArr: []\n        };\n        this.rulesPreQueryDef = {\n            rulePtrsArr: [],\n            rulesArr: [],\n            actionPtrsArr: [],\n            actionsArr: []\n        };\n        this.hostsArr = [];\n        this.hostsMapArr = [];\n        this.commitBody = [];\n        this.inTrans = false;\n        this.Body = [];\n        this.commitCommands = ['INSERT', 'UPDATE', 'DELETE'];\n        //logger.warn(\"Warning message\");\n    }\n    query(state) {\n        let queryName = \"\";\n        this.fetch(this, queryName)\n            .subscribe(x => super.next(x));\n    }\n    removeRec(gridData, editedRowIndex) {\n        //let result1 = JSON.parse(JSON.stringify(gridData));\n        if (typeof editedRowIndex !== \"undefined\") {\n            gridData.data.splice(editedRowIndex, 1);\n            gridData.total = gridData.data.length;\n            /*  //if (this.paramConfig.DEBUG_FLAG) console.log('remving editedRowIndex:' + editedRowIndex)\n              result1.data.splice( editedRowIndex , 1 );\n              result1.total = result1.data.length;*/\n        }\n        return gridData;\n    }\n    updateRec(gridData, editedRowIndex, NewVal) {\n        gridData.data[editedRowIndex] = NewVal;\n        return gridData;\n    }\n    addRec(gridData, NewVal) {\n        gridData.data.push(NewVal);\n        /* let result ={\"data\":[], total:0};\n         let result1 = JSON.parse(JSON.stringify(gridData));\n         NewVal = this.parseToDate(NewVal);\n         result1.data.push(NewVal);\n         result.data = result1.data;\n         result.total = result.data.length;\n         return result1;*/\n        return gridData;\n    }\n    formatWhere(NewVal) {\n        function isDate(value) {\n            return value instanceof Date;\n        }\n        function FORMAT_ISO_parse(d) {\n            var dateIso = d.toISOString();\n            var dateIsoArr = dateIso.split(\"T\");\n            dateIso = dateIsoArr[0] + \" \" + dateIsoArr[1];\n            dateIso = dateIso.substr(0, 19);\n            return dateIso;\n        }\n        function parseValue(key, value) {\n            let phrase = \"\";\n            //console.log(\"isDate:\" , isDate (value), value, typeof value);\n            if (isDate(value)) {\n                //value = getDate(value);\n                //value = FORMAT_ISO_parse(value);\n                value = value.toISOString();\n            }\n            if (typeof value === 'string') {\n                // it's a string\n                if (value != \"\") {\n                    let operators = \"<>!=\";\n                    let operatorVal = \"\";\n                    let trimeedVal = value.trim();\n                    let firstChar = trimeedVal.charAt(0);\n                    let n = operators.search(firstChar);\n                    if (n != -1) {\n                        if (firstChar == \"|\")\n                            operatorVal = \" = '\" + value + \"' \";\n                        else\n                            operatorVal = value;\n                    }\n                    else if (value.toUpperCase().search(\"%\") != -1) {\n                        operatorVal = \" like '\" + value + \"' \";\n                        console.log(\"operatorVal:\" + operatorVal);\n                    }\n                    else {\n                        operatorVal = \" = '\" + value + \"' \";\n                    }\n                    phrase = key + encodeURIComponent(operatorVal);\n                    //phrase = key + operatorVal;\n                }\n            }\n            else {\n                // it's something else\n                let operatorVal = \" = '\" + value + \"' \";\n                phrase = key + encodeURIComponent(operatorVal);\n            }\n            return phrase;\n        }\n        let wherePhrase = \"\";\n        let whereClause = \"\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"formatWhere:\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(NewVal);\n        Object.keys(NewVal).forEach(function (key) {\n            let value = NewVal[key];\n            //if (this.paramConfig.DEBUG_FLAG) console.log(key + \":\" + value);\n            if ((value != \"\") && (value != null)) {\n                let phrase = parseValue(key, value);\n                if (wherePhrase == \"\") {\n                    wherePhrase = wherePhrase + phrase;\n                }\n                else {\n                    wherePhrase = wherePhrase + \" and \" + phrase;\n                }\n            }\n        });\n        if (wherePhrase != \"\")\n            whereClause = \"&_WHERE=\" + wherePhrase;\n        else\n            whereClause = \"&_WHERE=\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"whereClause:\" + whereClause);\n        return whereClause;\n    }\n    checkDBLoc(theURL) {\n        let paramConfig = getParamConfig();\n        if (this.paramConfig.DBLoc != \"\") {\n            let userName = this.sessionParams.USERNAME;\n            theURL = theURL + \"&DBLoc=\" + this.paramConfig.DBLoc;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checkDBLoc:theURL:\", theURL);\n        return theURL;\n    }\n    fetch(object, queryName) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        let theURL = `${this.BASE_URL}${queryName}`;\n        theURL = this.checkDBLoc(theURL);\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        return this.http\n            .get(`${theURL}`, this.httpOptions)\n            .pipe(catchError((err) => {\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(data => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"status data: \", data);\n            this.loading = false;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:this.rulesPostQueryDef\", this.rulesPostQueryDef);\n            this.checkRules(object, this.rulesPostQueryDef, data, \"POST_QUERY\");\n        }));\n    }\n    /* public remove( page: any):Observable<any> {\n         this.delete(page)\n             .subscribe(x => super.next(x));\n \n             return 0;\n     }\n */\n    delete(Page) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        let theURL = `${this.BASE_URL}${Page}`;\n        theURL = this.checkDBLoc(theURL);\n        //console.log(\"delete theURL:\",theURL);\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        return this.http\n            .delete(`${theURL}`, this.httpOptions)\n            .pipe(catchError((err) => {\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(() => this.loading = false));\n    }\n    post_delete(Page, Body) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"post:Page:\",Page,\" Body:\",Body)\n        let theURL = `${this.BASE_URL}${Page}`;\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth:\" + this.StrAuth);\n        return this.http\n            .post(`${theURL}`, Body, this.httpOptions)\n            .pipe(catchError((err) => {\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(data => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"status data:\", data);\n            this.loading = false;\n        }));\n    }\n    showDailogErr(error) {\n        let Msg = error.error;\n        //console.log(\"Msg:\", Msg);\n        let position = Msg.search(\"UNIQUE constraint\");\n        if (position != -1)\n            Msg = this.getNLS([], 'ALREADY_EXISTS', 'Record already exists');\n        var dialogStruc = {\n            msg: Msg,\n            title: \"Error\",\n            info: null,\n            object: this,\n            action: this.OkActions,\n            callback: null\n        };\n        this.showConfirmation(dialogStruc);\n    }\n    post(object, Page, Body) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"post:Page:\",Page,\" Body:\",Body)\n        this.checkRules(object, this.rulesPreQueryDef, Body, \"PRE_QUERY\");\n        let theURL = `${this.BASE_URL}${Page}`;\n        theURL = this.checkDBLoc(theURL);\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth:\" , this.StrAuth , theURL);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth: with URL\" , this.StrAuth , theURL);\n        return this.http\n            .post(`${theURL}`, Body, this.httpOptions)\n            .pipe(catchError((err) => {\n            //console.log(\"err:\", err.error.error)\n            this.showDailogErr(err.error);\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(data => {\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"status data:\", data);\n            this.loading = false;\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"test:this.rulesPostQueryDef\", this.rulesPostQueryDef)\n            this.syncFlag = 0;\n            this.checkRules(object, this.rulesPostQueryDef, data, \"POST_QUERY\");\n        }));\n    }\n    /////////////////////////////////////////////////////\n    postUpload(Page, Body) {\n        //const queryStr = `${toODataString(state)}&$count=true`;\n        const queryStr = ``;\n        this.loading = true;\n        let theURL = Page;\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'authorization': this.StrAuth\n            })\n        };\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth:\" + this.StrAuth);\n        return this.http\n            .post(`${theURL}`, Body, this.httpOptions)\n            .pipe(catchError((err) => {\n            return throwError(err);\n        }), map(response => ({ data: response['data'] })), tap(() => this.loading = false));\n    }\n    /////////////////////////////////////////////////////\n    uploadFile(page, filesSet, id) {\n        filesSet.forEach(file => {\n            // create a new multipart-form for every file\n            const formdata = new FormData();\n            formdata.append('file', file);\n            formdata.append('id', id);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"uploadFile page:\" + page);\n            let apiURL = this.SERVER_URL + '/api/att' + page;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"apiURL:\" + apiURL);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(formdata);\n            formdata.forEach(entries => console.log(JSON.stringify(entries)));\n            this.postUpload(apiURL, formdata).subscribe(result => {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log('result', result);\n            });\n        });\n    }\n    uploadFileOld(file) {\n        const formdata = new FormData();\n        formdata.append('file', file); //the uploaded file content\n        formdata.append('documentVersionId', '123'); //I need to pass some additional info to the server besides the File data\n        let apiURL = this.SERVER_URL + '/api?upload=y';\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"apiURL:\" + apiURL);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(formdata);\n        formdata.forEach(entries => console.log(JSON.stringify(entries)));\n        //const apiURL = this.api_path + 'Upload';     //calling http://localhost:52333/api/UploadController\n        this.postUpload(apiURL, formdata).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log('result', result);\n        });\n        /*const uploadReq = new HttpRequest('POST', apiURL, formdata, {\n           reportProgress: true\n        });\n        this.httpclient.request(uploadReq).subscribe(event => {\n           if (event.type === HttpEventType.UploadProgress) {\n               this.progress = Math.round(100 * event.loaded / event.total);\n           }\n       });\n       */\n    }\n    /////////////////////////////////////////////////////\n    hasChanges() {\n        return Boolean(this.deletedItems.length || this.updatedItems.length || this.createdItems.length);\n    }\n    addToBody(NewVal, Body) {\n        Body.push(NewVal);\n        // if (this.paramConfig.DEBUG_FLAG) console.log('NewVal : HF Please'  + JSON.stringify(NewVal));\n        return Body;\n    }\n    showNotification(styleNote, msg) {\n        let hideAfter = this.hideAfter;\n        if (styleNote == \"error\")\n            hideAfter = 5000;\n        this.notificationService.show({\n            content: msg,\n            cssClass: 'button-notification',\n            animation: { type: 'fade', duration: 200 },\n            position: { horizontal: 'center', vertical: 'bottom' },\n            //            stacking: { stacking: 'down' },\n            type: { style: styleNote, icon: true },\n            //closable: true,\n            hideAfter: hideAfter\n        });\n    }\n    goRecordAct(target, object) {\n        let rec;\n        if (target == \"first\") {\n            object.CurrentRec = 0;\n        }\n        else if (target == \"last\") {\n            object.CurrentRec = object.executeQueryresult.total - 1;\n        }\n        else if (target == \"next\") {\n            if (object.CurrentRec < object.executeQueryresult.total - 1)\n                object.CurrentRec = object.CurrentRec + 1;\n        }\n        else if (target == \"prev\") {\n            if (object.CurrentRec > 0)\n                object.CurrentRec = object.CurrentRec - 1;\n        }\n        rec = object.executeQueryresult.data[object.CurrentRec];\n        if (typeof rec !== \"undefined\") {\n            object.form.patchValue(rec);\n            object.form.markAsPristine();\n            object.form.markAsUntouched();\n            //object.form.reset(rec, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\n            if (object.disableEmitReadCompleted != true)\n                object.readCompletedOutput.emit(object.form.value);\n            if (typeof object.callBackFunction !== \"undefined\")\n                object.callBackFunction(rec);\n        }\n        else\n            object.clearCompletedOutput.emit([]);\n    }\n    goRecord(target, object) {\n        if (typeof object.executeQueryresult != \"undefined\") {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(object.form.dirty);\n            if (object.form.dirty == true) {\n                let dialogStruc = {\n                    msg: this.saveChangesMsg,\n                    title: this.pleaseConfirmMsg,\n                    info: target,\n                    object: object,\n                    action: this.YesNoActions,\n                    callback: this.goRecordAct\n                };\n                this.showConfirmation(dialogStruc);\n            }\n            else {\n                this.goRecordAct(target, object);\n            }\n        }\n    }\n    showConfirmation(dialogStruc) {\n        let dialogResult;\n        const dialog = this.dialogService.open({\n            title: dialogStruc.title,\n            content: dialogStruc.msg,\n            actions: dialogStruc.action,\n            width: 450,\n            height: 200,\n            minWidth: 250\n        });\n        dialog.result.subscribe((result) => {\n            if (result instanceof DialogCloseResult) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log('close');\n            }\n            else {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log('action', result);\n            }\n            dialogResult = JSON.parse(JSON.stringify(result));\n            if (dialogResult.primary == true) {\n                if (dialogStruc.hasOwnProperty('callback')) {\n                    dialogStruc.callback(dialogStruc.info, dialogStruc.object);\n                }\n            }\n        });\n    }\n    /**************** Form functions **************/\n    executeQuery_form(form, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"star-services executeQuery_form object.form:\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isSearch:\" + object.isSearch);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(object.form.value);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(form.value);\n        if (typeof object.form !== \"undefined\") {\n            if ((object.form.dirty == true) && (object.isSearch != true)) {\n                let dialogStruc = {\n                    msg: this.saveChangesMsg,\n                    title: this.pleaseConfirmMsg,\n                    info: form,\n                    object: object,\n                    action: this.YesNoActions,\n                    callback: this.executeQueryAct_form\n                };\n                this.showConfirmation(dialogStruc);\n            }\n            else {\n                this.executeQueryAct_form(form, object);\n            }\n        }\n        else {\n            this.executeQueryAct_form(form, object);\n        }\n    }\n    // routine from : https://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/integration-with-json/\n    parseToDate(json) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"json:in:\", json);\n        Object.keys(json).map(key => {\n            let Val1 = json[key];\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"key:\", key, Val1, typeof Val1);\n            //let n = key.toUpperCase().search(\"DATE\");\n            //if (n != -1){\n            if (typeof Val1 != \"number\") { //it is not a number, check more\n                if ((Val1 != null) && (Val1.length > 7)) {\n                    const date = new Date(Val1);\n                    let checkYYYY = isNaN(parseInt(Val1.substring(0, 4)));\n                    let timeVal = date.getTime();\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"timeVal:\", timeVal, isNaN(timeVal));\n                    if (!isNaN(timeVal) && (timeVal > 0) && !checkYYYY) {\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"it is a date\");\n                        //if (this.paramConfig.DEBUG_FLAG) console.log(\"key:\"+key + \":\" + date.getTime());\n                        json[key] = date;\n                    }\n                }\n            }\n        });\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"json:out:\", json);\n        return json;\n    }\n    dateYYYYMMDD(object, json) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"json:\", json);\n        Object.keys(json).map(key => {\n            let n = key.toUpperCase().search(\"_DATE\");\n            if (n != -1) {\n                let dateOrg = json[key];\n                let date = new Date(json[key]);\n                //date = toLocalDate(date);\n                let timeVal = date.getTime();\n                if (!isNaN(timeVal) && (timeVal > 0)) {\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"key:\"+key + \":\" + date.getTime());\n                    //let array = dateOrg.split(\"T\")\n                    dateOrg = formatDate(dateOrg, object.paramConfig.DateFormat, object.paramConfig.dateLocale);\n                    json[key] = dateOrg;\n                }\n            }\n        });\n        return json;\n    }\n    executeQueryAct_form(form, object) {\n        if (typeof form === \"undefined\")\n            return;\n        let paramConfig = {\n            \"Name\": \"childRecords\",\n            \"Val\": 0\n        };\n        setParamConfig(paramConfig);\n        if (object.isChild == true) {\n            if (object.isSearch == true) {\n                if ((typeof object.masterKeyNameArr != \"undefined\") && (object.masterKeyNameArr.length != 0)) {\n                    for (let i = 0; i < object.masterKeyNameArr.length; i++) {\n                        object.formInitialValues[object.masterKeyNameArr[i]] = object.masterKeyArr[i];\n                    }\n                }\n                else {\n                    object.formInitialValues[object.masterKeyName] = object.masterKey;\n                }\n                //object.formInitialValues[object.masterKeyName] = object.masterKey;\n                object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.masterKeyName:\" + object.masterKeyName);\n                object.isSearch = true;\n                form = object.form.value;\n            }\n        }\n        let Page = \"&_query=\" + object.getCMD;\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isSearch:\" + object.isSearch);\n        //if (object.isSearch == true) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(form.value);\n        let NewVal = form;\n        object.isSearch = false;\n        if ((typeof object.formattedWhere === \"undefined\") || (object.formattedWhere == null)) {\n            Page = Page + object.starServices.formatWhere(NewVal);\n        }\n        else {\n            Page = Page + object.formattedWhere;\n            object.formattedWhere = null;\n        }\n        if ((typeof object.OrderByClause !== \"undefined\") && (object.OrderByClause != \"\"))\n            Page = Page + \"&_ORDERBY=\" + object.OrderByClause;\n        //}\n        //console.log(\"test Page:\", Page);\n        object.executeQueryresult = [];\n        object.executeQueryresult.result = 0;\n        object.CurrentRec = 0;\n        Page = encodeURI(Page);\n        object.starServices.fetch(object, Page).subscribe(result => {\n            if (result != null) {\n                for (let i = 0; i < result.data[0].data.length; i++)\n                    result.data[0].data[i] = object.starServices.parseToDate(result.data[0].data[i]);\n                result = { data: result.data[0].data,\n                    total: parseInt(result.data[0].data.length, 10) };\n                if (object.isMaster)\n                    object.starServices.showNotification('success', \"Records retrieved : \" + result.total);\n                object.executeQueryresult = result;\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.executeQueryresult:\", object.executeQueryresult);\n                //console.log(\"result.data:\",result.data, \" object.CurrentRec\", object.CurrentRec );\n                //console.log(\"result.data[object.CurrentRec:\",result.data[object.CurrentRec] );\n                if (typeof result.data[object.CurrentRec] !== \"undefined\") {\n                    object.form.patchValue(result.data[object.CurrentRec]);\n                    //console.log(\"object.form.value:\",object.form.value);\n                    object.form.markAsPristine();\n                    object.form.markAsUntouched();\n                }\n                //object.form.reset(result.data[object.CurrentRec], {emitEvent: object.emitEvent != null ? object.emitEvent : true});\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"form servicereadCompletedOutput\");\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(object.readCompletedOutput);\n                let paramConfig = {\n                    \"Name\": \"childRecords\",\n                    \"Val\": result.total\n                };\n                setParamConfig(paramConfig);\n                if (result.total != 0)\n                    object.isNew = false;\n                if (object.disableEmitReadCompleted != true) {\n                    if (result.total != 0) {\n                        object.readCompletedOutput.emit(object.form.value);\n                    }\n                    else\n                        object.clearCompletedOutput.emit([]);\n                }\n                if (typeof object.callBackFunction !== \"undefined\")\n                    object.callBackFunction(result.data[0]);\n            }\n            this.setPrimarKeyNameArr(object, true);\n        }, err => {\n            //alert('error:' + err.message);\n            this.showErrorMsg(object, err);\n        });\n    }\n    execstarServices_form_inTrans(NewVal, object) {\n        this.commitBody.push(NewVal);\n        if (object.action != \"REMOVE\") {\n            if (typeof object.executeQueryresult !== \"undefined\") {\n                if (object.isNew == true) {\n                    object.executeQueryresult.data.push(NewVal);\n                    object.executeQueryresult.total = object.executeQueryresult.total + 1;\n                }\n                else {\n                    object.executeQueryresult.data[object.CurrentRec] = NewVal;\n                }\n            }\n            else {\n                let NewValArr = [];\n                NewValArr.push(NewVal);\n                let result = { data: NewValArr,\n                    total: 1 };\n                object.executeQueryresult = result;\n                object.CurrentRec = 0;\n            }\n            var data = [];\n            data.push(NewVal);\n            if (object.isNew == true) {\n                object.isNew = false;\n                if (typeof object.callBackPost_Insert !== \"undefined\") {\n                    object.callBackPost_Insert.apply(object, data);\n                }\n            }\n            else {\n                if (typeof object.callBackPost_Update !== \"undefined\") {\n                    object.callBackPost_Update.apply(object, data);\n                }\n            }\n        }\n        else {\n            //REMOVE\n            object.executeQueryresult.data.splice(object.CurrentRec, 1);\n            object.executeQueryresult.total--;\n            if (object.CurrentRec > 0) {\n                object.CurrentRec--;\n                object.form.reset(object.executeQueryresult.data[object.CurrentRec], { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                if (object.isNew == true)\n                    object.isNew = false;\n            }\n            else {\n                object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                object.isNew = true;\n            }\n            let NewVal1 = [];\n            NewVal1.push(NewVal);\n            if (typeof object.callBackRemoveAtt !== \"undefined\")\n                object.callBackRemoveAtt(object, NewVal1);\n            if (typeof object.callBackPost_Remove !== \"undefined\") {\n                object.callBackPost_Remove.apply(object, NewVal1);\n            }\n        }\n        if (object.action != \"REMOVE\") {\n            object.form.reset(NewVal, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n        }\n        if (object.diableEmitSave == true) { }\n        else\n            object.saveCompletedOutput.emit(NewVal);\n        if (object.isChild == true) {\n            let paramConfig = {\n                \"Name\": \"childRecords\",\n                \"Val\": object.executeQueryresult.total\n            };\n            setParamConfig(paramConfig);\n        }\n        object.action = \"\";\n        this.setPrimarKeyNameArr(object, true);\n    }\n    execstarServices_form(NewVal, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"NewVal:\", NewVal);\n        object.addToBody(NewVal);\n        let Page = \"&_trans=Y\";\n        if (this.inTrans) {\n            this.execstarServices_form_inTrans(NewVal, object);\n            return;\n        }\n        this.post(object, Page, object.Body).subscribe(Page => {\n            object.Body = [];\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"object.executeQueryresult.data:object.CurrentRec:\" + object.CurrentRec + \" object.action:\" + object.action);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(object.executeQueryresult);\n            //if (typeof object.executeQueryresult !== \"undefined\")\n            {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"here1\");\n                if (object.action != \"REMOVE\") {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(object.executeQueryresult);\n                    if (typeof object.executeQueryresult !== \"undefined\") {\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"object.isNew:\" + object.isNew);\n                        if (object.isNew == true) {\n                            object.executeQueryresult.data.push(NewVal);\n                            object.executeQueryresult.total = object.executeQueryresult.total + 1;\n                            //object.CurrentRec++;\n                        }\n                        else {\n                            object.executeQueryresult.data[object.CurrentRec] = NewVal;\n                        }\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"object.executeQueryresult post\");\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(object.executeQueryresult);\n                    }\n                    else {\n                        let NewValArr = [];\n                        NewValArr.push(NewVal);\n                        let result = { data: NewValArr,\n                            total: 1 };\n                        object.executeQueryresult = result;\n                        object.CurrentRec = 0;\n                    }\n                    this.showNotification('success', \"Data saved successfully\");\n                    var data = [];\n                    data.push(NewVal);\n                    if (object.isNew == true) {\n                        object.isNew = false;\n                        if (typeof object.callBackPost_Insert !== \"undefined\") {\n                            //object.callBackPost_Insert(object, NewVal);\n                            //console.log(\"before calling callBackPost_Insert:\", NewVal,data)\n                            object.callBackPost_Insert.apply(object, data);\n                        }\n                    }\n                    else {\n                        if (typeof object.callBackPost_Update !== \"undefined\") {\n                            object.callBackPost_Update.apply(object, data);\n                        }\n                    }\n                }\n                else {\n                    //REMOVE\n                    object.executeQueryresult.data.splice(object.CurrentRec, 1);\n                    object.executeQueryresult.total--;\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"object.CurrentRec:\" + object.CurrentRec, \" NewVal:\", NewVal);\n                    if (object.CurrentRec > 0) {\n                        object.CurrentRec--;\n                        object.form.reset(object.executeQueryresult.data[object.CurrentRec], { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                        if (object.isNew == true)\n                            object.isNew = false;\n                    }\n                    else {\n                        object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n                        object.isNew = true;\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"object.isNew:\" + object.isNew);\n                    }\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"here2:NewVal:\", NewVal);\n                    let NewVal1 = [];\n                    NewVal1.push(NewVal);\n                    if (typeof object.callBackRemoveAtt !== \"undefined\")\n                        object.callBackRemoveAtt.apply(object, NewVal1);\n                    if (typeof object.callBackPost_Remove !== \"undefined\") {\n                        object.callBackPost_Remove.apply(object, NewVal1);\n                    }\n                }\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"here2\");\n            if (object.action != \"REMOVE\") {\n                object.form.reset(NewVal, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n            }\n            if (object.diableEmitSave == true) { }\n            else\n                object.saveCompletedOutput.emit(NewVal);\n            if (object.isChild == true) {\n                let paramConfig = {\n                    \"Name\": \"childRecords\",\n                    \"Val\": object.executeQueryresult.total\n                };\n                setParamConfig(paramConfig);\n            }\n            object.action = \"\";\n            this.setPrimarKeyNameArr(object, true);\n        }, err => {\n            //alert ('error:' + err.message);\n            this.showErrorMsg(object, err);\n        });\n    }\n    saveChanges_form(form, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log('saveChanges_form : object.isNew :' + object.isNew);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(object.componentConfig.routineAuth);\n        if (object.componentConfig.routineAuth != null) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"authLevel:\" + object.componentConfig.routineAuth.authLevel);\n            if (object.componentConfig.routineAuth.authLevel != 2) {\n                let dialogStruc = {\n                    msg: this.readOnlyMsg,\n                    title: \"Warning\",\n                    info: null,\n                    object: object,\n                    action: this.OkActions,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                return;\n            }\n        }\n        if ((!object.form.dirty) && object.isChild)\n            return;\n        if (object.form.invalid) {\n            object.submitted = true;\n            this.showOkMsg(object, this.fieldsRequiredMsg, \"Error\");\n            return;\n        }\n        let NewVal = {};\n        //object.Body = [];   // only one transaction allowed in  form. Moved to form\n        //NewVal =  form.value;\n        NewVal = Object.assign({}, form.value, {});\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"----- NewVal:\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(NewVal);\n        if (object.isNew == true)\n            NewVal[\"_QUERY\"] = object.insertCMD;\n        else\n            NewVal[\"_QUERY\"] = object.updateCMD;\n        //object.isNew = false;\n        this.execstarServices_form(NewVal, object);\n    }\n    enterQueryAct_form(form, object) {\n        object.CurrentRec = 0;\n        object.executeQueryresult = [];\n        object.executeQueryresult.result = 0;\n        object.isSearch = true;\n        object.isNew = false;\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log('enterQuery : object.isSearch:' + object.isSearch);\n        object.clearCompletedOutput.emit(object.formInitialValues);\n        object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n        object.starServices.setPrimarKeyNameArr(object, false);\n    }\n    setPrimarKeyNameArr(object, value) {\n        if (typeof object.primarKeyReadOnlyArr !== \"undefined\") {\n            let keys = Object.keys(object.primarKeyReadOnlyArr);\n            for (let k = 0; k < keys.length; k++) {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"[keys[k]:\", keys[k], \" value:\", value);\n                object.primarKeyReadOnlyArr[keys[k]] = value;\n            }\n        }\n    }\n    enterQuery_form(form, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:dirty:\", object.form.dirty);\n        if (object.form.dirty == true) {\n            let dialogStruc = {\n                msg: this.saveChangesMsg,\n                title: this.pleaseConfirmMsg,\n                info: form,\n                object: object,\n                action: this.YesNoActions,\n                callback: this.enterQueryAct_form\n            };\n            this.showConfirmation(dialogStruc);\n        }\n        else {\n            this.enterQueryAct_form(form, object);\n        }\n    }\n    onCancel_form(e, object) {\n        object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n        object.isSearch = false;\n        object.isNew = true;\n        object.clearCompletedOutput.emit(object.formInitialValues);\n        object.executeQueryresult = [];\n        object.executeQueryresult.result = 0;\n        object.CurrentRec = 0;\n        object.FORM_TRIGGER_FAILURE = false;\n    }\n    showOkMsg(object, msg, severity) {\n        let dialogStruc = {\n            msg: msg,\n            title: severity,\n            info: null,\n            object: object,\n            action: this.OkActions,\n            callback: null\n        };\n        this.showConfirmation(dialogStruc);\n    }\n    onRemove_form(form, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isNew:\", object.isNew);\n        if (object.isNew == true) {\n            this.onCancel_form(null, object);\n            return;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.executeQueryresult:\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(object.executeQueryresult);\n        if ((typeof object.executeQueryresult !== \"undefined\") && (object.executeQueryresult.total == 0)) {\n            this.showOkMsg(object, this.nothingToDeletelMsg, \"Warning\");\n            return;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log('onRemove : isChild ' + object.isChild + \" object.isMaster:\" + object.isMaster);\n        let NewVal = form.value;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.executeQueryresult:\" + object.executeQueryresult);\n        if (object.isChild == false) {\n            var paramConfig = getParamConfig();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(paramConfig);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"paramConfig.childRecords:\" + paramConfig.childRecords);\n            if (typeof paramConfig.childRecords === \"undefined\") {\n                paramConfig.childRecords = 0;\n            }\n            if ((paramConfig.childRecords != 0) && (object.isMaster == true)) {\n                let dialogStruc = {\n                    msg: this.deleteDetailMsg,\n                    title: \"Warning\",\n                    info: null,\n                    object: object,\n                    action: this.OkActions,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                return;\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(paramConfig);\n        let dialogStruc = {\n            msg: this.deleteConfirmMsg,\n            title: this.pleaseConfirmMsg,\n            info: form,\n            object: object,\n            action: this.YesNoActions,\n            callback: this.Remove_formAct\n        };\n        this.showConfirmation(dialogStruc);\n    }\n    Remove_formAct(form, object) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"in Remove_formAct\");\n        let NewVal = {};\n        NewVal = form.value;\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(NewVal);\n        //object.form.reset(object.formInitialValues);\n        object.action = \"REMOVE\";\n        NewVal[\"_QUERY\"] = object.deleteCMD;\n        object.starServices.execstarServices_form(NewVal, object);\n    }\n    onNew_form(e, object) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"onNew: object.masterKey:\" + object.masterKey);\n        object.form.reset(object.formInitialValues, { emitEvent: object.emitEvent != null ? object.emitEvent : true });\n        object.clearCompletedOutput.emit(object.formInitialValues);\n        object.isSearch = false;\n        object.isNew = true;\n        this.setPrimarKeyNameArr(object, false);\n    }\n    /******************* Grid functions  ********/\n    addHandler_grid(object) {\n        if (typeof object.masterKeyNameArr != \"undefined\") {\n            if (object.isChild == true) {\n                if (object.masterKeyArr[0] == \"\") {\n                    this.showOkMsg(this, this.saveMasterMsg, \"Error\");\n                    return;\n                }\n            }\n            else {\n                if (object.isChild == true) {\n                    if (object.masterKey == \"\") {\n                        this.showOkMsg(this, this.saveMasterMsg, \"Error\");\n                        return;\n                    }\n                }\n            }\n        }\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"test41:object.gridInitialValues:\", object.gridInitialValues);\n        object.saveCurrent();\n        this.setPrimarKeyNameArr(object, false);\n        /* object.gridInitialValues.MODULE = object.masterKey;*/\n        if ((typeof object.masterKeyNameArr != \"undefined\") && (object.masterKeyNameArr.length != 0)) {\n            this.setPrimarKeyNameArr(object, false);\n            if (object.isChild == true) {\n                for (let i = 0; i < object.masterKeyNameArr.length; i++) {\n                    let readOnly = \"is\" + object.masterKeyNameArr[i] + \"readOnly\";\n                    if (object.primarKeyReadOnlyArr) {\n                        object.primarKeyReadOnlyArr[readOnly] = true;\n                    }\n                    object.gridInitialValues[object.masterKeyNameArr[i]] = object.masterKeyArr[i];\n                }\n            }\n        }\n        else {\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"test4:object.masterKeyName:\", object.masterKeyName);\n            if (object.masterKeyName != \"\") {\n                object.gridInitialValues[object.masterKeyName] = object.masterKey;\n            }\n        }\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"test42:object.gridInitialValues:\", object.gridInitialValues);\n        object.closeEditor();\n        object.formGroup = object.createFormGroupGrid(object.gridInitialValues);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.formGroup:\", object.formGroup);\n        object.isNew = true;\n        object.grid.addRow(object.formGroup);\n        //this.setPrimarKeyNameArr(object, false);\n    }\n    removeHandler_grid(sender, object) {\n        //sender.cancelCell();\n        let paramConfig = getParamConfig();\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"removeHandler_grid paramConfig:object.isMaster \" + object.isMaster);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(paramConfig);\n        if ((paramConfig.childRecords != 0) && (object.isMaster == true)) {\n            let dialogStruc = {\n                msg: this.deleteDetailMsg,\n                title: \"Warning\",\n                info: null,\n                object: object,\n                action: this.OkActions,\n                callback: null\n            };\n            this.showConfirmation(dialogStruc);\n            return;\n        }\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.editedRowIndex :\", object.editedRowIndex);\n        if (typeof object.editedRowIndex !== \"undefined\") {\n            let NewVal = {};\n            let grid_data = JSON.parse(JSON.stringify(object.grid.data));\n            NewVal = grid_data.data[object.editedRowIndex];\n            let curCMD = NewVal[\"_QUERY\"];\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"check:NewVal:_QUERY\", NewVal[\"_QUERY\"]);\n            let result1 = object.starServices.removeRec(object.grid.data, object.editedRowIndex);\n            object.grid.data = result1;\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"check:NewVal:\", NewVal);\n            NewVal[\"_QUERY\"] = object.deleteCMD;\n            if (curCMD != object.insertCMD) {\n                object.addToBody(NewVal);\n                object.removedRec.push(NewVal);\n            }\n        }\n        else\n            object.cancelHandler();\n    }\n    saveCurrent_grid(object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"saveCurrent_grid:object.formGroup:\", object.formGroup);\n        if (object.formGroup) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"saveCurrent_grid:object.formGroup:\", object.formGroup);\n            let NewVal = {};\n            NewVal = Object.assign({}, object.formGroup.value);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log('check:dirty :', object.formGroup.dirty, \" isNew:\", object.isNew, \" NewVal: \", NewVal);\n            if (object.formGroup.dirty === true) {\n                if (object.isNew == true) {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"here1 NewVal\", NewVal);\n                    //let result = object.starServices.addRec(object.grid.data, NewVal) ;\n                    // object.grid.data = result;\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(object.grid.data);\n                    if (object.grid.data == null || typeof object.grid.data.data == \"undefined\")\n                        object.grid.data = { data: [], total: 0 };\n                    //object.grid.data.data.push(NewVal);\n                    object.grid.data.data.splice(0, 0, NewVal);\n                    NewVal[\"_QUERY\"] = object.insertCMD;\n                }\n                else {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log('check:object.grid.data:', object.grid.data, \" NewVal:\", NewVal);\n                    //NewVal = this.parseToDate(NewVal);\n                    if (object.grid.data.data[object.editedRowIndex]._QUERY == object.insertCMD) {\n                        NewVal[\"_QUERY\"] = object.insertCMD;\n                    }\n                    else {\n                        NewVal[\"_QUERY\"] = object.updateCMD;\n                    }\n                    object.grid.data.data[object.editedRowIndex] = NewVal;\n                    //let result1 = object.starServices.updateRec(object.grid.data , object.editedRowIndex, NewVal );\n                    //object.grid.data = result1;\n                }\n                //object.addToBody(NewVal); // addToBody will be done at saveChanges_grid to avoid duplicte update since object.grid.data.data is getting updated\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(object.grid.data);\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"pre close\");\n            object.closeEditor();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"post close\");\n        }\n    }\n    closeEditor_grid(object) {\n        //console.log(\"Del:object.editedRowIndex:\", object.editedRowIndex);\n        //console.log(\"Del:object.grid:\", object.grid);\n        object.grid.closeRow(object.editedRowIndex);\n        object.isNew = false;\n        object.editedRowIndex = undefined;\n        object.formGroup = undefined;\n    }\n    cancelHandler_grid(object) {\n        object.closeEditor();\n        object.isSearch = false;\n        object.FORM_TRIGGER_FAILURE = false;\n        //object.removedRec.length = 0;\n    }\n    saveChanges_grid_inTrans(grid, object, NewVal) {\n        this.commitBody.push(NewVal);\n        if (object.isChild == true) {\n            let gridRecords = object.grid.data.data.length;\n            let paramConfig = {\n                \"Name\": \"childRecords\",\n                \"Val\": gridRecords\n            };\n            setParamConfig(paramConfig);\n        }\n        if (typeof object.callBackPost_Save !== \"undefined\") {\n            let NewVal1 = [];\n            NewVal1.push(NewVal);\n            object.callBackPost_Save.apply(object, NewVal1);\n        }\n        this.setPrimarKeyNameArr(object, true);\n        object.saveCompletedOutput.emit(grid);\n    }\n    saveChanges_grid(grid, object) {\n        if ((object.grid.data == null) || (typeof object.grid.data.data == \"undefined\")) {\n            return;\n        }\n        let Error = false;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"pre object.saveCurrent\");\n        object.saveCurrent();\n        if (object.componentConfig.routineAuth != null) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"authLevel:\" + object.componentConfig.routineAuth.authLevel);\n            if (object.componentConfig.routineAuth.authLevel != 2) {\n                let dialogStruc = {\n                    msg: this.readOnlyMsg,\n                    title: \"Warning\",\n                    info: null,\n                    object: object,\n                    action: this.OkActions,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                return;\n            }\n        }\n        let NewVal = [];\n        for (let i = 0; i < object.grid.data.data.length; i++) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"check: object.grid.data.data[i]._QUERY:\", object.grid.data.data[i]._QUERY);\n            if (typeof object.grid.data.data[i]._QUERY != \"undefined\") {\n                NewVal = object.grid.data.data[i];\n                object.addToBody(NewVal);\n            }\n        }\n        if (this.inTrans) {\n            this.saveChanges_grid_inTrans(grid, object, NewVal);\n            return;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"check: object.Body:\", object.Body);\n        if (object.Body.length != 0) {\n            let Page = \"&_trans=Y\";\n            this.post(object, Page, object.Body).subscribe(Page => {\n                object.Body = [];\n                for (let i = object.grid.data.data.length - 1; i >= 0; i--) {\n                    if (typeof object.grid.data.data[i]._QUERY != \"undefined\") {\n                        object.grid.data.data[i]._QUERY_DONE = object.grid.data.data[i]._QUERY;\n                        delete object.grid.data.data[i]._QUERY;\n                    }\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"check: object.grid.data.data[i]._QUERY:\", object.grid.data.data[i]._QUERY);\n                }\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.grid.data.data:\", object.grid.data.data);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.grid.data.data:.length\", object.grid.data.data.length);\n                if (object.isChild == true) {\n                    let gridRecords = object.grid.data.data.length;\n                    let paramConfig = {\n                        \"Name\": \"childRecords\",\n                        \"Val\": gridRecords\n                    };\n                    setParamConfig(paramConfig);\n                }\n                this.showNotification('success', \"Data saved successfully\");\n                if (typeof object.callBackPost_Save !== \"undefined\") {\n                    let NewVal1 = [];\n                    NewVal1.push(NewVal);\n                    object.callBackPost_Save.apply(object, NewVal1);\n                }\n                this.setPrimarKeyNameArr(object, true);\n            }, err => {\n                for (let i = object.Body.length - 1; i >= 0; i--) {\n                    if (object.Body[i]._QUERY != object.deleteCMD) {\n                        object.Body.splice(i, 1);\n                    }\n                }\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"err:\", err);\n                let errMsg = this.getErrorMsg(err);\n                this.showNotification(\"error\", \"error:\" + errMsg);\n                Error = true;\n            });\n        }\n        else {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"object.isMaster:\" + object.isMaster);\n            if (!object.isMaster)\n                this.showNotification('warning', \"No changes to save\");\n        }\n        if (!Error)\n            object.saveCompletedOutput.emit(grid);\n    }\n    getErrorMsg(err) {\n        let errMsg = \"\";\n        if (typeof err.error.error != \"undefined\") {\n            errMsg = err.error.error;\n        }\n        else\n            errMsg = err.error;\n        return errMsg;\n    }\n    executeQuery_grid(grid, object) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.grid:\", object.grid);\n        if (typeof object.grid == \"undefined\")\n            return;\n        let dirty = false;\n        //if (this.paramConfig.DEBUG_FLAG) console.log (\"executeQuery_grid:\" + object.Body.length + \" \" + object.grid.isEditing(), \"object.Body:\",object.Body);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"object.Body:\",object.Body)\n        if ((object.Body.length != 0) || object.grid.isEditing() == true) {\n            dirty = true;\n        }\n        if (dirty == true) {\n            let dialogStruc = {\n                msg: this.saveChangesMsg,\n                title: this.pleaseConfirmMsg,\n                info: grid,\n                object: object,\n                action: this.YesNoActions,\n                callback: this.executeQueryAct_grid\n            };\n            this.showConfirmation(dialogStruc);\n        }\n        else {\n            this.executeQueryAct_grid(grid, object);\n        }\n    }\n    executeQueryAct_grid(grid, object) {\n        let paramConfig = {\n            \"Name\": \"childRecords\",\n            \"Val\": 0\n        };\n        setParamConfig(paramConfig);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isChild:\", object.isChild, \" object.isSearch :\", object.isSearch);\n        if (object.isChild == true) {\n            if (object.isSearch != true) {\n                grid = object.gridInitialValues;\n                if ((typeof object.masterKeyNameArr != \"undefined\") && (object.masterKeyNameArr.length != 0)) {\n                    for (let i = 0; i < object.masterKeyNameArr.length; i++) {\n                        object.gridInitialValues[object.masterKeyNameArr[i]] = object.masterKeyArr[i];\n                    }\n                }\n                else {\n                    object.gridInitialValues[object.masterKeyName] = object.masterKey;\n                }\n                //grid[object.masterKeyName] = object.masterKey;\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.masterKeyName:\" + object.masterKeyName);\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(grid);\n                object.isSearch = true;\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"---Searching:\");\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(grid);\n            }\n        }\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log('------------executeQuery object.isSearch :' + object.isSearch + \"  object.isChild:\" + object.isChild);\n        // if (object.paramConfig.DEBUG_FLAG) console.log(object.grid);\n        let Page = \"&_query=\" + object.getCMD;\n        if (object.isSearch == true) {\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log('object.formGroup:', object.formGroup, 'typeof(grid):', typeof (grid.data), ' grid:', grid);\n            let NewVal = \"\";\n            if (typeof object.formGroup == \"undefined\") {\n                // a child component\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log('grid:', typeof (grid.data));\n                if (typeof grid.data == \"object\")\n                    NewVal = grid.data; // passed empty grid\n                else\n                    NewVal = grid; // used the passed grid param\n            }\n            else\n                NewVal = object.formGroup.value;\n            object.isSearch = false;\n            if ((typeof object.formattedWhere === \"undefined\") || (object.formattedWhere == null)) {\n                Page = Page + object.starServices.formatWhere(NewVal);\n            }\n            else {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"object.formattedWhere\", object.formattedWhere);\n                Page = Page + object.formattedWhere;\n                object.formattedWhere = null;\n            }\n            if ((typeof object.OrderByClause !== \"undefined\") && (object.OrderByClause != \"\"))\n                Page = Page + \"&_ORDERBY=\" + object.OrderByClause;\n        }\n        Page = encodeURI(Page);\n        //if (object.paramConfig.DEBUG_FLAG) console.log('Page:' + Page);\n        object.grid.loading = true;\n        object.closeEditor();\n        object.executeQueryresult = [];\n        object.executeQueryresult.result = 0;\n        object.CurrentRec = 0;\n        object.grid.data = null;\n        object.starServices.fetch(object, Page).subscribe(result => {\n            if (result != null) {\n                let actualResult = Object.assign({}, result, {});\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"------result.data[0].data :\");\n                //if (object.paramConfig.DEBUG_FLAG) console.log(result.data[0].data);\n                for (let i = 0; i < result.data[0].data.length; i++) {\n                    result.data[0].data[i] = object.starServices.parseToDate(result.data[0].data[i]);\n                    if (result.data[0].data[i]._QUERY != \"undefined\") {\n                        delete result.data[0].data[i]._QUERY;\n                        delete result.data[0].data[i]._QUERY_DONE;\n                    }\n                }\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(result.data[0].data[0]);\n                object.Body = [];\n                result = { data: result.data[0].data,\n                    total: parseInt(result.data[0].data.length, 10) };\n                if (object.isMaster)\n                    object.starServices.showNotification('success', \"Records retrieved : \" + result.total);\n                object.executeQueryresult = result;\n                if (object.isChild == true) {\n                    let paramConfig = {\n                        \"Name\": \"childRecords\",\n                        \"Val\": result.total\n                    };\n                    setParamConfig(paramConfig);\n                }\n            }\n            object.grid.loading = false;\n            object.grid.data = result;\n            if (typeof object.callBackFunction !== \"undefined\")\n                object.callBackFunction(result);\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"grid servicereadCompletedOutput\");\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(object.grid.data.data);\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"result length:\" + result.length);\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"result total:\" + result.total);\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"object.performReadCompletedOutput:\" + object.performReadCompletedOutput);\n            if ((typeof object.performReadCompletedOutput !== \"undefined\") || (object.performReadCompletedOutput == false)) {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"here1\");\n            }\n            else {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"here2\");\n                if (object.disableEmitReadCompleted != true) {\n                    if (result.total != 0)\n                        object.readCompletedOutput.emit(object.grid.data.data[0]);\n                    else\n                        object.readCompletedOutput.emit([]);\n                }\n            }\n            object.starServices.setPrimarKeyNameArr(object, true);\n        }, err => {\n            object.Body = [];\n            object.grid.loading = false;\n            object.grid.data = null;\n            if (object.paramConfig.DEBUG_FLAG)\n                console.log(\"err:\", err);\n            object.starServices.showNotification(\"error\", \"error:\" + err.error.error.code);\n        });\n        object.docClickSubscription = object.renderer.listen('document', 'click', object.onDocumentClick.bind(object));\n    }\n    enterQueryAct_grid(grid, object) {\n        object.grid.cancel;\n        object.grid.data = null;\n        object.Body = [];\n        object.isSearch = true;\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.isSearch:\" + object.isSearch);\n        object.addHandler();\n        object.clearCompletedOutput.emit(object.formInitialValues);\n        object.starServices.setPrimarKeyNameArr(object, false);\n    }\n    enterQuery_grid(grid, object) {\n        let dirty = false;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"pre object.saveCurrent\");\n        object.saveCurrent();\n        let modified = false;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.grid.data\");\n        if (object.grid.data != null) {\n            if (typeof object.grid.data.data !== \"undefined\") {\n                for (let i = 0; i < object.grid.data.data.length; i++) {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"check: i:\", i, \" object.grid.data.data[i]._QUERY:\", object.grid.data.data[i]._QUERY);\n                    if (typeof object.grid.data.data[i]._QUERY !== \"undefined\") {\n                        modified = true;\n                    }\n                }\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"object.saveCurrent :\" + object.Body.length + \" \" + object.grid.isEditing());\n        if (object.Body.length != 0) {\n            modified = true;\n        }\n        if ((modified == true) || object.grid.isEditing() == true) {\n            dirty = true;\n        }\n        if (dirty == true) {\n            let dialogStruc = {\n                msg: this.saveChangesMsg,\n                title: this.pleaseConfirmMsg,\n                info: grid,\n                object: object,\n                action: this.YesNoActions,\n                callback: this.enterQueryAct_grid\n            };\n            this.showConfirmation(dialogStruc);\n        }\n        else {\n            this.enterQueryAct_grid(grid, object);\n        }\n    }\n    setStrAuth(user, password) {\n        this.StrAuth = user + \":\" + password;\n        this.StrAuth = btoa(this.StrAuth);\n        this.StrAuth = \"Basic \" + this.StrAuth;\n    }\n    isASCII(str) {\n        return /^[\\x00-\\x7F]*$/.test(str);\n    }\n    login(object, user, password) {\n        if (!this.isASCII(user)) {\n            this.showNotification(\"error\", \"rror: \" + \"Not a valid User Name\");\n        }\n        this.paramConfig = getParamConfig();\n        this.setStrAuth(user, password);\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"this.StrAuth:\" + this.StrAuth);\n        let Page = \"\";\n        let success = false;\n        const md5 = new Md5();\n        let pass = md5.appendStr(password).end();\n        user = user.toUpperCase().trim();\n        let NewVal = {\n            \"USERNAME\": user,\n            \"PASSWORD\": pass\n        };\n        NewVal[\"_QUERY\"] = \"VERIFY_ADM_USER\";\n        object.Body = [];\n        object.Body = [];\n        object.addToBody(NewVal);\n        let paramConfig = {\n            \"Name\": \"USERNAME\",\n            \"Val\": user\n        };\n        setParamConfig(paramConfig);\n        this.sessionParams[\"USERNAME\"] = user;\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (typeof result.data[0].data[0] !== \"undefined\") {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"Object in login HF\", object.Body, user);\n                if (result.data[0].data[0].USERNAME == user) {\n                    this.USERNAME = user;\n                    object.Body = [];\n                    let paramConfig = {\n                        \"Name\": \"USER_INFO\",\n                        \"Val\": result.data[0].data[0]\n                    };\n                    setParamConfig(paramConfig);\n                    this.sessionParams[\"USER_INFO\"] = result.data[0].data[0];\n                    this.USER_INFO = result.data[0].data[0];\n                    if (this.sessionParams.USER_INFO.MASTER_DB != \"\") {\n                        this.MASTER_DB = this.sessionParams.USER_INFO.MASTER_DB;\n                        this.USERNAME_DB = this.sessionParams.USER_INFO.MASTER_DB;\n                    }\n                    success = true;\n                    this.loadRules(object);\n                    if (object.testEKYC) {\n                        object.loginCompletedHandler(null);\n                    }\n                    else\n                        object.loginCompleted.emit(this);\n                }\n            }\n            if (!success)\n                this.showNotification(\"error\", \"error:\" + \"Wrong user or password\");\n        }, err => {\n            object.Body = [];\n            this.showNotification(\"error\", \"error:\" + \"Wrong user or password\");\n        });\n    }\n    getUserInfo(object, user) {\n        this.paramConfig = getParamConfig();\n        let Page = \"\";\n        let success = false;\n        user = user.toUpperCase().trim();\n        user = user.trim();\n        let NewVal = {\n            \"USERNAME\": user\n        };\n        NewVal[\"_QUERY\"] = \"GET_ADM_USER_INFORMATION\";\n        object.Body = [];\n        object.addToBody(NewVal);\n        let paramConfig = {\n            \"Name\": \"USERNAME\",\n            \"Val\": user\n        };\n        setParamConfig(paramConfig);\n        this.sessionParams[\"USERNAME\"] = user;\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (typeof result.data[0].data[0] !== \"undefined\") {\n                console.log(\"result:\", result.data[0].data[0]);\n                if (result.data[0].data[0].USERNAME == user) {\n                    this.USERNAME = user;\n                    object.Body = [];\n                    let paramConfig = {\n                        \"Name\": \"USER_INFO\",\n                        \"Val\": result.data[0].data[0]\n                    };\n                    setParamConfig(paramConfig);\n                    this.sessionParams[\"USER_INFO\"] = result.data[0].data[0];\n                    this.USER_INFO = result.data[0].data[0];\n                    if ((this.sessionParams.USER_INFO.MASTER_DB != \"\") && (typeof this.sessionParams.USER_INFO.MASTER_DB !== \"undefined\")) {\n                        this.MASTER_DB = this.sessionParams.USER_INFO.MASTER_DB;\n                    }\n                    success = true;\n                    this.loadRules(object);\n                    if (object.testEKYC) {\n                        object.loginCompletedHandler(null);\n                    }\n                    else\n                        object.loginCompletedHandler(this);\n                }\n            }\n            if (!success) {\n                let errorMsg = user + \"is not defined in STAR DB\";\n                let dialogStruc = {\n                    msg: errorMsg,\n                    title: \"Error\",\n                    info: null,\n                    object: object,\n                    action: null,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                object.logoff(3000);\n            }\n        }, err => {\n            object.Body = [];\n            let errorMsg = user + \"is not defined in STAR DB\";\n            let dialogStruc = {\n                msg: errorMsg,\n                title: \"Error\",\n                info: null,\n                object: object,\n                action: null,\n                callback: null\n            };\n            this.showConfirmation(dialogStruc);\n            object.logoff(3000);\n        });\n    }\n    /////////////////\n    LogRule(object, ruleLog, msgResponse, status) {\n        function prepareDataForDB(dataIn) {\n            let dataOut = JSON.stringify(dataIn);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"dataIn:\", dataIn, \" dataOut:\", dataOut);\n            dataOut = dataOut.split(\"'\").join('\"');\n            return dataOut;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"-----msgResponse:\", msgResponse, \"ruleLog:\", ruleLog);\n        let db = ruleLog.db;\n        let d = new Date();\n        let dateIso = d.toISOString();\n        let RULE_KEY = ruleLog.rule.RULE_KEY;\n        let array = RULE_KEY.split(\",\");\n        //let ruleKey = {};\n        let ruleKey = \"\";\n        let ruleKeyName = \"\";\n        for (let i = 0; i < array.length; i++) {\n            let elem = array[i];\n            let elem_value = ruleLog.queryData[elem];\n            if (typeof elem_value !== \"undefined\") {\n                //ruleKey[elem] = elem_value;\n                if (ruleKey != \"\") {\n                    ruleKey = ruleKey + \"_\";\n                }\n                ruleKey = ruleKey + elem_value;\n                if (ruleKeyName != \"\") {\n                    ruleKeyName = ruleKeyName + \"_\";\n                }\n                ruleKeyName = ruleKeyName + elem;\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"ruleKey:\", ruleKey, \" ruleKeyName:\", ruleKeyName);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"RULE_KEY:\", RULE_KEY);\n        let queryData = prepareDataForDB(ruleLog.queryData);\n        //let bodyToSend = prepareDataForDB(ruleLog.bodyToSend);\n        let bodyToSend = ruleLog.bodyToSend;\n        let parametersToSend = prepareDataForDB(ruleLog.parametersToSend);\n        // let ruleKeyStr = prepareDataForDB(ruleKey);\n        let msgResponseStr = prepareDataForDB(msgResponse);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"queryData:\" + queryData);\n        //\n        let userName = object.starServices.sessionParams.USER_INFO.Name;\n        object.Body = [];\n        let Page = \"\";\n        let NewVal = {\n            \"RULE_KEY\": ruleKey,\n            \"RULE_KEY_NAME\": ruleKeyName,\n            \"STATUS\": status,\n            \"MODULE\": ruleLog.rule.MODULE,\n            \"RULE_ID\": ruleLog.rule.RULE_ID,\n            \"ACTION_ID\": ruleLog.action.ACTION_ID,\n            \"SENT_DATE\": ruleLog.sentDate,\n            \"MSG_RECEIVED\": queryData,\n            \"PARAMETER_SENT\": parametersToSend,\n            \"BODY_SENT\": bodyToSend,\n            \"MSG_RESPONSE\": msgResponseStr,\n            \"LOGDATE\": dateIso,\n            \"LOGNAME\": userName\n        };\n        NewVal[\"_QUERY\"] = \"INSERT_ADM_RULE_LOG\";\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"test:NewVal:\", NewVal)\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"test:object.Body:\", object.Body)\n        object.addToBody(NewVal);\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:result.data:\", result.data);\n            object.Body = [];\n        }, err => {\n            object.Body = [];\n            this.showNotification(\"error\", \"error:\" + err.message);\n        });\n    }\n    performHttpPost(object, bodyToSend, parametersToSend, sendTo, queryData, rule, action, Trigger, hostDef, hostMapDef, headerParam) {\n        var valid = false;\n        let error = 0;\n        let msg = \"\";\n        let options = {\n            host: '',\n            path: '',\n            port: 80,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                //'Content-Type': 'text/xml; charset=utf-8',\n                \"authorization\": \"\"\n            }\n        };\n        // if (this.paramConfig.DEBUG_FLAG) console.log(\"---------------req.url:\",req.url);\n        // if (this.paramConfig.DEBUG_FLAG) console.log(\"---------------pathname:\",req._parsedUrl.pathname);\n        // if (this.paramConfig.DEBUG_FLAG) console.log(\"---------------path:\",req._parsedUrl.path);\n        let d = new Date();\n        let dateIso = d.toISOString();\n        if (hostDef == null)\n            hostDef = \"\";\n        let ruleLog = {\n            rule: rule,\n            action: action,\n            queryData: queryData,\n            bodyToSend: bodyToSend,\n            parametersToSend: parametersToSend,\n            //  \"db\": db,\n            sentDate: dateIso,\n            hostDef: hostDef\n        };\n        if (sendTo == \"WF\") {\n            let url = this.BASE_URL;\n            options.headers.authorization = this.StrAuth;\n            valid = true;\n        }\n        else {\n            if (hostDef != \"\") {\n                let path = \"/\" + hostDef.PATH;\n                if (parametersToSend != \"\")\n                    path = path + parametersToSend;\n                let host = hostDef.HOST;\n                let port = parseInt(hostDef.PORT);\n                let method = hostDef.HTTP_METHOD;\n                options.host = host;\n                options.port = port;\n                options.path = path;\n                options.method = method;\n                // let url = \"http://\" + host + \":\" + port  + path + parametersToSend ;\n                let url = hostDef.URL;\n                //\t\t\t\t\toptions.headers.authorization = req.headers.authorization;\n                //bodyToSend = \"\";\n                valid = true;\n            }\n            else {\n                error = 100;\n                msg = \"undefined Host :\" + sendTo;\n                this.LogRule(object, ruleLog, msg, 100);\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"here2:valid:\", valid);\n        if (valid) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"options:\", options);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"------bodyToSend:\" + bodyToSend, \"  Trigger:\", Trigger);\n            let keys = Object.keys(headerParam);\n            for (let i = 0; i < keys.length; i++) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(keys[i] + \" \" + headerParam[keys[i]]);\n                if (headerParam[keys[i]] != null) {\n                    options.headers[keys[i]] = headerParam[keys[i]];\n                    //screenConfig[ keys[i] ] = componentConfig[ keys[i] ];\n                }\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"here2:action.ACTION_CODE:\", action.ACTION_CODE);\n            if (action.ACTION_CODE == \"SEND_WAIT\") {\n                /*\n                let sendingLib = \"request\";\n                status = 1;\n                let headers  =  {headers:options.headers};\n                if (this.paramConfig.DEBUG_FLAG) console.log(\"headers:\", headers);\n                let url = \"http://\" + host + \":\" + port  + path + parametersToSend ;\n                if (this.paramConfig.DEBUG_FLAG) console.log(\"---url:\", url);\n                if (method == \"GET\")\n                {\n                  let res = request(method, url, headers);\n                  let result = JSON.parse(res.getBody('utf8'));\n                }\n                else\n                if (method == \"POST\")\n                {\n        \n                  let dataForSync = { body : bodyToSend, headers:options.headers};\n                  let res = request(method, url, dataForSync);\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\"res:\", res);\n                  let statusCode = res.statusCode;\n                  let msgResponse =\"\";\n                  if (statusCode == 200)\n                  {\n                    let contentType = res.headers['content-type'];\n        \n                    let msgResponse = res.getBody('utf8');\n                    if (this.paramConfig.DEBUG_FLAG) console.log(\"statusCode:\", statusCode,\" headers:\", headers,  \" msgResponse:\", msgResponse);\n                    let n = contentType.search(\"json\");\n                    if (n != -1)\n                      let result = JSON.stringify(JSON.parse(msgResponse));\n                    else\n                      let result = msgResponse;\n                    if (this.paramConfig.DEBUG_FLAG) console.log(\"result:\" +  result);\n                  }\n                  else\n                  {\n                    error = statusCode;\n                    let msgResponse = res.body.toString();\n                    msg = msgResponse;\n                  }\n        \n                }\n                if (error == 0)\n                {\n                  if ( (hostMapDef != null) &&  (hostMapDef.XSLT_RECEIVE != null) && (hostMapDef.XSLT_RECEIVE != \"\") )\n                  {\n                    {\n                      //result = xsltmap.mapDataOut(result, hostMapDef.XSLT_RECEIVE);\n                      //if (this.paramConfig.DEBUG_FLAG) console.log(\"result:\", result);\n        \n                    }\n                  }\n        \n                  let status = extractStatus (ruleLog, result);\n                  LogRule(ruleLog, result, status );\n                  error = status;\n                  if (status != 0)\n                    msg = result;\n                }\n                */\n            }\n            else {\n                //async\n                function extractStatus(ruleLog, msgResponse) {\n                    let successMsg = ruleLog.hostDef.SUCCESS_MSG;\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"-------msgResponse:\", msgResponse, successMsg);\n                    let array = successMsg.split(\":\");\n                    let field = array[0];\n                    let value = array[1];\n                    let msgResponseArr = msgResponse;\n                    msgResponse = JSON.stringify(msgResponseArr);\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"field:\", field, \" value:\", value, \" msgResponseArr:\", msgResponseArr);\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"-------msgResponseArr[field]:\", msgResponseArr[field], value);\n                    let status = 1;\n                    if (msgResponseArr[field] == value)\n                        status = 0;\n                    return status;\n                }\n                function extractResponseData(msgResponse, responseDataID) {\n                    function getKey(Elm, elmVal) {\n                        let keys = Object.keys(Elm);\n                        let k = 0;\n                        let elmObj;\n                        while (k < keys.length) {\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"[keys[k]:\", keys[k]);\n                            if (keys[k] == elmVal) {\n                                let elmName = keys[k];\n                                elmObj = Elm[elmName];\n                                if (this.paramConfig.DEBUG_FLAG)\n                                    console.log(\"elmObj:\", elmObj);\n                                break;\n                            }\n                            k++;\n                        }\n                        return elmObj;\n                    }\n                    let array = responseDataID.split(\".\");\n                    for (let i = 0; i < array.length; i++) {\n                        let returnKey = getKey(msgResponse, array[i]);\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"returnKey.length:\", returnKey.length);\n                        if (returnKey.length == 1)\n                            msgResponse = returnKey[0];\n                        else\n                            msgResponse = returnKey;\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"msgResponse:\", msgResponse);\n                    }\n                    return msgResponse;\n                }\n                /*\n                function  handleResponseEnd(ruleLog, msgResponse){\n                  let status = extractStatus (ruleLog, msgResponse);\n                  this.LogRule(ruleLog, msgResponse, status);\n        \n        \n                  //\t.RULE_ID + \",\" +  action.ACTION_ID + \",\" + users.getUserName() + \",\"  + dateIso;\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\"-------handleResponse:status:\" ,  status);\n                }\n                */\n                function getBody(msgResponse) {\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"msgResponse:\", msgResponse)\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"msgResponse:body\", msgResponse.body)\n                    return msgResponse.body;\n                }\n                /*\n                      let handleResponse = function(response,  ruleLog){\n                        let msgResponse = ''\n                        response.on('data', function (chunk) {\n                        msgResponse += chunk;\n                        });\n                        response.on('end', function () {\n                         handleResponseEnd(ruleLog, msgResponse);\n                         });\n              \n                      }\n                      */\n                let headers = {\n                    headers: new HttpHeaders()\n                        .set('Authorization', this.StrAuth)\n                        .set('Content-Type', \"application/json\")\n                };\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"here2:headers:\", headers);\n                if (bodyToSend == \"\")\n                    bodyToSend = null;\n                let bodyToSendKSON = JSON.parse(bodyToSend);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"here2:bodyToSendKSON:\", bodyToSendKSON);\n                let url = hostDef.URL + parametersToSend;\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"---url:\", url);\n                const request = new HttpRequest(options.method, url, bodyToSendKSON, headers);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"------------request:\", request, \" bodyToSendKSON:\", bodyToSendKSON);\n                let msgBodyAll;\n                this.syncFlag = 1;\n                //https://developpaper.com/getting-started-with-angular-http-client/\n                this.http.request(request)\n                    .subscribe((response) => {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\" call successful value returned in body\", response);\n                    let msgBody = getBody(response);\n                    if (typeof msgBody !== \"undefined\") {\n                        msgBodyAll = msgBody;\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"msgBodyAll:\", msgBodyAll);\n                    }\n                }, error => {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"PUT call in error:\", error);\n                    this.syncFlag = 0;\n                    this.showNotification(\"error\", \"error calling: \" + url + \":\" + error.error.error);\n                }, () => {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"The  observable is now completed:msgBodyAll:\", msgBodyAll);\n                    if (typeof msgBodyAll !== \"undefined\") {\n                        let status = extractStatus(ruleLog, msgBodyAll);\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"-------uleLog.rule:\", ruleLog.rule);\n                        if (Trigger == \"POST_QUERY\") {\n                            let responseDataID = ruleLog.rule.RESPONSE_DATA_ID;\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"TABS:responseDataID:\", responseDataID);\n                            let responseData = extractResponseData(msgBodyAll, responseDataID);\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"TABS:responseData:\", responseData);\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"TABS:ruleLog.rule.RESPONSE_DATA_NAME:\", ruleLog.rule.RESPONSE_DATA_NAME);\n                            if (typeof responseData !== \"undefined\") {\n                                object[ruleLog.rule.RESPONSE_DATA_NAME] = responseData;\n                                if (this.paramConfig.DEBUG_FLAG)\n                                    console.log(\"TABS:object.tabsAPIResponse:\", object.tabsAPIResponse);\n                            }\n                        }\n                        this.syncFlag = 0;\n                        this.LogRule(object, ruleLog, msgBodyAll, status);\n                    }\n                });\n                /*\n              let reqNew = this.http.request(options, function(response){ handleResponse(response,  ruleLog); });\n              reqNew.on('error', function(err) {\n                // Handle error\n                error = err;\n                msg = \"Error sending to Host :\" +sendTo ;\n                if (this.paramConfig.DEBUG_FLAG) console.log( msg + \" Error:\" + err );\n                this.LogRule(ruleLog, msg + \" Error:\" + err, 400 );\n              });\n      \n              if (this.paramConfig.DEBUG_FLAG) console.log(\"here1\");\n              reqNew.write(bodyToSend);\n              if (this.paramConfig.DEBUG_FLAG) console.log(\"here2\");\n              reqNew.end();\n              if (this.paramConfig.DEBUG_FLAG) console.log(\"here3\");\n              */\n            }\n        }\n        let statusRec = {\n            status: error,\n            msg: msg\n        };\n        /*let status = 1;\n        if (!valid){\n          statusRec.status = 1;\n          statusRec.msg =\n        }*/\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"valid:\", valid, \" status:\", statusRec);\n        return (statusRec);\n    }\n    sendToServer(object, actionsArr, queryData, rule, action, Trigger, hostsArr, hostsMapArr) {\n        function getElmValue(paramData, queryData) {\n            function getORDER_FIELDSData(param, orderFields) {\n                let val = \"\";\n                if (orderFields != \"\") {\n                    let array = param.split(\".\");\n                    let fieldName = array[1];\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"fieldName:\", fieldName, \" orderFields:\", orderFields);\n                    if (typeof orderFields !== \"undefined\") {\n                        orderFields = JSON.parse(orderFields);\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"orderFields:\", orderFields);\n                        let fieldsData = orderFields.data;\n                        val = fieldsData[fieldName];\n                    }\n                }\n                return val;\n            }\n            let val = paramData;\n            var n = 0;\n            n = paramData.search(\":\");\n            if (n != -1) {\n                let array = paramData.split(\":\");\n                for (let i = 0; i < array.length; i++) {\n                    if (i != 0) {\n                        n = array[i].search(\" \");\n                        if (this.paramConfig.DEBUG_FLAG)\n                            console.log(\"n:\", n, \"array[i]:\", array[i]);\n                        if (n == -1)\n                            n = array[i].length;\n                        if (n != -1) {\n                            let param = array[i].slice(0, n);\n                            param = param.trim();\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"param:\" + param);\n                            let nincludes = param.includes(\".\");\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"nincludes:\", nincludes);\n                            if (nincludes == true) {\n                                val = getORDER_FIELDSData(param, queryData.ORDER_FIELDS);\n                            }\n                            else\n                                val = queryData[param];\n                            if (typeof val == \"string\")\n                                val = val.trim();\n                            if (this.paramConfig.DEBUG_FLAG)\n                                console.log(\"param:\", param, \" val:\", val);\n                        }\n                    }\n                }\n            }\n            if (typeof val == \"string\")\n                val = val.split(\"'\").join(\"\");\n            return val;\n        }\n        function getHost(sendTo, hostsArr) {\n            let i = 0;\n            while (i < hostsArr.length) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"-----------hostsArr[i].HOST_ID :\", hostsArr[i].HOST_ID, \" sendTo:\", sendTo);\n                if (hostsArr[i].HOST_ID == sendTo)\n                    return hostsArr[i];\n                i++;\n            }\n            return null;\n        }\n        function getHostMap(hostDef, mapID, hostsMapArr) {\n            let i = 0;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"-----------mapID:\", mapID, \" hostDef.MAP_ID:\", hostDef.MAP_ID);\n            if ((mapID != null) && (mapID != \"\")) {\n                while (i < hostsMapArr.length) {\n                    if ((hostsMapArr[i].HOST_ID == hostDef.HOST_ID) && (mapID == hostsMapArr[i].MAP_ID))\n                        return hostsMapArr[i];\n                    i++;\n                }\n            }\n            return null;\n        }\n        ////////////////////\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"****************actionsArr:\", actionsArr);\n        let statusRec;\n        let sendTo = actionsArr.SEND_TO;\n        let qryParam = {};\n        let headerParam = {};\n        let bodyToSendArr = [];\n        let bodyToSend = \"\";\n        let parametersToSend = \"\";\n        let hostDef = getHost(sendTo, hostsArr);\n        let hostMapDef = getHostMap(hostDef, action.MAP_ID, hostsMapArr);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"hostMapDef:\", hostMapDef);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"****hostDef.HEADER:\", hostDef.HEADER);\n        if ((hostDef.HEADER != null) && (hostDef.HEADER != \"\")) {\n            let array = hostDef.HEADER.split(\"\\n\");\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"array:\", array, \" array.length:\", array.length);\n            for (let i = 0; i < array.length; i++) {\n                let elem = array[i];\n                let arrayParam = elem.split(\":\");\n                let param = arrayParam[0];\n                param = param.trim();\n                let paramData = arrayParam[1];\n                paramData = paramData.trim();\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"paramData:\", paramData);\n                paramData = getElmValue(paramData, queryData);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"-----------------------------param:\", param, \" paramData:\", paramData);\n                headerParam[param] = paramData;\n            }\n        }\n        if ((actionsArr.BODY_DATA != null) && (actionsArr.BODY_DATA != \"\")) {\n            let bodyData = actionsArr.BODY_DATA;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"bodyData:\", bodyData);\n            let array = bodyData.split(\",\");\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"array:\", array, \" array.length:\", array.length);\n            for (let i = 0; i < array.length; i++) {\n                let elem = array[i];\n                let arrayParam = elem.split(\"=\");\n                let param = arrayParam[0];\n                param = param.trim();\n                let paramData = arrayParam[1];\n                paramData = paramData.trim();\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"paramData:\", paramData);\n                paramData = getElmValue(paramData, queryData);\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"-----------------------------param:\", param, \" paramData:\", paramData);\n                qryParam[param] = paramData;\n            }\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"qryParam:here\");\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"qryParam:\", qryParam , \" qryParam.length :\", Object.keys(qryParam).length);\n            bodyToSendArr.push(qryParam);\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"---hostDef:\", hostDef);//fuad\n            if (bodyToSendArr.length != 0) {\n                /*if ( (hostMapDef != null) &&  (hostMapDef.XSLT_SEND != null) && (hostMapDef.XSLT_SEND != \"\") )\n                {\n                  {\n                    bodyToSend = xsltmap.mapData(bodyToSendArr, hostMapDef.XSLT_SEND);\n      \n                  }\n                }\n                else\n                {*/\n                bodyToSend = JSON.stringify(bodyToSendArr);\n                //}\n            }\n            /*\n            let hexout = hexdump(bodyToSend, 16) ;\n            if (this.paramConfig.DEBUG_FLAG) console.log(\"hexout:\",hexout);\n            */\n        }\n        if ((actionsArr.PARAMETER_DATA != null) && (actionsArr.PARAMETER_DATA != \"\")) {\n            let parameterData = actionsArr.PARAMETER_DATA;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"parameterData:\", parameterData);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"parameterData.length:\", parameterData.length);\n            let array = parameterData.split(\",\");\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"array:\", array, \" array.length:\", array.length);\n            for (let i = 0; i < array.length; i++) {\n                let elem = array[i];\n                let arrayParam = elem.split(\"=\");\n                let param = arrayParam[0];\n                param = param.trim();\n                let paramData = arrayParam[1];\n                paramData = paramData.trim();\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"paramData:\", paramData);\n                paramData = getElmValue(paramData, queryData);\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"-----------------------------param:\", param, \" paramData:\", paramData);\n                if (parametersToSend == \"\")\n                    parametersToSend = \"?\" + param + \"=\" + paramData;\n                else\n                    parametersToSend = parametersToSend + \"&\" + param + \"=\" + paramData;\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"bodyToSend:\", bodyToSend);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"parametersToSend:\", parametersToSend);\n        statusRec = this.performHttpPost(object, bodyToSend, parametersToSend, sendTo, queryData, rule, action, Trigger, hostDef, hostMapDef, headerParam);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"post performHttpPost: status:\", statusRec);\n        return statusRec;\n    }\n    performAction(object, qry, ptr, queryData, rule, rulesDef, Trigger, hostsArr, hostsMapArr) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"---performAction:rulesDef:\", rulesDef);\n        let status = 0;\n        let statusRec = {\n            status: 0,\n            msg: \"\"\n        };\n        let actionPtr = rulesDef.actionPtrsArr[qry];\n        if (typeof actionPtr !== \"undefined\") {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"ptr:\", ptr);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"actionPtr:\", actionPtr);\n            let i = ptr;\n            let ptr2 = \"\";\n            let ptr1 = actionPtr[i];\n            if (typeof actionPtr[i + 1] !== \"undefined\")\n                ptr2 = actionPtr[i + 1];\n            else\n                ptr2 = rulesDef.actionsArr.length;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"ptr1:\", ptr1, \" ptr2:\", ptr2);\n            let j = ptr1;\n            let ruleID = rulesDef.actionsArr[j].RULE_ID;\n            while ((j < ptr2) && (status == 0)) {\n                if (ruleID != rulesDef.actionsArr[j].RULE_ID) {\n                    break;\n                }\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"rulesDef.actionsArr:\",rulesDef.actionsArr[j]);\n                if ((rulesDef.actionsArr[j].ACTION_CODE == \"SEND\") || (rulesDef.actionsArr[j].ACTION_CODE == \"SEND_WAIT\")) {\n                    statusRec = this.sendToServer(object, rulesDef.actionsArr[j], queryData, rule, rulesDef.actionsArr[j], Trigger, hostsArr, hostsMapArr);\n                    status = statusRec.status;\n                }\n                j++;\n            }\n        }\n        return statusRec;\n    }\n    checkRulesByTrigger(object, rulesDef, queryData, Trigger, routine_name, hostsArr, hostsMapArr) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checkRulesByTrigger:rulesDef:\", rulesDef, \" queryData:\", queryData);\n        let statusRec;\n        function getFieldData(rule, queryData) {\n            let fieldData = \"\";\n            let array = rule.FIELD.split(\".\");\n            console.log(\"array:\", array);\n            if (array.length > 1) {\n                let orderFields = queryData[\"ORDER_FIELDS\"];\n                //console.log(\"orderFields:\",orderFields)\n                if (typeof orderFields !== \"undefined\") {\n                    if (orderFields != \"\") {\n                        let fieldsData = JSON.parse(orderFields);\n                        //console.log(\"fieldsData:\",fieldsData)\n                        let keys = Object.keys(fieldsData);\n                        console.log(\"keys:\", keys);\n                        for (let j = 0; j < keys.length; j++) {\n                            console.log(\"addOrderFields key:\", keys[j]);\n                            if (keys[j] == array[0]) {\n                                let objData = fieldsData[keys[j]];\n                                //console.log(\"objData:\", objData );\n                                if (typeof (objData.length) == \"undefined\") // it is a form (object)\n                                    fieldData = objData[array[1]];\n                                else { // it is a grid (array)\n                                    if (typeof (objData[0]) != \"undefined\")\n                                        fieldData = objData[0][array[1]];\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                fieldData = queryData[rule.FIELD];\n            }\n            return fieldData;\n        }\n        function checkRule(rule, queryData) {\n            let ruleMatch = false;\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"------rule:\",rule, \" queryData:\", queryData);\n            //let fieldData = queryData[rule.FIELD];\n            let fieldData = getFieldData(rule, queryData);\n            switch (rule.OPERATION) {\n                case \"=\":\n                    if (fieldData == rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \"<\":\n                    if (fieldData < rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \"<=\":\n                    if (fieldData <= rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \">\":\n                    if (fieldData > rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \">=\":\n                    if (fieldData >= rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \"<>\":\n                    if (fieldData != rule.FIELD_VALUE) {\n                        ruleMatch = true;\n                    }\n                    break;\n                case \"INSTR\":\n                    if (rule.FIELD_VALUE.search(fieldData) != -1) {\n                        ruleMatch = true;\n                    }\n                    break;\n                default:\n                    ruleMatch = false;\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test3:ruleMatch:\", ruleMatch, \" fieldData:\", fieldData, \" OPERATION:\", rule.OPERATION, \" FIELD_VALUE:\", rule.FIELD_VALUE);\n            return ruleMatch;\n        }\n        let status = 0;\n        statusRec = {\n            status: 0,\n            msg: \"\"\n        };\n        let qry = queryData._QUERY;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"-------- _QUERY:\", queryData._QUERY, \" rulesDef.rulePtrsArr:\", rulesDef.rulePtrsArr);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checking rulesDef.rulePtrsArr:\", rulesDef.rulePtrsArr);\n        let rulePtr = rulesDef.rulePtrsArr[qry];\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"rulePtr:\", rulePtr);\n        if (typeof rulePtr !== \"undefined\") {\n            //let actionPtr = rulesDef.rulePtrsArr[qry];\n            //if (typeof actionPtr !== \"undefined\")\n            {\n                let result = false;\n                let i = 0;\n                //while ( (i<rulePtr.length) && (status == 0) )\n                {\n                    var ptr1 = rulePtr[i];\n                    var ptr2 = rulePtr[rulePtr.length - 1];\n                    // if (typeof rulePtr[i+1] !== \"undefined\")\n                    //     var ptr2 = rulePtr[i+1];\n                    // else\n                    //     //var ptr2 = rulesDef.rulesArr.length\n                    //     var ptr2 = ptr1+1\n                    //console.log(\"ptr1:\",ptr1, \" ptr2:\", ptr2);\n                    var j = ptr1;\n                    while (j <= ptr2) {\n                        //console.log(\"--------------------rulesDef.rulesArr:\", rulesDef.rulesArr[j].RULE_ID, \" item:\", rulesDef.rulesArr[j].ITEM);\n                        var ruleMatch = checkRule(rulesDef.rulesArr[j], queryData);\n                        if (ruleMatch == false)\n                            break;\n                        j++;\n                    }\n                    console.log(\"checkRulesByTrigger:Conditions ruleMatch:\", ruleMatch, \" for rule:\", rulesDef.rulesArr[ptr1].RULE_ID);\n                    if (ruleMatch == true) {\n                        //statusRec = performAction(db,req, qry, i, queryData, rulesDef.rulesArr[ptr1],rulesDef, Trigger );\n                        statusRec = this.performAction(object, qry, i, queryData, rulesDef.rulesArr[ptr1], rulesDef, Trigger, hostsArr, hostsMapArr);\n                        status = statusRec.status;\n                    }\n                    //if (ruleMatch == false)\n                    //  break;\n                    i++;\n                }\n            }\n        }\n        return statusRec;\n    }\n    checkRules(object, rulesDef, actualResult, Trigger) {\n        if (this.paramConfig.isCheckRules == false)\n            return;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checkRules:\", Trigger, \" routine_name:\", this.routine_name, \" actualResult:\", actualResult);\n        if (Trigger == \"POST_QUERY\") {\n            if (typeof actualResult.data[0] !== \"undefined\") {\n                let transData = actualResult.data[0].data;\n                for (let i = 0; i < transData.length; i++) {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"checkRules:transData[i]:\", transData[i], i);\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"checkRules:actualResult.data[0].query:\", actualResult.data[0].query);\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"checkRules:actualResult.data[0] HF please\", actualResult.data[0].data);\n                    let queryData = transData[i];\n                    queryData[\"_QUERY\"] = actualResult.data[0].query;\n                    //       if (this.paramConfig.DEBUG_FLAG) console.log(\"queryData:\", queryData)\n                    this.checkRulesByTrigger(object, rulesDef, queryData, Trigger, this.routine_name, this.hostsArr, this.hostsMapArr);\n                }\n            }\n        }\n        else if (Trigger == \"PRE_QUERY\") {\n            if (typeof actualResult !== \"undefined\") {\n                for (let i = 0; i < actualResult.length; i++) {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"actualResult[i]:\", actualResult[i]);\n                    let queryData = actualResult[i];\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"queryData:\", queryData);\n                    this.checkRulesByTrigger(object, rulesDef, queryData, Trigger, this.routine_name, this.hostsArr, this.hostsMapArr);\n                }\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"checkRules:Done\", Trigger, \" routine_name:\", this.routine_name, \" actualResult:\", actualResult);\n        return Trigger;\n    }\n    //////////////\n    storeActionsPtrs(actions, rulesDef) {\n        let currentQUERY_DEF = \"\";\n        let currentRULE_ID = \"\";\n        let actionPtrs = [];\n        for (let i = 0; i < actions.length; i++) {\n            if ((currentQUERY_DEF != actions[i].QUERY_DEF) && (currentRULE_ID != actions[i].RULE_ID)) {\n                if (i == 0)\n                    actionPtrs.push(i);\n                if (currentQUERY_DEF != \"\") {\n                    rulesDef.actionPtrsArr[currentQUERY_DEF] = actionPtrs;\n                    actionPtrs = [];\n                    actionPtrs.push(i);\n                }\n                currentQUERY_DEF = actions[i].QUERY_DEF;\n                currentRULE_ID = actions[i].RULE_ID;\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"rulePtrs1:\",rulePtrs);\n            }\n            else if ((currentQUERY_DEF == actions[i].QUERY_DEF) && (currentRULE_ID != actions[i].RULE_ID)) {\n                currentRULE_ID = actions[i].RULE_ID;\n                actionPtrs.push(i);\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"actionPtrs2:\", actionPtrs);\n        }\n        //actionPtrs.push(i);\n        rulesDef.actionPtrsArr[currentQUERY_DEF] = actionPtrs;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"rulesDef.actionPtrsArr:\", rulesDef.actionPtrsArr);\n    }\n    storeRulesPtrs(rules, rulesDef) {\n        let currentQUERY_DEF = \"\";\n        let currentRULE_ID = \"\";\n        let rulePtrs = [];\n        for (let i = 0; i < rules.length; i++) {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(rules[i].QUERY_DEF + \" : \" + rules[i].RULE_ID + \"          \" + currentQUERY_DEF + \" : \" + currentRULE_ID);\n            if ((currentQUERY_DEF != rules[i].QUERY_DEF) && (currentRULE_ID != rules[i].RULE_ID)) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\" not equal\");\n                if (i == 0)\n                    rulePtrs.push(i);\n                if (currentQUERY_DEF != \"\") {\n                    if (this.paramConfig.DEBUG_FLAG)\n                        console.log(\"--storing rulePtrs2:\", rulePtrs);\n                    rulesDef.rulePtrsArr[currentQUERY_DEF] = rulePtrs;\n                    rulePtrs = [];\n                    rulePtrs.push(i);\n                }\n                currentQUERY_DEF = rules[i].QUERY_DEF;\n                currentRULE_ID = rules[i].RULE_ID;\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"rulePtrs1:\",rulePtrs);\n            }\n            else if ((currentQUERY_DEF == rules[i].QUERY_DEF) && (currentRULE_ID != rules[i].RULE_ID)) {\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\" not equal2\");\n                rulePtrs.push(i);\n                currentRULE_ID = rules[i].RULE_ID;\n                if (this.paramConfig.DEBUG_FLAG)\n                    console.log(\"rulePtrs2:\", rulePtrs);\n            }\n            else if ((currentQUERY_DEF == rules[i].QUERY_DEF) && (currentRULE_ID == rules[i].RULE_ID)) {\n                //console.log(\" equal3\");\n                rulePtrs.push(i);\n                currentRULE_ID = rules[i].RULE_ID;\n                //console.log(\"rulePtrs3:\",rulePtrs);\n            }\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"rulePtrs2:\", rulePtrs);\n        }\n        //rulePtrs.push(i);\n        rulesDef.rulePtrsArr[currentQUERY_DEF] = rulePtrs;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test3:rulesDef.rulePtrsArr:\", rulesDef.rulePtrsArr);\n    }\n    //////////////\n    loadRules(object) {\n        object.Body = [];\n        let Page = \"\";\n        let NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_DEF_RULE_ITEM\";\n        NewVal[\"RULE_TRIGGER\"] = \"POST_QUERY\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:NewVal:\", NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:object.Body:\", object.Body);\n        object.addToBody(NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:object.Body:\", object.Body);\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_DEF_RULE_ACTION\";\n        NewVal[\"RULE_TRIGGER\"] = \"POST_QUERY\";\n        object.addToBody(NewVal);\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_HOST\";\n        NewVal[\"HOST_ID\"] = \"%\";\n        object.addToBody(NewVal);\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_HOST_MAP\";\n        NewVal[\"HOST_ID\"] = \"%\";\n        NewVal[\"MAP_ID\"] = \"%\";\n        object.addToBody(NewVal);\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:result.data:\", result.data);\n            this.rulesPostQueryDef.rulePtrsArr = [];\n            this.rulesPostQueryDef.actionPtrsArr = [];\n            this.storeRulesPtrs(result.data[0].data, this.rulesPostQueryDef);\n            this.rulesPostQueryDef.rulesArr = result.data[0].data;\n            this.storeActionsPtrs(result.data[1].data, this.rulesPostQueryDef);\n            this.rulesPostQueryDef.actionsArr = result.data[1].data;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:this.rulesPostQueryDef\", this.rulesPostQueryDef);\n            this.hostsArr = result.data[2].data;\n            this.hostsMapArr = result.data[3].data;\n            //////////////\n            object.Body = [];\n        }, err => {\n            object.Body = [];\n            this.showNotification(\"error\", \"error:\" + err.message);\n        });\n        //////////////////////////////\n        //////////////\n        object.Body = [];\n        Page = \"\";\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_DEF_RULE_ITEM\";\n        NewVal[\"RULE_TRIGGER\"] = \"PRE_QUERY\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:NewVal:\", NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:object.Body:\", object.Body);\n        object.addToBody(NewVal);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"test:object.Body:\", object.Body);\n        NewVal = {};\n        NewVal[\"_QUERY\"] = \"GET_ADM_RULE_DEF_RULE_ACTION\";\n        NewVal[\"RULE_TRIGGER\"] = \"PRE_QUERY\";\n        object.addToBody(NewVal);\n        this.post(object, Page, object.Body).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:result.data:\", result.data);\n            //////////////\n            this.rulesPreQueryDef.rulePtrsArr = [];\n            this.rulesPreQueryDef.actionPtrsArr = [];\n            this.storeRulesPtrs(result.data[0].data, this.rulesPreQueryDef);\n            this.rulesPreQueryDef.rulesArr = result.data[0].data;\n            this.storeActionsPtrs(result.data[1].data, this.rulesPreQueryDef);\n            this.rulesPreQueryDef.actionsArr = result.data[1].data;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"test:this.rulesPreQueryDef\", this.rulesPreQueryDef);\n            //////////////\n            object.Body = [];\n        }, err => {\n            object.Body = [];\n            this.showNotification(\"error\", \"error:\" + err.message);\n        });\n    }\n    fetchLookups(object, lookupArrDef) {\n        let Body = [];\n        for (let i = 0; i < lookupArrDef.length; i++) {\n            let NewVal = {};\n            NewVal[\"_QUERY\"] = \"GET_STMT\";\n            NewVal[\"_STMT\"] = lookupArrDef[i].statment;\n            Body = this.addToBody(NewVal, Body);\n        }\n        let Page = \"\";\n        this.post(object, Page, Body).subscribe(result => {\n            for (let i = 0; i < lookupArrDef.length; i++) {\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\"result.data[i].data:\",result.data[i].data[0])\n                if (typeof result.data[i] !== \"undefined\") {\n                    if (typeof result.data[i].data[0] !== \"undefined\") {\n                        //add empty record at begining of the array for the LOV for insert new record in a grid work properly\n                        let keys = Object.keys(result.data[i].data[0]);\n                        let emptyRec = {};\n                        let hasSpace = false;\n                        // let codeTxt = keys[0];\n                        // let dataSet = Object.assign([], result.data[i].data);\n                        // dataSet.find(elem =>{\n                        //   //console.log(\"elm:\",elem);\n                        //   if (elem[codeTxt].trim() == \"\"){\n                        //     hasSpace = true;\n                        //     return true;\n                        //   }\n                        // });\n                        if (!hasSpace) {\n                            for (let k = 0; k < keys.length; k++) {\n                                //if (this.paramConfig.DEBUG_FLAG) console.log(\"[keys[k]:\", keys[k]);\n                                //console.log(\"[keys[k]:\", keys[k]);\n                                emptyRec[keys[k]] = \"\";\n                                //object.primarKeyReadOnlyArr[keys[k]] = value;\n                            }\n                            //if (this.paramConfig.DEBUG_FLAG) console.log(\"emptyRec:\",emptyRec)\n                            //console.log(\"emptyRec:\",emptyRec);\n                            result.data[i].data.splice(0, 0, emptyRec);\n                        }\n                    }\n                    object[lookupArrDef[i].lkpArrName] = result.data[i].data;\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"lookupArrDef[i].lkpArrName:\", lookupArrDef[i].lkpArrName, object[lookupArrDef[i].lkpArrName])\n                }\n            }\n            if (typeof object.fetchLookupsCallBack !== \"undefined\")\n                object.fetchLookupsCallBack();\n        }, err => {\n            //alert ('error:' + err.message);\n            this.showErrorMsg(object, err);\n        });\n    }\n    performPost(object, fn) {\n        let Page = \"\";\n        this.post(object, Page, object.Body).subscribe(result => {\n            fn(object, result);\n            object.Body = [];\n        }, err => {\n            //alert ('error:' + err.message);\n            this.showErrorMsg(object, err);\n        });\n    }\n    setComponentConfig(componentConfig, screenConfig) {\n        let keys = Object.keys(componentConfig);\n        for (let i = 0; i < keys.length; i++) {\n            //if (this.paramConfig.DEBUG_FLAG) console.log( keys[i] + \" \" + componentConfig[ keys[i] ] ) ;\n            if (componentConfig[keys[i]] != null) {\n                screenConfig[keys[i]] = componentConfig[keys[i]];\n            }\n        }\n        //if (this.paramConfig.DEBUG_FLAG) console.log(screenConfig);\n        return screenConfig;\n    }\n    getRoutineAuth(menu, routine_name) {\n        let i = 0;\n        let routineAuth;\n        let found = false;\n        if (typeof menu !== \"undefined\") {\n            while (i < menu.length) {\n                let j = 0;\n                while (j < menu[i].children.length) {\n                    if (menu[i].children[j].choice == routine_name) {\n                        routineAuth = menu[i].children[j];\n                        found = true;\n                        break;\n                    }\n                    j++;\n                }\n                if (found)\n                    break;\n                i++;\n            }\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"routine_name:\", routine_name, \"routineAuth:\", routineAuth, \" menu:\", menu);\n        return (routineAuth);\n    }\n    actOnParamConfig(object, routine_name) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"routine_name:\" + routine_name);\n        let paramConfig = getParamConfig();\n        let menu = paramConfig.menu;\n        let routineAuth = this.getRoutineAuth(menu, routine_name);\n        if (typeof routineAuth !== \"undefined\") {\n            object.title = routineAuth.title + \" (\" + routineAuth.routineVer + \")\";\n            object.routineAuth = routineAuth;\n            this.routine_name = routine_name;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"object.title:\" + object.title);\n        }\n        else if (routine_name == \"DSPEKYC\") {\n            this.routine_name = routine_name;\n        }\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"this.routine_name:\" + this.routine_name);\n    }\n    showErrorMsg(object, serverError) {\n        let errorMsg = \"\";\n        if (typeof serverError.error == \"undefined\") {\n            errorMsg = this.standardErrorMsg + \" : \" + serverError;\n        }\n        else\n            errorMsg = this.standardErrorMsg + \" : \" + serverError.error.error;\n        let dialogStruc = {\n            msg: errorMsg,\n            title: \"Error\",\n            info: null,\n            object: object,\n            action: this.OkActions,\n            callback: null\n        };\n        this.showConfirmation(dialogStruc);\n    }\n    sendGetCommand(url, page) {\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\" inside sendGetCommand\");\n        let theURL = url + page;\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\" inside sendGetCommand:theURL:\", theURL);\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"sendGetCommand theURL:\" + theURL);\n        return this.http\n            .get(`${theURL}`, this.httpOptions)\n            .pipe(catchError((err) => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"server error:\", err.message);\n            this.showNotification(\"error\", \"error:\" + err.message);\n            return throwError(err);\n        }), map(response => response), tap(() => this.loading = false));\n    }\n    postCommand(page, url, Body) {\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\" inside postCommand\")\n        let theURL = url; //this.EPMENG_URL + page;\n        this.httpOptions = {\n            headers: new HttpHeaders({\n                'Content-Type': 'application/json',\n                'authorization': this.StrAuth\n            })\n        };\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"postCommand theURL:\" + theURL);\n        return this.http\n            .post(`${theURL}`, Body, this.httpOptions)\n            .pipe(catchError((err) => {\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\"server error:\", err.message)\n            this.showNotification(\"error\", \"error:\" + err.message);\n            return throwError(err);\n        }), map(response => response), tap(() => this.loading = false));\n    }\n    CapitalizeFirst(str) {\n        str = str.toLowerCase();\n        str = str.charAt(0).toUpperCase() + str.slice(1);\n        return str;\n    }\n    CapitalizeTitle(fieldName) {\n        let array = fieldName.split(\"_\");\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"array:\", array);\n        for (let i = 0; i < array.length; i++)\n            array[i] = this.CapitalizeFirst(array[i]);\n        fieldName = array.join(\" \");\n        return fieldName;\n    }\n    prepareLookup(fieldName, paramConfig) {\n        let lkpArrName = \"lkpArr\" + fieldName;\n        let lkpDef;\n        if (fieldName == \"ASSIGNEE\") {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"starServices.sessionParams.USER_INFO:\", this.sessionParams.USER_INFO);\n            let team = this.sessionParams.USER_INFO.TEAM;\n            lkpDef = { \"statment\": \"select USERNAME CODE, FULLNAME CODETEXT_LANG from  ADM_USER_INFORMATION where TEAM = '\" + team + \"' \",\n                \"lkpArrName\": lkpArrName, \"fieldName\": fieldName };\n        }\n        else {\n            lkpDef = { \"statment\": \"SELECT CODE,  CODETEXT_LANG FROM SOM_TABS_CODES WHERE CODENAME = '\" + fieldName + \"' and LANGUAGE_NAME = '\" + paramConfig.userLang + \"' order by CODETEXT_LANG  \",\n                \"lkpArrName\": lkpArrName, \"fieldName\": fieldName };\n        }\n        return lkpDef;\n    }\n    getAssigneeSelect(object, assigneeType) {\n        let selectStmt;\n        if (assigneeType == \"TEAM\") {\n            selectStmt = \"SELECT CODE, CODETEXT_LANG FROM SOM_TABS_CODES WHERE CODENAME ='TEAM' and LANGUAGE_NAME = '\" + object.paramConfig.userLang + \"'  order by CODETEXT_LANG \";\n        }\n        else if (assigneeType == \"PERSON\") {\n            selectStmt = \"SELECT USERNAME  CODE, FULLNAME CODETEXT_LANG FROM ADM_USER_INFORMATION WHERE TEAM ='\" + object.starServices.sessionParams.USER_INFO.TEAM + \"' order by CODETEXT_LANG \";\n        }\n        else if (assigneeType == \"NETWORK\") {\n            selectStmt = \"SELECT CODE, CODETEXT_LANG FROM SOM_TABS_CODES WHERE CODENAME ='EXCH_SYST' and LANGUAGE_NAME = '\" + object.paramConfig.userLang + \"' order by CODETEXT_LANG\";\n        }\n        return selectStmt;\n    }\n    getFirstWeekDay(object, value) {\n        let valueDate;\n        let firstWeekDay = \"Monday\";\n        if (typeof object.paramConfig.firstWeekDay !== \"undefined\") {\n            firstWeekDay = object.paramConfig.firstWeekDay;\n        }\n        valueDate = firstDayInWeek(new Date(value), Day[firstWeekDay]);\n        valueDate = getDate(valueDate);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"valueDate:\", valueDate);\n        return valueDate;\n    }\n    setRTL() {\n        let paramConfig = getParamConfig();\n        let language = paramConfig.userLang;\n        language = language.toLowerCase();\n        let parg = document.getElementById(\"mainpage\");\n        const svc = this.messages;\n        //svc.language = svc.language === 'es' ? 'he' : 'es';\n        //svc.language = language;\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"setRTL:language:\", language)\n        if (language == \"ar\") {\n            parg.dir = \"rtl\";\n            this.messages.notify(true);\n        }\n        else {\n            parg.dir = \"ltr\";\n            this.messages.notify(false);\n        }\n    }\n    loadLanguageOld(language) {\n        language = !language ? \"en\" : language;\n        let file = \"assets/lang/\" + language + \".json\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"loadLanguage:file,\", file);\n        this.http.get(file).subscribe(data => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:data,\", data);\n            let paramConfig = {\n                \"Name\": \"titles\",\n                \"Val\": data\n            };\n            setParamConfig(paramConfig);\n            this.paramConfig = getParamConfig();\n            paramConfig = {\n                \"Name\": \"userLang\",\n                \"Val\": language.toUpperCase()\n            };\n            setParamConfig(paramConfig);\n            this.setRTL();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"document.documentElement.dir:\", document.documentElement.dir == 'ltr');\n        }, err => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:err,\", err);\n            //alert ('error:' + err.message);\n            //this.showErrorMsg(object, err);\n        });\n    }\n    loadLanguage(language) {\n        language = !language ? \"en\" : language;\n        let file = \"lang/\" + language + \".json\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"loadLanguage:file,\", file);\n        let page = \"?getfile=\" + file;\n        page = this.checkDBLoc(page);\n        page = encodeURI(page);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"loadLanguage:page,\", page);\n        this.sendGetCommand(this.SERVER_URL, page).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:result,\", result);\n            let data = result.data;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:data,\", data);\n            let paramConfig = {\n                \"Name\": \"titles\",\n                \"Val\": data\n            };\n            setParamConfig(paramConfig);\n            this.paramConfig = getParamConfig();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"this.paramConfig.titles,\", this.paramConfig.titles);\n            paramConfig = {\n                \"Name\": \"userLang\",\n                \"Val\": language.toUpperCase()\n            };\n            setParamConfig(paramConfig);\n            this.setRTL();\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"document.documentElement.dir:\", document.documentElement.dir == 'ltr');\n        }, err => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:err,\", err);\n            //alert ('error:' + err.message);\n            //this.showErrorMsg(object, err);\n        });\n    }\n    getNLS(params, id, text) {\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\"getNLS:id,\",id);\n        if (typeof this.paramConfig !== \"undefined\") {\n            if (typeof this.paramConfig.titles !== \"undefined\") {\n                let array = id.split(\".\");\n                if (array.length == 3) {\n                    if (typeof this.paramConfig.titles[array[0]] !== \"undefined\")\n                        if (typeof this.paramConfig.titles[array[0]] !== \"undefined\")\n                            if (typeof this.paramConfig.titles[array[0]][array[1]] !== \"undefined\") {\n                                if (typeof this.paramConfig.titles[array[0]][array[1]][array[2]] !== \"undefined\")\n                                    if (this.paramConfig.titles[array[0]][array[1]][array[2]] != \"\")\n                                        text = this.paramConfig.titles[array[0]][array[1]][array[2]];\n                            }\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"getNLS:text,\",text);\n                }\n                else {\n                    let nls_title = this.paramConfig.titles[id];\n                    if (typeof nls_title !== \"undefined\") {\n                        text = nls_title;\n                    }\n                }\n            }\n        }\n        if (params.length > 0) {\n            let strArray = text.split(\"##\");\n            text = \"\";\n            for (let i = 0; i < strArray.length; i++) {\n                if (typeof params[i] != \"undefined\")\n                    text = text + strArray[i] + params[i];\n                else\n                    text = text + strArray[i];\n            }\n            console.log(text);\n        }\n        return text;\n    }\n    loadStatements(statements) {\n        if (statements == \"\")\n            statements = \"statements.json\";\n        let page = \"?getfile=\" + statements;\n        page = this.checkDBLoc(page);\n        page = encodeURI(page);\n        this.sendGetCommand(this.SERVER_URL, page).subscribe(result => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:result,\", result);\n            let data = result.data;\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:data,\", data);\n            let lkpArrQUERY_DEF = [];\n            Object.keys(data).forEach(function (key) {\n                let value = data[key];\n                let rec = {\n                    CODE: key,\n                    CODETEXT_LANG: key,\n                    statement: value\n                };\n                lkpArrQUERY_DEF.push(rec);\n            });\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:data,\", data);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:lkpArrQUERY_DEF,\", lkpArrQUERY_DEF);\n            let paramConfig = {\n                \"Name\": \"statements\",\n                \"Val\": data\n            };\n            setParamConfig(paramConfig);\n            paramConfig = {\n                \"Name\": \"lkpArrQUERY_DEF\",\n                \"Val\": lkpArrQUERY_DEF\n            };\n            setParamConfig(paramConfig);\n        }, err => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:err,\", err);\n        });\n    }\n    loadStatementsOld() {\n        let file = \"assets/\" + \"statements.json\";\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\"loadStatements:file,\", file);\n        this.http.get(file).subscribe(data => {\n            let lkpArrQUERY_DEF = [];\n            Object.keys(data).forEach(function (key) {\n                let value = data[key];\n                let rec = {\n                    CODE: key,\n                    CODETEXT_LANG: key,\n                    statement: value\n                };\n                lkpArrQUERY_DEF.push(rec);\n            });\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:data,\", data);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadStatements:lkpArrQUERY_DEF,\", lkpArrQUERY_DEF);\n            let paramConfig = {\n                \"Name\": \"statements\",\n                \"Val\": data\n            };\n            setParamConfig(paramConfig);\n            paramConfig = {\n                \"Name\": \"lkpArrQUERY_DEF\",\n                \"Val\": lkpArrQUERY_DEF\n            };\n            setParamConfig(paramConfig);\n        }, err => {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"loadLanguage:err,\", err);\n        });\n    }\n    handleFetchedModules(object, data) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log('fetchedModules : ', data[0].data);\n        //this.items[0].items =  data;\n        object.items = [\n            {\n                text: 'Select Module',\n                items: data[0].data\n            }\n        ];\n        object.setModuleName(object.currentMenu);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"object.items:\", object.items, \"data[0].data.length:\", data[0].data.length);\n        if (data[0].data.length == 1) {\n            object.showModuleSelection = false;\n        }\n    }\n    fetchMenu(object, handleFetchedData) {\n        if ((this.StrAuth == \"\") || (typeof this.StrAuth === \"undefined\"))\n            return;\n        let Page = \"\";\n        this.post(this, Page, object.Body).subscribe(result => {\n            handleFetchedData(object, result.data);\n            object.Body = [];\n        }, err => {\n            alert('error:' + err.message);\n        });\n    }\n    setModuleItems(object) {\n        if (!object.staticMenu) {\n            object.Body = [];\n            let NewVal = {\n                MENU: 'MAIN',\n                CHOICES: object.paramConfig.licensedModules.toUpperCase(),\n                LANGUAGE_NAME: object.paramConfig.userLang.toUpperCase(),\n            };\n            NewVal[\"_QUERY\"] = \"GET_ALLOWED_MODULES\";\n            object.addToBody(NewVal);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\"--------object.Body :\", object.Body);\n            this.fetchMenu(object, this.handleFetchedModules);\n        }\n    }\n    stateChange(object, data) {\n        //public stateChange(object:any, data: Array<PanelBarItemModel>): boolean {\n        if (object.staticMenu == true) {\n            const focusedEvent = data.items.filter(item => item.focused === true)[0];\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\" in stateChange : \" + focusedEvent.id);\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(focusedEvent);\n            if (focusedEvent.title == \"Formatting Flow\") {\n                object.showPanelbar = false;\n            }\n            console.log(\"object.isPhonePortrait:\", object.isPhonePortrait, object.showPanelbar);\n            //this.selectedId = focusedEvent.id;\n            //this.router.navigate(['/' + focusedEvent.id]);\n            //this.starServices.setRTL();\n            return true; //Fuad check if it should return false or true\n        }\n        const focusedEvent = data.items.filter(item => item.focused === true)[0];\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\" in stateChange : \", focusedEvent.id);\n        let routineAuth = this.getRoutineAuth(object.menu, focusedEvent.id);\n        if (this.paramConfig.DEBUG_FLAG)\n            console.log(\" in stateChange : \", focusedEvent.id, \"routineAuth :\", routineAuth);\n        if (focusedEvent.id == \"PRVFLOW\")\n            object.showPanelbar = false;\n        if (typeof routineAuth !== \"undefined\") {\n            if (this.paramConfig.DEBUG_FLAG)\n                console.log(\" in stateChange : routineAuth.authLevel:\" + routineAuth.authLevel);\n            if (routineAuth.authLevel == 0) {\n                let dialogStruc = {\n                    msg: this.noAccessMsg,\n                    title: \"Warning\",\n                    info: null,\n                    object: this,\n                    action: this.OkActions,\n                    callback: null\n                };\n                this.showConfirmation(dialogStruc);\n                return false;\n            }\n            else {\n                object.selectedId = focusedEvent.id;\n                this.sessionParams[\"PrvUserFlow\"] = \"\";\n                this.sessionParams[\"PrvUserCDR\"] = \"\";\n                if (object.selectedId == \"PRVFLOW\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"PRV_BLD\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"PRV_CDR\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"CCMCAT\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"CRC_CAT\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"CRC_USER_INFO\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"CCMGRP\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"CRC_GROUP\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"CRC_GROUP_INFO\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"CMGCAT\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"CAM_CAT\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"CAM_USER_INFO\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"CMGGRP\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"CAM_GROUP\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"CAM_GROUP_INFO\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId == \"BILLING\") {\n                    this.sessionParams[\"PrvUserFlow\"] = \"BILLING\";\n                    this.sessionParams[\"PrvUserCDR\"] = \"BILLING_CDR\";\n                    object.showPanelbar = false;\n                }\n                if (object.selectedId.startsWith(\"PORTAL_\")) //Fuad : RND\n                 {\n                    this.sessionParams[\"PORTAL_FORM\"] = focusedEvent.id;\n                    focusedEvent.id = 'DSPPORTAL';\n                }\n                //FUAD: check if below code till else is needed\n                if (object.router.routerState.snapshot.url == ('/' + focusedEvent.id)) {\n                    object.router.navigateByUrl('', { skipLocationChange: true }).then(() => object.router.navigate(['/' + focusedEvent.id], { skipLocationChange: true, replaceUrl: true, preserveFragment: false }));\n                }\n                else\n                    object.router.navigate(['/' + focusedEvent.id], { skipLocationChange: true, replaceUrl: true, preserveFragment: false });\n                if (object.isPhonePortrait) {\n                    object.showPanelbar = false;\n                }\n                //this.starServices.setRTL();\n                //this.showPanelbar = false;\n            }\n        }\n        return false;\n    }\n    setPanelBar(object) {\n        if (!object.staticMenu) {\n            object.Body = [];\n            let NewVal = {\n                MENU: object.currentMenu.toUpperCase(),\n                USERNAME: object.starServices.sessionParams.USERNAME.toUpperCase(),\n                LANGUAGE_NAME: object.paramConfig.userLang.toUpperCase()\n            };\n            NewVal[\"_QUERY\"] = \"GET_MENU_ROUTINES\";\n            object.addToBody(NewVal);\n            let NewVal1 = {\n                MENU: \"\",\n                USERNAME: object.starServices.sessionParams.USERNAME.toUpperCase()\n            };\n            NewVal1[\"_QUERY\"] = \"GET_ROUTINES_AUTHORITY\";\n            object.addToBody(NewVal1);\n            this.fetchMenu(object, this.handleFetchedPanelBar);\n        }\n    }\n    handleFetchedPanelBar(object, data) {\n        function checkAuthData(routine_name, authData) {\n            let i = 0;\n            let routineAuth;\n            while (i < authData.length) {\n                if (authData[i].ROUTINE_NAME == routine_name) {\n                    routineAuth = authData[i];\n                    break;\n                }\n                i++;\n            }\n            return routineAuth;\n        }\n        function formatData(arr, authData) {\n            let menu = [];\n            let children = [];\n            for (let i = 0; i < arr.length; i++) {\n                if (object.paramConfig.DEBUG_FLAG)\n                    console.log(\"arr[i]:\", arr[i]);\n                let type = arr[i].choice_type.charAt(0);\n                if (type == \"M\") {\n                    if (children.length != 0) {\n                        let item = {\n                            title: menuItem.title,\n                            choice: menuItem.choice,\n                            children: children\n                        };\n                        menu.push(item);\n                        children = [];\n                    }\n                    var menuItem = {\n                        title: arr[i].text,\n                        choice: arr[i].choice\n                    };\n                    //menu.push(item);\n                }\n                else if (type == \"R\") {\n                    if (object.paramConfig.DEBUG_FLAG)\n                        console.log(\"authData:\", authData, \"arr[i]:\", arr[i]);\n                    let routineAuth = checkAuthData(arr[i].choice, authData);\n                    if (object.paramConfig.DEBUG_FLAG)\n                        console.log(\"arr[i].choice:\" + arr[i].choice + \"  routineAuth.DISP_FLAG:\" + routineAuth.DISP_FLAG + \" routineAuth.AUTHLEVEL :\" + routineAuth.AUTHLEVEL);\n                    if (routineAuth.DISP_FLAG != \"N\") // && (routineAuth.AUTHLEVEL != 0) )\n                     {\n                        let routineItem = {\n                            title: arr[i].text,\n                            choice: arr[i].choice,\n                            authLevel: routineAuth.AUTHLEVEL,\n                            routineDesc: routineAuth.ROUTINE_DESC,\n                            routineVer: routineAuth.ROUT_VER,\n                            routerLink: \"/\" + arr[i].choice\n                        };\n                        children.push(routineItem);\n                    }\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(\"---children\");\n                    //if (this.paramConfig.DEBUG_FLAG) console.log(children);\n                }\n            }\n            if (children.length != 0) {\n                let item = {\n                    title: menuItem.title,\n                    choice: menuItem.choice,\n                    children: children\n                };\n                menu.push(item);\n                children = [];\n            }\n            return menu;\n        }\n        object.menu = formatData(data[0].data, data[1].data);\n        object.panelItems = object.menu;\n        let paramConfig = {\n            \"Name\": \"menu\",\n            \"Val\": object.menu\n        };\n        setParamConfig(paramConfig);\n    }\n    sleep(ms) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n    beginTrans() {\n        this.commitBody = [];\n        this.inTrans = true;\n    }\n    endTrans(object, commit) {\n        let Page = \"&_trans=Y\";\n        let tableInfo;\n        //console.log(\"endTrans:\", this.commitBody);\n        if (commit && this.commitBody.length != 0) {\n            return new Promise(resolve => {\n                this.post(this, Page, this.commitBody).subscribe(result => {\n                    this.commitBody = [];\n                    this.inTrans = false;\n                    tableInfo = result.data[0].data;\n                    return resolve(tableInfo);\n                }, err => {\n                    object.FORM_TRIGGER_FAILURE = true;\n                    this.commitBody = [];\n                    this.inTrans = false;\n                    //alert('error:' + err.message);\n                    this.showErrorMsg(object, err);\n                    return resolve(tableInfo);\n                });\n            });\n        }\n        else {\n            this.commitBody = [];\n            this.inTrans = false;\n        }\n    }\n    // public addToBody(NewVal) {\n    //   this.Body.push(NewVal);\n    // }\n    execSQLBody(object, Body, DBLoc) {\n        function getFirstWord(str) {\n            let myArray = str.split(\"_\");\n            return myArray[0];\n        }\n        object.FORM_TRIGGER_FAILURE = false;\n        let Page = \"&_trans=N\";\n        if (DBLoc != \"\")\n            Page = Page + \"&DBLoc=\" + DBLoc;\n        let tableInfo;\n        object.NOTFOUND = false;\n        //console.log(\"Body:\",Body);\n        if (this.inTrans) {\n            let firstWord = getFirstWord(Body[0]._QUERY).toUpperCase();\n            //console.log(\"commit:firstWord:\", firstWord, Body);\n            let isCommitCommand = this.commitCommands.includes(firstWord);\n            if (isCommitCommand) {\n                this.commitBody.push(Body[0]);\n                return tableInfo;\n            }\n        }\n        return new Promise(resolve => {\n            this.post(this, Page, Body).subscribe(result => {\n                //console.log (\"execSQLBody 3\", result);\n                //console.log(\"testx:execSQL:sqlStmt:result.data[0]:\", Body, result.data[0])\n                //console.log(\"testx:execSQL:sqlStmt:result.data[0]:\", Body, result.data)\n                tableInfo = result.data;\n                // if (result.data.length == 0)\n                //   object.NOTFOUND = true;\n                return resolve(tableInfo);\n            }, err => {\n                object.FORM_TRIGGER_FAILURE = true;\n                alert('error:' + err.message);\n                return resolve(tableInfo);\n            });\n        });\n    }\n    execSQL(object, sqlStmt) {\n        function getFirstWord(str) {\n            str = str.trim();\n            let spaceIndex = str.indexOf(' ');\n            return spaceIndex === -1 ? str : str.substr(0, spaceIndex);\n        }\n        object.FORM_TRIGGER_FAILURE = false;\n        let Page = \"&_trans=N\";\n        this.Body = [];\n        let NewVal = {};\n        NewVal[\"_QUERY\"] = \"EXECSQL\";\n        NewVal[\"_STMT\"] = sqlStmt;\n        let tableInfo;\n        object.NOTFOUND = false;\n        if (this.inTrans) {\n            let firstWord = getFirstWord(sqlStmt).toUpperCase();\n            //console.log(\"commit:firstWord:\", firstWord, sqlStmt);\n            let isCommitCommand = this.commitCommands.includes(firstWord);\n            //console.log(\"execSQL: inTrans:\", NewVal);\n            if (isCommitCommand) {\n                this.commitBody.push(NewVal);\n                return tableInfo;\n            }\n        }\n        this.Body = this.addToBody(NewVal, this.Body);\n        return new Promise(resolve => {\n            this.post(this, Page, this.Body).subscribe(result => {\n                this.Body = [];\n                //console.log(\"execSQL:sqlStmt:result.data[0]:\", sqlStmt, result.data[0])\n                tableInfo = result.data[0].data;\n                if (result.data[0].rowCount == 0)\n                    object.NOTFOUND = true;\n                return resolve(tableInfo);\n            }, err => {\n                object.FORM_TRIGGER_FAILURE = true;\n                alert('error:' + err.message);\n                return resolve(tableInfo);\n            });\n        });\n    }\n    ////////\n    att_img_getFileLink(field_data, object) {\n        let fileLink = \"\";\n        if ((field_data != \"\") && (field_data != \"[]\") && (field_data != null)) {\n            field_data = JSON.parse(field_data);\n            //console.log(\"getFileLink:field_data:\", field_data)\n            fileLink = object.AttDwnUrl + encodeURI(field_data[0].name);\n            //console.log(\"getFileLink:fileLink:\", fileLink)\n        }\n        return fileLink;\n    }\n    att_img_getAtt(data, object) {\n        let atts = \"\";\n        //console.log(\"getAtt_data:\", data);\n        if ((data != \"\") && (data != \"[]\") && (data != null)) {\n            let vals = JSON.parse(data);\n            //console.log(\"getAtt_data:\", vals);\n            vals.forEach(val => {\n                //console.log(\"val:\", val)\n                atts = atts + \"<\" + val.name + \" Size:\" + val.size + \">\";\n            });\n        }\n        return atts;\n    }\n    att_img_populateArrs(formGroup, object) {\n        for (let i = 0; i < object.att_arr.length; i++) {\n            if (formGroup[object.att_arr[i]] != \"\")\n                object.myFiles[object.att_arr[i]] = JSON.parse(formGroup[object.att_arr[i]]);\n        }\n        for (let i = 0; i < object.img_arr.length; i++) {\n            if (formGroup[object.img_arr[i]] != \"\")\n                object.myFiles[object.img_arr[i]] = JSON.parse(formGroup[object.img_arr[i]]);\n        }\n    }\n    att_img_form_openUploadimage(field_id, object) {\n        //object.uploadimage = true;\n        //console.log(\"openUploadimage:field_id:\", field_id, object.myFiles, object.myFiles[field_id])\n        let myFiles = [];\n        if (typeof object.myFiles[field_id] != \"undefined\") {\n            myFiles = object.myFiles[field_id];\n        }\n        let filesDeleted = [];\n        if (typeof object.filesDeleted[field_id] != \"undefined\") {\n            filesDeleted = object.filesDeleted[field_id];\n        }\n        let hideOthers = false;\n        if (typeof object.disableUpload != \"undefined\") {\n            hideOthers = object.disableUpload;\n        }\n        let imageID = field_id;\n        var masterParams = {\n            \"action\": \"upload\",\n            \"imageID\": imageID,\n            \"myFiles\": myFiles,\n            \"filesDeleted\": filesDeleted\n        };\n        object.DSP_UPLOADConfig = new componentConfigDef();\n        object.DSP_UPLOADConfig.masterParams = masterParams;\n    }\n    callGetSaveAttachemts(action, data, object) {\n        //console.log(\"callSaveAttachemts:myFiles:\", object.myFiles)\n        var masterParams = {\n            \"action\": action,\n            \"att_arr\": object.att_arr,\n            \"img_arr\": object.img_arr,\n            \"myFiles\": object.myFiles,\n            \"filesDeleted\": object.filesDeleted,\n            \"data\": data\n        };\n        object.DSP_UPLOADConfig = new componentConfigDef();\n        object.DSP_UPLOADConfig.masterParams = masterParams;\n    }\n    async att_img_saveFormCompletedHandler(value, object) {\n        //console.log(\"att_img_saveFormCompletedHandler:value\", value);\n        let field_id = value.field_id;\n        object.myFiles[field_id] = value.myFiles;\n        object.filesDeleted[field_id] = value.filesDeleted;\n        //console.log(\"object.myFiles[field_id]:\", object.myFiles[field_id])\n        let JSONVal = JSON.stringify(object.myFiles[field_id]);\n        if (JSONVal == \"[]\")\n            JSONVal = \"\";\n        object.form.value[field_id] = JSONVal;\n        object.form.patchValue({ [field_id]: JSONVal });\n    }\n    att_img_saveGridCompletedHandler(value, object) {\n        //console.log(\"att_img_saveGridCompletedHandler:value\", value);\n        let field_id = value.field_id;\n        object.myFiles[field_id] = value.myFiles;\n        object.filesDeleted[field_id] = value.filesDeleted;\n        //console.log(\"object.myFiles[field_id]:\", object.myFiles[field_id])\n        let JSONVal = JSON.stringify(object.myFiles[field_id]);\n        if (JSONVal == \"[]\")\n            JSONVal = \"\";\n        object.formGroup.patchValue({ [field_id]: JSONVal });\n        object.formGroup.markAsDirty();\n        //console.log(\"att_img_saveGridCompletedHandler:object.formGroup.value\", object.formGroup.value);\n        object.uploadimage = false;\n    }\n    async att_img_grid_openUploadimage(field_id, object) {\n        if (!object.componentConfig.enabled)\n            return;\n        await object.starServices.sleep(300);\n        //console.log(\"att_img_grid_openUploadimage:object.formGroup:\", object.formGroup)\n        object.uploadimage = true;\n        if (typeof object.formGroup != \"undefined\") {\n            object.myFiles[field_id] = [];\n            object.starServices.att_img_populateArrs(object.formGroup.value, object);\n            //console.log(\"openUploadimage:field_id:\", field_id, object.myFiles, object.myFiles[field_id])\n            let myFiles = [];\n            if (typeof object.myFiles[field_id] != \"undefined\") {\n                myFiles = object.myFiles[field_id];\n            }\n            let filesDeleted = [];\n            if (typeof object.filesDeleted[field_id] != \"undefined\") {\n                filesDeleted = object.filesDeleted[field_id];\n            }\n            let imageID = field_id;\n            var masterParams = {\n                \"action\": \"upload\",\n                \"imageID\": imageID,\n                \"myFiles\": myFiles,\n                \"filesDeleted\": filesDeleted\n            };\n            object.DSP_UPLOADConfig = new componentConfigDef();\n            object.DSP_UPLOADConfig.masterParams = masterParams;\n        }\n    }\n    addNewCode(object, CODENAME) {\n        object.grid_som_tabs_codes = new tabsCodes();\n        object.grid_som_tabs_codes['CODENAME'] = CODENAME; // for retrieve data\n        object.SOM_TABS_CODESConfig = new componentConfigDef();\n        let masterParams = {\n            action: \"ADD\",\n            CODENAME: CODENAME,\n            CODE: object.filterCode,\n            CODETEXT_LANG: object.filterCode\n        };\n        object.SOM_TABS_CODESConfig.masterParams = masterParams; // For add new record\n        object.showCodeDetails = true;\n    }\n    setIdOrder(object, idField, orderField) {\n        let ID = 1;\n        let ORDER = 1;\n        let GridData = object.grid.data;\n        if (typeof GridData.data !== \"undefined\") {\n            for (let i = 0; i < GridData.data.length; i++) {\n                if (GridData.data[i][idField] >= ID)\n                    ID = parseInt(GridData.data[i][idField]) + 1;\n                if (GridData.data[i][orderField] >= ORDER)\n                    ORDER = parseInt(GridData.data[i][orderField]) + 1;\n            }\n        }\n        let values = {\n            [idField]: ID,\n            [orderField]: ORDER\n        };\n        console.log(\"setInitialValues:values:\", values);\n        object.formGroup.patchValue(values);\n    }\n    rowReorder(object, orderField, e) {\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:\", e);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:\", e.draggedRows[0].rowIndex);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:\", e.dropPosition);\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:\", e.dropTargetRow.rowIndex);\n        let dataItem = e.draggedRows[0].dataItem;\n        let GridData;\n        GridData = object.grid.data;\n        if (e.dropPosition == \"after\") {\n            GridData.data.splice(e.dropTargetRow.rowIndex + 1, 0, dataItem);\n            //Remove draggedRows\n            GridData.data = GridData.data.filter(function (dataItem, index) {\n                return index !== e.draggedRows[0].rowIndex;\n            });\n        }\n        else if (e.dropPosition == \"before\") {\n            //Remove draggedRows\n            GridData.data = GridData.data.filter(function (dataItem, index) {\n                return index !== e.draggedRows[0].rowIndex;\n            });\n            GridData.data.splice(e.dropTargetRow.rowIndex, 0, dataItem);\n        }\n        //write order field\n        if (object.paramConfig.DEBUG_FLAG)\n            console.log(\"rowReorder:GridData.data:\", GridData.data);\n        for (let i = 0; i < GridData.data.length; i++) {\n            GridData.data[i][orderField] = i + 1;\n            GridData.data[i]._QUERY = object.updateCMD;\n        }\n        object.saveChanges(object.grid);\n    }\n    handleFilterCode(object, CODE) {\n        if (object.starServices.sessionParams.USER_INFO.GROUPNAME == \"SYSADM\") {\n            object.filterCode = CODE;\n        }\n    }\n    hideNoValidLicense() {\n        const collection = document.getElementsByTagName(\"div\");\n        //console.log (\"checking:collection:\",collection);\n        for (let i = 0; i < collection.length; i++) {\n            let innerHTML = collection[i].innerHTML;\n            //let result = innerHTML.includes(\"ng-reflect-ng-style\");\n            //let result = innerHTML.includes(\"display: flex;\");\n            let result = innerHTML.includes(\"No valid license found\");\n            //console.log (\"checking:result:\",result);\n            if (result) {\n                result = innerHTML.includes(\"No valid license found\");\n                if (result) {\n                    //console.log (\"checking:innerHTML:\",result,innerHTML);\n                    collection[i].style.setProperty('display', 'none');\n                }\n            }\n        }\n        //console.log (\"collection:\", collection.length, collection[35])\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: starServices, deps: [{ token: i1.NotificationService }, { token: i2.DialogService }, { token: i3.HttpClient }, { token: i4.MessageService }], target: i0.FactoryTarget.Injectable }); }\n    static { this.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: starServices, providedIn: 'root' }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: starServices, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: () => [{ type: i1.NotificationService }, { type: i2.DialogService }, { type: i3.HttpClient }, { type: i4.MessageService }] });\n\nclass StarlibComponent {\n    constructor() { }\n    ngOnInit() {\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: StarlibComponent, deps: [], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"18.2.10\", type: StarlibComponent, selector: \"lib-starlib\", ngImport: i0, template: `\n    <p>\n      starlib works!\n    </p>\n  `, isInline: true }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.10\", ngImport: i0, type: StarlibComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'lib-starlib', template: `\n    <p>\n      starlib works!\n    </p>\n  ` }]\n        }], ctorParameters: () => [] });\n\n/*\n * Public API Surface of starlib\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { StarlibComponent, starServices };\n//# sourceMappingURL=starlib.mjs.map\n","map":null,"preliminaryFileName":"starlib.mjs","sourcemapFileName":"starlib.mjs.map"},{"fileName":"starlib.mjs.map","needsCodeReference":false,"originalFileName":null,"source":"{\"version\":3,\"file\":\"starlib.mjs\",\"sources\":[\"../../../projects/starlib/src/lib/model.ts\",\"../../../projects/starlib/src/lib/starlib.service.ts\",\"../../../projects/starlib/src/lib/starlib.component.ts\",\"../../../projects/starlib/src/public-api.ts\",\"../../../projects/starlib/src/starlib.ts\"],\"sourcesContent\":[\"export class tabsCodes{\\n    public CODENAME = '';\\n    public CODE = '';\\n    public PARTCODE = '';\\n    public LANGUAGE_NAME = '';\\n    public CODETEXT_LANG = '';\\n    public CODEVALUE_LANG = '';\\n    public LAST_UPDATE = '';\\n    public FLEX_FLD1 = '';\\n    public FLEX_FLD2 = '';\\n    public FLEX_FLD3 = '';\\n    public FLEX_FLD4 = '';\\n    public FLEX_FLD5 = '';\\n\\n}\\nexport class componentConfigDef{\\n    public eventFrom =  null;\\n    public eventTo:any;\\n    public languageChanged = \\\"EN\\\";\\n    public masterSaved = null;\\n    public masterDeleted = null;\\n    public parentClose = null;\\n    public formMode = null;\\n    public savingMode = null;\\n    public isMaster = null;\\n    public isChild = null;\\n    public masterKey = null;\\n    public AUTH_TYPE = null;\\n    public formattedWhere:any = null;\\n    public clearComponent = null;\\n    public otherMasterKey =  null;\\n    public gridHeight = null;\\n    public formHeight = null;\\n    public routineAuth = null;\\n    public showAll = null;\\n    public editable = null;\\n    public masterParams:any;\\n    public queryable:Boolean = true;\\n    public navigable:Boolean = true;\\n    public insertable:Boolean = true;\\n    public removeable:Boolean = true;\\n    public enabled:Boolean = true;\\n    public updateable:Boolean = true;\\n    \\tpublic toolsShow = null;\\n        public masterReadCompleted:any;\\n    public masterKeyArr:any;\\n    public masterKeyNameArr:any;\\n    public showTitle:Boolean = true;\\n    public showSave = null;\\n    public title = null;\\n    public hideGrid = null;\\n    public clearScreen = null;\\n    public setScreen = null;\\n    public WEEKShow = null;\\n    public showToolBar = null;\\n    public useAutoSave = null;\\n}\",\"import { Injectable } from '@angular/core';\\r\\nimport { HttpClient,HttpHeaders, HttpRequest } from '@angular/common/http';\\r\\nimport { GridDataResult } from '@progress/kendo-angular-grid';\\r\\nimport { toODataString } from '@progress/kendo-data-query';\\r\\nimport { Observable, BehaviorSubject } from 'rxjs';\\r\\nimport { map, tap } from 'rxjs/operators';\\r\\n//import { AnyARecord } from 'dns';\\r\\nimport { throwError } from 'rxjs';\\r\\nimport { catchError, retry } from 'rxjs/operators';\\r\\nimport { NotificationService } from '@progress/kendo-angular-notification';\\r\\nimport {  DialogService,  DialogRef,  DialogCloseResult} from '@progress/kendo-angular-dialog';\\r\\nimport {Day, firstDayInWeek, getDate, toLocalDate} from '@progress/kendo-date-math';\\r\\nimport { PanelBarItemModel , PanelBarStateChangeEvent } from '@progress/kendo-angular-layout';\\r\\nimport {Md5} from 'ts-md5/dist/md5';\\r\\nimport { formatDate } from '@angular/common';\\r\\nimport { keyframes } from '@angular/animations';\\r\\nimport { tabsCodes, componentConfigDef } from './model';\\r\\n\\r\\nimport { MessageService } from '@progress/kendo-angular-l10n';\\r\\nimport { MyMessageService } from './my-message.service';\\r\\n\\r\\ndeclare function getParamConfig():any;\\r\\ndeclare function setParamConfig(var1):any;\\r\\n@Injectable({\\r\\n  providedIn: 'root',\\r\\n})\\r\\nexport class starServices extends BehaviorSubject<GridDataResult> {\\r\\n  public paramConfig;\\r\\n  private createdItems: any[] = [];\\r\\n  private updatedItems: any[] = [];\\r\\n  private deletedItems: any[] = [];\\r\\n  public loading: boolean;\\r\\n  public routine_name = \\\"\\\";\\r\\n  public saveChangesMsg = \\\"Screen changed, are you sure you to navigate?\\\";\\r\\n  public deleteDetailMsg = \\\"Can not delete as detail has data.\\\";\\r\\n  public pleaseConfirmMsg = \\\"Please confirm\\\";\\r\\n  public deleteConfirmMsg = \\\"Are you sure you want to delete this record?\\\";\\r\\n  public nothingToDeletelMsg = \\\"No records to delete.\\\";\\r\\n  public fieldsRequiredMsg = \\\"Please enter required fields.\\\"\\r\\n  public readOnlyMsg = \\\"Can not save , your authority is readonly.\\\"\\r\\n  public noAccessMsg = \\\"You dont have access to this routine.\\\"\\r\\n  public standardErrorMsg = \\\"Error performing transaction\\\"\\r\\n  public saveMasterMsg = \\\"Save master record first.\\\"\\r\\n  public helpMsg = \\\"\\\";\\r\\n  public helpMsg_grid = \\\"\\\";\\r\\n  public USERNAME = \\\"\\\";\\r\\n  public hideAfter = 1000;\\r\\n  public StrAuth = \\\"\\\";\\r\\n  public USER_INFO;\\r\\n  public MASTER_DB = \\\"\\\";\\r\\n  public USERNAME_DB = \\\"\\\";\\r\\n  private httpOptions;\\r\\n  public limit = 2500;\\r\\n  public YesNoActions = [\\r\\n    { text: 'No', primary: false },\\r\\n    { text: 'Yes', primary: true }\\r\\n  ];\\r\\n  public OkActions = [\\r\\n    { text: 'Ok', primary: false }\\r\\n  ];\\r\\n  public sessionParams:any = {};\\r\\n\\r\\n\\r\\n\\r\\n    //private BASE_URL = 'https://odatasampleservices.azurewebsites.net/V4/Northwind/Northwind.svc/';\\r\\n    //private BASE_URL = 'http://192.168.1.3:9090/api?_format=json&_limit=50';\\r\\n\\r\\n    public EPMENG_URL = \\\"\\\" ; //'http://192.168.1.5:8092/format';\\r\\n    //private EPMENG_URL = 'http://gmashro.com:8092/format';\\r\\n\\r\\n    public SERVER_URL = \\\"\\\"; // 'http://localhost:9090';\\r\\n    public SERVER_DEPLOY =\\\"\\\";\\r\\n    //public SERVER_URL = 'http://gmashro.com:9090';\\r\\n\\r\\n    public BASE_URL = this.SERVER_URL + '/api?_format=json&_limit=' + this.limit;\\r\\n    //private BASE_URL = 'http://gmashro.com:9090/api?_format=json&_limit=' + this.limit;\\r\\n    public eKycScr = \\\"DSPEKYC\\\";\\r\\n\\r\\n    constructor(\\r\\n        private notificationService: NotificationService,\\r\\n        private dialogService: DialogService,\\r\\n        private http: HttpClient,\\r\\n        private messages: MessageService\\r\\n    ) {\\r\\n        super(null);\\r\\n        //logger.warn(\\\"Warning message\\\");\\r\\n\\r\\n    }\\r\\n\\r\\n    public query(state: any): void {\\r\\n      let queryName=\\\"\\\";\\r\\n        this.fetch(this, queryName)\\r\\n            .subscribe(x => super.next(x));\\r\\n    }\\r\\n    public removeRec(gridData: any, editedRowIndex:number ) {\\r\\n\\r\\n        //let result1 = JSON.parse(JSON.stringify(gridData));\\r\\n        if (typeof editedRowIndex !== \\\"undefined\\\"){\\r\\n          gridData.data.splice( editedRowIndex , 1 );\\r\\n          gridData.total = gridData.data.length;\\r\\n          /*  //if (this.paramConfig.DEBUG_FLAG) console.log('remving editedRowIndex:' + editedRowIndex)\\r\\n            result1.data.splice( editedRowIndex , 1 );\\r\\n            result1.total = result1.data.length;*/\\r\\n        }\\r\\n\\r\\n        return gridData;\\r\\n    }\\r\\n    public updateRec(gridData: any, editedRowIndex:number , NewVal:any) {\\r\\n      gridData.data[editedRowIndex] = NewVal;\\r\\n\\r\\n        return gridData;\\r\\n\\r\\n    }\\r\\n    public addRec(gridData: any, NewVal:any) {\\r\\n      gridData.data.push(NewVal);\\r\\n       /* let result ={\\\"data\\\":[], total:0};\\r\\n        let result1 = JSON.parse(JSON.stringify(gridData));\\r\\n        NewVal = this.parseToDate(NewVal);\\r\\n        result1.data.push(NewVal);\\r\\n        result.data = result1.data;\\r\\n        result.total = result.data.length;\\r\\n        return result1;*/\\r\\n        return gridData;\\r\\n    }\\r\\n    public formatWhere(NewVal:any){\\r\\n      function isDate (value) {\\r\\n        return value instanceof Date;\\r\\n        }\\r\\n        function FORMAT_ISO_parse(d) { // This function was added for CRM. CRM dates should be ISO\\r\\n          var dateIso = d.toISOString();\\r\\n          var dateIsoArr = dateIso.split(\\\"T\\\");\\r\\n          dateIso = dateIsoArr[0] + \\\" \\\" + dateIsoArr[1];\\r\\n          dateIso = dateIso.substr(0, 19);\\r\\n          return dateIso;\\r\\n        }\\r\\n      function parseValue(key, value){\\r\\n        let phrase = \\\"\\\";\\r\\n        //console.log(\\\"isDate:\\\" , isDate (value), value, typeof value);\\r\\n\\r\\n        if (isDate (value)){\\r\\n            //value = getDate(value);\\r\\n            //value = FORMAT_ISO_parse(value);\\r\\n            value = value.toISOString();\\r\\n        }\\r\\n        if (typeof value === 'string' )\\r\\n        {\\r\\n          // it's a string\\r\\n          if (value != \\\"\\\" )\\r\\n          {\\r\\n            let operators = \\\"<>!=\\\"\\r\\n            let operatorVal = \\\"\\\";\\r\\n            let trimeedVal = value.trim();\\r\\n            let firstChar = trimeedVal.charAt(0);\\r\\n            let n = operators.search(firstChar);\\r\\n            if ( n != -1){\\r\\n              if (firstChar == \\\"|\\\")\\r\\n                operatorVal = \\\" = '\\\"  + value + \\\"' \\\";\\r\\n              else\\r\\n                operatorVal = value;\\r\\n\\r\\n            }\\r\\n            else if ( value.toUpperCase().search(\\\"%\\\") != -1)\\r\\n            {\\r\\n              operatorVal = \\\" like '\\\"  + value + \\\"' \\\";\\r\\n              console.log(\\\"operatorVal:\\\"+ operatorVal)\\r\\n            }\\r\\n            else\\r\\n            {\\r\\n              operatorVal = \\\" = '\\\"  + value + \\\"' \\\";\\r\\n            }\\r\\n            phrase = key + encodeURIComponent(operatorVal);\\r\\n            //phrase = key + operatorVal;\\r\\n          }\\r\\n        }\\r\\n        else{\\r\\n        // it's something else\\r\\n          let operatorVal = \\\" = '\\\"  + value + \\\"' \\\";\\r\\n          phrase = key + encodeURIComponent(operatorVal);\\r\\n        }\\r\\n\\r\\n        return phrase;\\r\\n      }\\r\\n\\r\\n      let wherePhrase = \\\"\\\";\\r\\n        let whereClause = \\\"\\\";\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"formatWhere:\\\")\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(NewVal)\\r\\n        Object.keys(NewVal).forEach(function(key) {\\r\\n            let value = NewVal[key];\\r\\n            //if (this.paramConfig.DEBUG_FLAG) console.log(key + \\\":\\\" + value);\\r\\n            if ( (value != \\\"\\\" ) && (value != null) )\\r\\n            {\\r\\n              let phrase = parseValue(key, value);\\r\\n\\r\\n              if (wherePhrase == \\\"\\\")\\r\\n                {\\r\\n                    wherePhrase = wherePhrase +   phrase;\\r\\n                }\\r\\n                else\\r\\n                {\\r\\n                    wherePhrase = wherePhrase + \\\" and \\\" + phrase;\\r\\n                }\\r\\n\\r\\n            }\\r\\n        });\\r\\n        if (wherePhrase != \\\"\\\")\\r\\n            whereClause = \\\"&_WHERE=\\\" + wherePhrase;\\r\\n        else\\r\\n            whereClause = \\\"&_WHERE=\\\";\\r\\n\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"whereClause:\\\" + whereClause);\\r\\n        return whereClause;\\r\\n    }\\r\\n\\r\\n  public checkDBLoc(theURL)\\r\\n  {\\r\\n    \\r\\n      let paramConfig = getParamConfig();\\r\\n      if (this.paramConfig.DBLoc != \\\"\\\"){\\r\\n        let userName = this.sessionParams.USERNAME;\\r\\n        theURL = theURL + \\\"&DBLoc=\\\" + this.paramConfig.DBLoc;\\r\\n      \\r\\n    }\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"checkDBLoc:theURL:\\\",theURL);\\r\\n\\r\\n    return theURL;\\r\\n  }\\r\\n  \\r\\n    public fetch(object, queryName: string): Observable<GridDataResult> {\\r\\n        //const queryStr = `${toODataString(state)}&$count=true`;\\r\\n        const queryStr = ``;\\r\\n        this.loading = true;\\r\\n        let theURL = `${this.BASE_URL}${queryName}`;\\r\\n       \\r\\n        theURL = this.checkDBLoc(theURL);\\r\\n\\r\\n\\r\\n      \\r\\n        this.httpOptions = {\\r\\n          headers: new HttpHeaders({\\r\\n            'Content-Type': 'application/json',\\r\\n            'authorization': this.StrAuth\\r\\n\\r\\n          })\\r\\n        };\\r\\n        return this.http\\r\\n            .get(`${theURL}`,this.httpOptions)\\r\\n            .pipe(\\r\\n                catchError((err) => {\\r\\n                    return throwError(err);\\r\\n                  }),\\r\\n                  map(response => (<GridDataResult>{data:response['data']}\\r\\n                  )),\\r\\n                tap(data => {\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\\\"status data: \\\", data);\\r\\n                  this.loading = false;\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:this.rulesPostQueryDef\\\", this.rulesPostQueryDef)\\r\\n                  this.checkRules(object, this.rulesPostQueryDef, data,\\\"POST_QUERY\\\")\\r\\n                } )\\r\\n            );\\r\\n    }\\r\\n\\r\\n   /* public remove( page: any):Observable<any> {\\r\\n        this.delete(page)\\r\\n            .subscribe(x => super.next(x));\\r\\n\\r\\n            return 0;\\r\\n    }\\r\\n*/\\r\\npublic delete(Page: string): Observable<GridDataResult> {\\r\\n        //const queryStr = `${toODataString(state)}&$count=true`;\\r\\n        const queryStr = ``;\\r\\n        this.loading = true;\\r\\n        let theURL = `${this.BASE_URL}${Page}`;\\r\\n        theURL = this.checkDBLoc(theURL);\\r\\n\\r\\n        //console.log(\\\"delete theURL:\\\",theURL);\\r\\n        this.httpOptions = {\\r\\n          headers: new HttpHeaders({\\r\\n            'Content-Type': 'application/json',\\r\\n            'authorization': this.StrAuth\\r\\n\\r\\n          })\\r\\n        }\\r\\n\\r\\n        return this.http\\r\\n            .delete<any>(`${theURL}`, this.httpOptions)\\r\\n            .pipe(\\r\\n                catchError((err) => {\\r\\n                    return throwError(err);\\r\\n                  }),\\r\\n\\r\\n                map(response => (<GridDataResult>{data:response['data']}\\r\\n                )),\\r\\n\\r\\n                tap(() => this.loading = false)\\r\\n            );\\r\\n    }\\r\\n    public post_delete( Page: string,Body: any): Observable<GridDataResult> {\\r\\n        //const queryStr = `${toODataString(state)}&$count=true`;\\r\\n        const queryStr = ``;\\r\\n        this.loading = true;\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"post:Page:\\\",Page,\\\" Body:\\\",Body)\\r\\n\\r\\n        let theURL = `${this.BASE_URL}${Page}`;\\r\\n        this.httpOptions = {\\r\\n          headers: new HttpHeaders({\\r\\n            'Content-Type': 'application/json',\\r\\n            'authorization': this.StrAuth\\r\\n\\r\\n          })\\r\\n        }\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"this.StrAuth:\\\" + this.StrAuth);\\r\\n        return this.http\\r\\n            .post<any>(`${theURL}`, Body, this.httpOptions)\\r\\n            .pipe(\\r\\n                catchError((err) => {\\r\\n                    return throwError(err);\\r\\n                  }),\\r\\n\\r\\n                map(response => (<GridDataResult>{data:response['data']}\\r\\n                )),\\r\\n                tap(data => {\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\\\"status data:\\\", data);\\r\\n                  this.loading = false;\\r\\n                } )\\r\\n\\r\\n\\r\\n            );\\r\\n    }\\r\\n    public showDailogErr(error){\\r\\n      let Msg = error.error;\\r\\n      //console.log(\\\"Msg:\\\", Msg);\\r\\n      let position = Msg.search(\\\"UNIQUE constraint\\\");\\r\\n      if (position != -1 )\\r\\n        Msg = this.getNLS([],'ALREADY_EXISTS','Record already exists')\\r\\n      var dialogStruc = {\\r\\n        msg: Msg,\\r\\n        title: \\\"Error\\\",\\r\\n        info: null,\\r\\n        object: this,\\r\\n        action: this.OkActions,\\r\\n        callback: null\\r\\n      };\\r\\n      this.showConfirmation(dialogStruc);\\r\\n  \\r\\n    }\\r\\n    public syncFlag=0;\\r\\n    public post(object, Page: string,Body: any): Observable<GridDataResult> {\\r\\n      //const queryStr = `${toODataString(state)}&$count=true`;\\r\\n      const queryStr = ``;\\r\\n      this.loading = true;\\r\\n      //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"post:Page:\\\",Page,\\\" Body:\\\",Body)\\r\\n      this.checkRules(object, this.rulesPreQueryDef, Body,\\\"PRE_QUERY\\\")\\r\\n\\r\\n      let theURL = `${this.BASE_URL}${Page}`;\\r\\n      theURL = this.checkDBLoc(theURL);\\r\\n      this.httpOptions = {\\r\\n        headers: new HttpHeaders({\\r\\n          'Content-Type': 'application/json',\\r\\n          'authorization': this.StrAuth\\r\\n\\r\\n        })\\r\\n      }\\r\\n      //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"this.StrAuth:\\\" , this.StrAuth , theURL);\\r\\n      //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"this.StrAuth: with URL\\\" , this.StrAuth , theURL);\\r\\n      return this.http\\r\\n          .post<any>(`${theURL}`, Body, this.httpOptions)\\r\\n          .pipe(\\r\\n              catchError((err) => {\\r\\n                //console.log(\\\"err:\\\", err.error.error)\\r\\n                this.showDailogErr(err.error);\\r\\n                  return throwError(err);\\r\\n                }),\\r\\n\\r\\n              map(response => (<GridDataResult>{data:response['data']}\\r\\n              )),\\r\\n              tap(data => {\\r\\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"status data:\\\", data);\\r\\n                this.loading = false;\\r\\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:this.rulesPostQueryDef\\\", this.rulesPostQueryDef)\\r\\n                this.syncFlag = 0;\\r\\n                this.checkRules(object, this.rulesPostQueryDef, data,\\\"POST_QUERY\\\")\\r\\n\\r\\n\\r\\n\\r\\n              } )\\r\\n\\r\\n\\r\\n          );\\r\\n  }\\r\\n    /////////////////////////////////////////////////////\\r\\n    public postUpload(Page: string,Body: any): Observable<GridDataResult> {\\r\\n      //const queryStr = `${toODataString(state)}&$count=true`;\\r\\n      const queryStr = ``;\\r\\n      this.loading = true;\\r\\n\\r\\n      let theURL = Page;\\r\\n      this.httpOptions = {\\r\\n        headers: new HttpHeaders({\\r\\n          'authorization': this.StrAuth\\r\\n\\r\\n        })\\r\\n      }\\r\\n      //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"this.StrAuth:\\\" + this.StrAuth);\\r\\n      return this.http\\r\\n          .post<any>(`${theURL}`, Body, this.httpOptions)\\r\\n          .pipe(\\r\\n              catchError((err) => {\\r\\n                  return throwError(err);\\r\\n                }),\\r\\n\\r\\n              map(response => (<GridDataResult>{data:response['data']}\\r\\n              )),\\r\\n\\r\\n              tap(() => this.loading = false)\\r\\n          );\\r\\n  }\\r\\n  /////////////////////////////////////////////////////\\r\\n\\r\\n  uploadFile(page:any, filesSet: Set<File>, id:any): any {\\r\\n    filesSet.forEach(file => {\\r\\n      // create a new multipart-form for every file\\r\\n      const formdata: FormData = new FormData();\\r\\n      formdata.append('file', file);\\r\\n      formdata.append('id', id);\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"uploadFile page:\\\"+ page)\\r\\n      let apiURL =  this.SERVER_URL +  '/api/att' + page;\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"apiURL:\\\"+ apiURL);\\r\\n\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(formdata);\\r\\n        formdata.forEach(entries => console.log(JSON.stringify(entries)) );\\r\\n\\r\\n        this.postUpload(apiURL, formdata).subscribe(result => {\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log('result', result); });\\r\\n        });\\r\\n\\r\\n\\r\\n }\\r\\n\\r\\n  uploadFileOld(file: File): any {\\r\\n    const formdata: FormData = new FormData();\\r\\n    formdata.append('file', file);                                     //the uploaded file content\\r\\n    formdata.append('documentVersionId', '123');       //I need to pass some additional info to the server besides the File data\\r\\n    let apiURL =  this.SERVER_URL +  '/api?upload=y';\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"apiURL:\\\"+ apiURL);\\r\\n\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(formdata);\\r\\n    formdata.forEach(entries =>  console.log(JSON.stringify(entries)) );\\r\\n\\r\\n\\r\\n    //const apiURL = this.api_path + 'Upload';     //calling http://localhost:52333/api/UploadController\\r\\n\\r\\n    this.postUpload(apiURL, formdata).subscribe(result => {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log('result', result); });\\r\\n    /*const uploadReq = new HttpRequest('POST', apiURL, formdata, {\\r\\n       reportProgress: true\\r\\n    });\\r\\n    this.httpclient.request(uploadReq).subscribe(event => {\\r\\n       if (event.type === HttpEventType.UploadProgress) {\\r\\n           this.progress = Math.round(100 * event.loaded / event.total);\\r\\n       }\\r\\n   });\\r\\n   */\\r\\n\\r\\n }\\r\\n\\r\\n\\r\\n  /////////////////////////////////////////////////////\\r\\n    public hasChanges(): boolean {\\r\\n        return Boolean(this.deletedItems.length || this.updatedItems.length || this.createdItems.length);\\r\\n    }\\r\\n    private addToBody(NewVal,Body){\\r\\n        Body.push(NewVal);\\r\\n       // if (this.paramConfig.DEBUG_FLAG) console.log('NewVal : HF Please'  + JSON.stringify(NewVal));\\r\\n        return Body;\\r\\n      }\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    public showNotification(styleNote:any, msg:any): void {\\r\\n\\r\\n      let hideAfter = this.hideAfter;\\r\\n\\r\\n      if (styleNote == \\\"error\\\")\\r\\n        hideAfter = 5000;\\r\\n        this.notificationService.show({\\r\\n            content: msg,\\r\\n            cssClass: 'button-notification',\\r\\n            animation: { type: 'fade', duration: 200 },\\r\\n            position: { horizontal: 'center', vertical: 'bottom' },\\r\\n//            stacking: { stacking: 'down' },\\r\\n            type: { style: styleNote, icon: true},\\r\\n            //closable: true,\\r\\n            hideAfter: hideAfter\\r\\n        });\\r\\n    }\\r\\n    public goRecordAct ( target:any, object:any): void{\\r\\n\\r\\n        let rec;\\r\\n\\r\\n\\r\\n        if (target == \\\"first\\\"){\\r\\n          object.CurrentRec = 0;\\r\\n        }\\r\\n        else     if (target == \\\"last\\\"){\\r\\n          object.CurrentRec = object.executeQueryresult.total -1 ;\\r\\n        }\\r\\n        else     if (target == \\\"next\\\"){\\r\\n          if (object.CurrentRec < object.executeQueryresult.total - 1)\\r\\n          object.CurrentRec = object.CurrentRec + 1;\\r\\n        }\\r\\n        else     if (target == \\\"prev\\\"){\\r\\n          if (object.CurrentRec > 0 )\\r\\n            object.CurrentRec = object.CurrentRec - 1;\\r\\n        }\\r\\n\\r\\n        rec = object.executeQueryresult.data[object.CurrentRec];\\r\\n\\r\\n        if (typeof rec !== \\\"undefined\\\"){\\r\\n          object.form.patchValue(rec);\\r\\n          object.form.markAsPristine();\\r\\n          object.form.markAsUntouched();\\r\\n\\r\\n          //object.form.reset(rec, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n          if (object.disableEmitReadCompleted != true)\\r\\n            object.readCompletedOutput.emit(object.form.value);\\r\\n          if  (typeof object.callBackFunction !== \\\"undefined\\\")\\r\\n            object.callBackFunction(rec);\\r\\n        }\\r\\n        else\\r\\n          object.clearCompletedOutput.emit([]);\\r\\n\\r\\n    }\\r\\n    public goRecord ( target:any, object): void{\\r\\n        if (typeof object.executeQueryresult != \\\"undefined\\\")\\r\\n        {\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(object.form.dirty);\\r\\n          if (object.form.dirty == true){\\r\\n            let dialogStruc = {\\r\\n              msg: this.saveChangesMsg,\\r\\n              title : this.pleaseConfirmMsg,\\r\\n              info: target,\\r\\n              object : object,\\r\\n              action : this.YesNoActions,\\r\\n              callback: this.goRecordAct };\\r\\n              this.showConfirmation(dialogStruc);\\r\\n          }\\r\\n          else\\r\\n          {\\r\\n            this.goRecordAct ( target, object);\\r\\n          }\\r\\n        }\\r\\n\\r\\n      }\\r\\n\\r\\n    public showConfirmation(dialogStruc) {\\r\\n        let dialogResult;\\r\\n          const dialog: DialogRef = this.dialogService.open({\\r\\n              title: dialogStruc.title,\\r\\n              content: dialogStruc.msg,\\r\\n              actions: dialogStruc.action,\\r\\n              width: 450,\\r\\n              height: 200,\\r\\n              minWidth: 250\\r\\n          });\\r\\n\\r\\n          dialog.result.subscribe((result) => {\\r\\n              if (result instanceof DialogCloseResult) {\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log('close');\\r\\n              } else {\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log('action', result);\\r\\n              }\\r\\n              dialogResult = JSON.parse(JSON.stringify(result));\\r\\n              if (dialogResult.primary == true){\\r\\n                if (dialogStruc.hasOwnProperty('callback')) {\\r\\n                  dialogStruc.callback(dialogStruc.info, dialogStruc.object);\\r\\n                }\\r\\n              }\\r\\n          });\\r\\n      }\\r\\n\\r\\n      /**************** Form functions **************/\\r\\n      public  executeQuery_form( form: any, object) {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"star-services executeQuery_form object.form:\\\");\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.isSearch:\\\"+object.isSearch)\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(object.form.value);\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(form.value);\\r\\n        if (typeof object.form !== \\\"undefined\\\"){\\r\\n          if ( (object.form.dirty == true) && (object.isSearch != true) )\\r\\n          {\\r\\n            let dialogStruc = {\\r\\n              msg: this.saveChangesMsg,\\r\\n              title : this.pleaseConfirmMsg,\\r\\n              info: form,\\r\\n              object : object,\\r\\n              action : this.YesNoActions,\\r\\n              callback: this.executeQueryAct_form };\\r\\n              this.showConfirmation(dialogStruc);\\r\\n          }\\r\\n          else\\r\\n          {\\r\\n            this.executeQueryAct_form ( form, object);\\r\\n          }\\r\\n        }\\r\\n        else\\r\\n        {\\r\\n          this.executeQueryAct_form ( form, object);\\r\\n        }\\r\\n      }\\r\\n      // routine from : https://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/integration-with-json/\\r\\n\\r\\n      public parseToDate(json:any) {\\r\\n       if (this.paramConfig.DEBUG_FLAG) console.log(\\\"json:in:\\\",json)\\r\\n        Object.keys(json).map(key => {\\r\\n          let Val1 = json[key];\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"key:\\\",key, Val1, typeof Val1);\\r\\n          //let n = key.toUpperCase().search(\\\"DATE\\\");\\r\\n          //if (n != -1){\\r\\n          if (typeof Val1 != \\\"number\\\" ){   //it is not a number, check more\\r\\n            if ( (Val1 != null) && (Val1.length > 7))\\r\\n            {\\r\\n              const date = new Date(Val1);\\r\\n              let checkYYYY = isNaN(parseInt(Val1.substring(0, 4)));\\r\\n              let timeVal = date.getTime();\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log(\\\"timeVal:\\\",timeVal, isNaN(timeVal));\\r\\n              if (!isNaN(timeVal) && (timeVal > 0) && !checkYYYY) {\\r\\n                if (this.paramConfig.DEBUG_FLAG) console.log(\\\"it is a date\\\");\\r\\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"key:\\\"+key + \\\":\\\" + date.getTime());\\r\\n                json[key] = date;\\r\\n              }\\r\\n            }\\r\\n          }\\r\\n        });\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"json:out:\\\",json)\\r\\n        return json;\\r\\n      }\\r\\n      public dateYYYYMMDD(object, json:any) {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"json:\\\",json)\\r\\n         Object.keys(json).map(key => {\\r\\n           let n = key.toUpperCase().search(\\\"_DATE\\\");\\r\\n           if (n != -1){\\r\\n            let dateOrg = json[key];\\r\\n             let date = new Date(json[key]);\\r\\n             //date = toLocalDate(date);\\r\\n             let timeVal = date.getTime();\\r\\n             if (!isNaN(timeVal) && (timeVal > 0)) {\\r\\n               //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"key:\\\"+key + \\\":\\\" + date.getTime());\\r\\n               //let array = dateOrg.split(\\\"T\\\")\\r\\n               dateOrg = formatDate(dateOrg, object.paramConfig.DateFormat,object.paramConfig.dateLocale)\\r\\n               json[key] = dateOrg;\\r\\n             }\\r\\n           }\\r\\n         });\\r\\n         return json;\\r\\n       }\\r\\n\\r\\n      public  executeQueryAct_form( form: any, object) {\\r\\n        if  (typeof form === \\\"undefined\\\")\\r\\n          return;\\r\\n\\r\\n        let paramConfig = {\\r\\n          \\\"Name\\\": \\\"childRecords\\\",\\r\\n          \\\"Val\\\": 0\\r\\n        };\\r\\n        setParamConfig(paramConfig);\\r\\n        if (object.isChild == true)\\r\\n        {\\r\\n          if ( object.isSearch == true)\\r\\n          {\\r\\n            if ( (typeof object.masterKeyNameArr != \\\"undefined\\\") && (object.masterKeyNameArr.length != 0) )\\r\\n            {\\r\\n              for (let i = 0; i< object.masterKeyNameArr.length; i++){\\r\\n                object.formInitialValues[object.masterKeyNameArr[i]] = object.masterKeyArr[i];\\r\\n              }\\r\\n            }\\r\\n            else\\r\\n            {\\r\\n              object.formInitialValues[object.masterKeyName] = object.masterKey;\\r\\n            }\\r\\n\\r\\n            //object.formInitialValues[object.masterKeyName] = object.masterKey;\\r\\n            object.form.reset(object.formInitialValues, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n            if (object.paramConfig.DEBUG_FLAG) console.log(\\\"object.masterKeyName:\\\"+ object.masterKeyName);\\r\\n            object.isSearch = true;\\r\\n            form = object.form.value;\\r\\n          }\\r\\n        }\\r\\n\\r\\n        let Page = \\\"&_query=\\\" + object.getCMD;\\r\\n        if (object.paramConfig.DEBUG_FLAG) console.log(\\\"object.isSearch:\\\"+object.isSearch)\\r\\n        //if (object.isSearch == true) {\\r\\n          if (object.paramConfig.DEBUG_FLAG) console.log(form.value);\\r\\n            let NewVal =  form;\\r\\n            object.isSearch = false;\\r\\n            if ( (typeof object.formattedWhere === \\\"undefined\\\") || (object.formattedWhere == null)  )\\r\\n            {\\r\\n              Page = Page + object.starServices.formatWhere(NewVal);\\r\\n\\r\\n            }\\r\\n            else{\\r\\n              Page = Page + object.formattedWhere;\\r\\n              object.formattedWhere =  null;\\r\\n            }\\r\\n            if ( (typeof object.OrderByClause !== \\\"undefined\\\") && (object.OrderByClause != \\\"\\\") )\\r\\n              Page = Page + \\\"&_ORDERBY=\\\" + object.OrderByClause;\\r\\n        //}\\r\\n//console.log(\\\"test Page:\\\", Page);\\r\\n        object.executeQueryresult=[];\\r\\n        object.executeQueryresult.result=0;\\r\\n        object.CurrentRec = 0;\\r\\n\\r\\n        Page = encodeURI(Page);\\r\\n        object.starServices.fetch(object, Page).subscribe(result => {\\r\\n                if (result != null) {\\r\\n                  for (let i=0; i < result.data[0].data.length;i++)\\r\\n                    result.data[0].data[i] = object.starServices.parseToDate(result.data[0].data[i]);\\r\\n\\r\\n\\r\\n                  result = {data: result.data[0].data,\\r\\n                    total: parseInt(result.data[0].data.length, 10)}\\r\\n                    if( object.isMaster)\\r\\n                      object.starServices.showNotification ('success',\\\"Records retrieved : \\\" + result.total);\\r\\n                    object.executeQueryresult =  result;\\r\\n                    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.executeQueryresult:\\\",object.executeQueryresult );\\r\\n                    //console.log(\\\"result.data:\\\",result.data, \\\" object.CurrentRec\\\", object.CurrentRec );\\r\\n                    //console.log(\\\"result.data[object.CurrentRec:\\\",result.data[object.CurrentRec] );\\r\\n                    if  (typeof result.data[object.CurrentRec] !== \\\"undefined\\\"){\\r\\n                      object.form.patchValue(result.data[object.CurrentRec]);\\r\\n                      //console.log(\\\"object.form.value:\\\",object.form.value);\\r\\n                      object.form.markAsPristine();\\r\\n                      object.form.markAsUntouched();\\r\\n                    }\\r\\n\\r\\n                    //object.form.reset(result.data[object.CurrentRec], {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n\\r\\n                    if (object.paramConfig.DEBUG_FLAG) console.log(\\\"form servicereadCompletedOutput\\\" );\\r\\n                    if (object.paramConfig.DEBUG_FLAG) console.log(object.readCompletedOutput );\\r\\n                    let paramConfig = {\\r\\n                      \\\"Name\\\": \\\"childRecords\\\",\\r\\n                      \\\"Val\\\": result.total\\r\\n                    };\\r\\n                    setParamConfig(paramConfig);\\r\\n                    if (result.total != 0)\\r\\n                      object.isNew = false;\\r\\n\\r\\n                    if (object.disableEmitReadCompleted != true){\\r\\n                      if (result.total != 0)\\r\\n                      {\\r\\n                        object.readCompletedOutput.emit(object.form.value);\\r\\n                      }\\r\\n                      else\\r\\n                        object.clearCompletedOutput.emit([]);\\r\\n                    }\\r\\n                   if  (typeof object.callBackFunction !== \\\"undefined\\\")\\r\\n                      object.callBackFunction(result.data[0]);\\r\\n\\r\\n\\r\\n                }\\r\\n                this.setPrimarKeyNameArr(object, true);\\r\\n            },\\r\\n            err => {\\r\\n                //alert('error:' + err.message);\\r\\n                this.showErrorMsg(object, err);\\r\\n            });\\r\\n    }\\r\\n    public execstarServices_form_inTrans(NewVal,object){\\r\\n      this.commitBody.push(NewVal);\\r\\n      if (object.action != \\\"REMOVE\\\")\\r\\n      {\\r\\n        if (typeof object.executeQueryresult !== \\\"undefined\\\")\\r\\n        {\\r\\n          if (object.isNew == true){\\r\\n            object.executeQueryresult.data.push(NewVal);\\r\\n            object.executeQueryresult.total = object.executeQueryresult.total + 1;\\r\\n          }\\r\\n          else\\r\\n          {\\r\\n            object.executeQueryresult.data[object.CurrentRec] = NewVal;\\r\\n          }\\r\\n        }\\r\\n        else\\r\\n        {\\r\\n          let NewValArr = [];\\r\\n          NewValArr.push(NewVal);\\r\\n          let result = {data: NewValArr,\\r\\n            total: 1}\\r\\n            object.executeQueryresult =  result;\\r\\n            object.CurrentRec = 0;\\r\\n        }\\r\\n\\r\\n        var data =[];\\r\\n        data.push(NewVal)\\r\\n        if (object.isNew == true)\\r\\n        {\\r\\n          object.isNew = false;\\r\\n           if  (typeof object.callBackPost_Insert !== \\\"undefined\\\"){\\r\\n              object.callBackPost_Insert.apply(object, data);\\r\\n           }\\r\\n        }\\r\\n        else\\r\\n        {\\r\\n          if  (typeof object.callBackPost_Update !== \\\"undefined\\\"){\\r\\n            object.callBackPost_Update.apply(object, data);\\r\\n          }\\r\\n        }\\r\\n\\r\\n      }\\r\\n      else\\r\\n      {\\r\\n        //REMOVE\\r\\n        object.executeQueryresult.data.splice(object.CurrentRec, 1);\\r\\n        object.executeQueryresult.total--;\\r\\n        if (object.CurrentRec > 0)\\r\\n        {\\r\\n          object.CurrentRec--;\\r\\n          object.form.reset(object.executeQueryresult.data[object.CurrentRec], {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n          if (object.isNew == true)\\r\\n            object.isNew = false;\\r\\n        }\\r\\n        else\\r\\n        {\\r\\n          object.form.reset(object.formInitialValues, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n          object.isNew = true;\\r\\n        }\\r\\n        let NewVal1 = [];\\r\\n                NewVal1.push(NewVal);\\r\\n        if  (typeof object.callBackRemoveAtt !== \\\"undefined\\\")\\r\\n          object.callBackRemoveAtt(object, NewVal1);\\r\\n        if  (typeof object.callBackPost_Remove !== \\\"undefined\\\"){\\r\\n              object.callBackPost_Remove.apply(object, NewVal1);\\r\\n        }\\r\\n          \\r\\n      }\\r\\n    \\r\\n    if (object.action != \\\"REMOVE\\\")\\r\\n    {\\r\\n      object.form.reset(NewVal, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n    }\\r\\n    if (object.diableEmitSave == true) \\r\\n      {}\\r\\n    else\\r\\n      object.saveCompletedOutput.emit(NewVal);\\r\\n    if (object.isChild == true){\\r\\n      let paramConfig = {\\r\\n        \\\"Name\\\": \\\"childRecords\\\",\\r\\n        \\\"Val\\\": object.executeQueryresult.total\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\n    }\\r\\n    object.action = \\\"\\\";\\r\\n    this.setPrimarKeyNameArr(object, true);\\r\\n\\r\\n    }\\r\\n      public execstarServices_form(NewVal,object)\\r\\n      {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"NewVal:\\\",NewVal);\\r\\n        object.addToBody(NewVal);\\r\\n          let Page =  \\\"&_trans=Y\\\";\\r\\n          if (this.inTrans) {\\r\\n            this.execstarServices_form_inTrans(NewVal,object);\\r\\n            return;\\r\\n          }\\r\\n\\r\\n          this.post(object,Page,object.Body).subscribe(Page => {\\r\\n            object.Body =[];\\r\\n            if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.executeQueryresult.data:object.CurrentRec:\\\"+object.CurrentRec +\\\" object.action:\\\" + object.action);\\r\\n            if (this.paramConfig.DEBUG_FLAG) console.log( object.executeQueryresult);\\r\\n            //if (typeof object.executeQueryresult !== \\\"undefined\\\")\\r\\n            {\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here1\\\");\\r\\n              if (object.action != \\\"REMOVE\\\")\\r\\n              {\\r\\n                if (this.paramConfig.DEBUG_FLAG) console.log(object.executeQueryresult);\\r\\n                if (typeof object.executeQueryresult !== \\\"undefined\\\")\\r\\n                {\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.isNew:\\\" + object.isNew)\\r\\n                  if (object.isNew == true){\\r\\n                    object.executeQueryresult.data.push(NewVal);\\r\\n                    object.executeQueryresult.total = object.executeQueryresult.total + 1;\\r\\n                    //object.CurrentRec++;\\r\\n                  }\\r\\n                  else\\r\\n                  {\\r\\n                    object.executeQueryresult.data[object.CurrentRec] = NewVal;\\r\\n                  }\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log( \\\"object.executeQueryresult post\\\");\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log( object.executeQueryresult);\\r\\n                }\\r\\n                else\\r\\n                {\\r\\n                  let NewValArr = [];\\r\\n                  NewValArr.push(NewVal);\\r\\n                  let result = {data: NewValArr,\\r\\n                    total: 1}\\r\\n                    object.executeQueryresult =  result;\\r\\n                    object.CurrentRec = 0;\\r\\n                }\\r\\n\\r\\n                this.showNotification ('success',\\\"Data saved successfully\\\");\\r\\n                var data =[];\\r\\n                data.push(NewVal)\\r\\n                if (object.isNew == true)\\r\\n                {\\r\\n                  object.isNew = false;\\r\\n                   if  (typeof object.callBackPost_Insert !== \\\"undefined\\\"){\\r\\n                      //object.callBackPost_Insert(object, NewVal);\\r\\n                      //console.log(\\\"before calling callBackPost_Insert:\\\", NewVal,data)\\r\\n                      object.callBackPost_Insert.apply(object, data);\\r\\n                   }\\r\\n                }\\r\\n                else\\r\\n                {\\r\\n                  if  (typeof object.callBackPost_Update !== \\\"undefined\\\"){\\r\\n                    object.callBackPost_Update.apply(object, data);\\r\\n                  }\\r\\n                }\\r\\n\\r\\n              }\\r\\n              else\\r\\n              {\\r\\n                //REMOVE\\r\\n                object.executeQueryresult.data.splice(object.CurrentRec, 1);\\r\\n                object.executeQueryresult.total--;\\r\\n                if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.CurrentRec:\\\"+ object.CurrentRec, \\\" NewVal:\\\", NewVal)\\r\\n                if (object.CurrentRec > 0)\\r\\n                {\\r\\n                  object.CurrentRec--;\\r\\n                  object.form.reset(object.executeQueryresult.data[object.CurrentRec], {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n                  if (object.isNew == true)\\r\\n                    object.isNew = false;\\r\\n\\r\\n                }\\r\\n                else\\r\\n                {\\r\\n                  object.form.reset(object.formInitialValues, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n                  object.isNew = true;\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.isNew:\\\" + object.isNew)\\r\\n                }\\r\\n                if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here2:NewVal:\\\", NewVal)\\r\\n                let NewVal1 = [];\\r\\n                NewVal1.push(NewVal);\\r\\n                if  (typeof object.callBackRemoveAtt !== \\\"undefined\\\")\\r\\n                  object.callBackRemoveAtt.apply(object, NewVal1);\\r\\n                \\r\\n                if  (typeof object.callBackPost_Remove !== \\\"undefined\\\"){\\r\\n                      object.callBackPost_Remove.apply(object, NewVal1);\\r\\n                }\\r\\n                  \\r\\n              }\\r\\n            }\\r\\n            if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here2\\\");\\r\\n            if (object.action != \\\"REMOVE\\\")\\r\\n            {\\r\\n              object.form.reset(NewVal, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n            }\\r\\n            if (object.diableEmitSave == true) \\r\\n              {}\\r\\n            else\\r\\n              object.saveCompletedOutput.emit(NewVal);\\r\\n            if (object.isChild == true){\\r\\n              let paramConfig = {\\r\\n                \\\"Name\\\": \\\"childRecords\\\",\\r\\n                \\\"Val\\\": object.executeQueryresult.total\\r\\n              };\\r\\n              setParamConfig(paramConfig);\\r\\n            }\\r\\n            object.action = \\\"\\\";\\r\\n            this.setPrimarKeyNameArr(object, true);\\r\\n          },\\r\\n          err => {\\r\\n            //alert ('error:' + err.message);\\r\\n            this.showErrorMsg(object, err);\\r\\n          });\\r\\n      }\\r\\n\\r\\n      public saveChanges_form( form: any, object): void {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log('saveChanges_form : object.isNew :' + object.isNew );\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log( object.componentConfig.routineAuth );\\r\\n        if (object.componentConfig.routineAuth != null){\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log (\\\"authLevel:\\\" + object.componentConfig.routineAuth.authLevel);\\r\\n          if (object.componentConfig.routineAuth.authLevel != 2 )\\r\\n          {\\r\\n            let dialogStruc = {\\r\\n              msg: this.readOnlyMsg,\\r\\n              title : \\\"Warning\\\",\\r\\n              info: null,\\r\\n              object : object,\\r\\n              action : this.OkActions,\\r\\n              callback: null };\\r\\n              this.showConfirmation(dialogStruc);\\r\\n              return;\\r\\n          }\\r\\n        }\\r\\n\\r\\n\\r\\n      if ( (!object.form.dirty) && object.isChild)\\r\\n        return;\\r\\n      if (object.form.invalid)\\r\\n      {\\r\\n        object.submitted =  true;\\r\\n        this.showOkMsg(object,this.fieldsRequiredMsg,\\\"Error\\\");\\r\\n        return;\\r\\n      }\\r\\n        let NewVal = {};\\r\\n        //object.Body = [];   // only one transaction allowed in  form. Moved to form\\r\\n        //NewVal =  form.value;\\r\\n        NewVal = Object.assign({}, form.value, {})\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log (\\\"----- NewVal:\\\")\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(NewVal);\\r\\n\\r\\n        if (object.isNew == true)\\r\\n          NewVal[\\\"_QUERY\\\"] = object.insertCMD;\\r\\n        else\\r\\n          NewVal[\\\"_QUERY\\\"] = object.updateCMD;\\r\\n        //object.isNew = false;\\r\\n        this.execstarServices_form(NewVal, object);\\r\\n    }\\r\\n    public enterQueryAct_form (form : any, object): void{\\r\\n        object.CurrentRec = 0;\\r\\n        object.executeQueryresult=[];\\r\\n        object.executeQueryresult.result=0;\\r\\n        \\r\\n        object.isSearch = true;\\r\\n        object.isNew = false;\\r\\n        if (object.paramConfig.DEBUG_FLAG) console.log('enterQuery : object.isSearch:'+object.isSearch);\\r\\n        object.clearCompletedOutput.emit(object.formInitialValues);\\r\\n        object.form.reset(object.formInitialValues, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n        object.starServices.setPrimarKeyNameArr(object, false);\\r\\n      }\\r\\n\\r\\n      public setPrimarKeyNameArr(object, value){\\r\\n        if (typeof object.primarKeyReadOnlyArr !== \\\"undefined\\\") {\\r\\n          let keys = Object.keys(object.primarKeyReadOnlyArr);\\r\\n          for (let k =0; k < keys.length; k++)\\r\\n            {\\r\\n              if (object.paramConfig.DEBUG_FLAG) console.log(\\\"[keys[k]:\\\", keys[k], \\\" value:\\\", value);\\r\\n              object.primarKeyReadOnlyArr[keys[k]] = value;\\r\\n            }\\r\\n        }\\r\\n      }\\r\\n\\r\\n\\r\\n      public enterQuery_form (form : any, object): void{\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:dirty:\\\", object.form.dirty);\\r\\n        if (object.form.dirty == true)\\r\\n        {\\r\\n          let dialogStruc = {\\r\\n            msg: this.saveChangesMsg,\\r\\n            title : this.pleaseConfirmMsg,\\r\\n            info: form,\\r\\n            object : object,\\r\\n            action : this.YesNoActions,\\r\\n            callback: this.enterQueryAct_form };\\r\\n            this.showConfirmation(dialogStruc);\\r\\n        }\\r\\n        else\\r\\n        {\\r\\n          this.enterQueryAct_form ( form, object);\\r\\n        }\\r\\n      }\\r\\n\\r\\n      public onCancel_form(e, object): void {\\r\\n        object.form.reset(object.formInitialValues, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n        object.isSearch = false;\\r\\n        object.isNew = true;\\r\\n        object.clearCompletedOutput.emit(object.formInitialValues);\\r\\n        object.executeQueryresult=[];\\r\\n        object.executeQueryresult.result=0;\\r\\n        object.CurrentRec = 0;\\r\\n        object.FORM_TRIGGER_FAILURE = false;\\r\\n        \\r\\n    }\\r\\n    public showOkMsg(object, msg, severity ){\\r\\n      let dialogStruc = {\\r\\n        msg: msg,\\r\\n        title : severity,\\r\\n        info: null,\\r\\n        object : object,\\r\\n        action : this.OkActions,\\r\\n        callback: null };\\r\\n        this.showConfirmation(dialogStruc);\\r\\n    }\\r\\n      public onRemove_form( form, object): void {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.isNew:\\\",object.isNew)\\r\\n        if (object.isNew == true){\\r\\n          this.onCancel_form(null, object)\\r\\n          return;\\r\\n        }\\r\\n\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.executeQueryresult:\\\");\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(object.executeQueryresult);\\r\\n        if ((typeof object.executeQueryresult !== \\\"undefined\\\") && (object.executeQueryresult.total == 0))\\r\\n        {\\r\\n            this.showOkMsg(object,this.nothingToDeletelMsg,\\\"Warning\\\");\\r\\n            return;\\r\\n        }\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log('onRemove : isChild ' + object.isChild  + \\\" object.isMaster:\\\" + object.isMaster);\\r\\n        let NewVal =  form.value;\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(NewVal);\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.executeQueryresult:\\\" + object.executeQueryresult)\\r\\n        if (object.isChild == false){\\r\\n          var paramConfig = getParamConfig();\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(paramConfig);\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"paramConfig.childRecords:\\\" + paramConfig.childRecords)\\r\\n          if (typeof paramConfig.childRecords === \\\"undefined\\\"){\\r\\n            paramConfig.childRecords = 0;\\r\\n          }\\r\\n\\r\\n          if ((paramConfig.childRecords != 0) && (object.isMaster == true))\\r\\n          {\\r\\n            let dialogStruc = {\\r\\n              msg: this.deleteDetailMsg,\\r\\n              title : \\\"Warning\\\",\\r\\n              info: null,\\r\\n              object : object,\\r\\n              action : this.OkActions,\\r\\n              callback: null };\\r\\n              this.showConfirmation(dialogStruc);\\r\\n              return;\\r\\n          }\\r\\n\\r\\n\\r\\n        }\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(paramConfig);\\r\\n\\r\\n        let dialogStruc = {\\r\\n          msg: this.deleteConfirmMsg,\\r\\n          title : this.pleaseConfirmMsg,\\r\\n          info: form,\\r\\n          object : object,\\r\\n          action : this.YesNoActions,\\r\\n          callback: this.Remove_formAct };\\r\\n          this.showConfirmation(dialogStruc);\\r\\n\\r\\n\\r\\n    }\\r\\n    public Remove_formAct (form, object){\\r\\n      if (object.paramConfig.DEBUG_FLAG) console.log(\\\"in Remove_formAct\\\");\\r\\n      let NewVal = {};\\r\\n      NewVal =  form.value;\\r\\n      if (object.paramConfig.DEBUG_FLAG) console.log(NewVal);\\r\\n      //object.form.reset(object.formInitialValues);\\r\\n      object.action = \\\"REMOVE\\\";\\r\\n\\r\\n      NewVal[\\\"_QUERY\\\"] = object.deleteCMD;\\r\\n      object.starServices.execstarServices_form(NewVal, object);\\r\\n    }\\r\\n\\r\\n\\r\\n    public onNew_form(e , object): void {\\r\\n      if (object.paramConfig.DEBUG_FLAG) console.log (\\\"onNew: object.masterKey:\\\" + object.masterKey);\\r\\n\\r\\n        object.form.reset(object.formInitialValues, {emitEvent: object.emitEvent != null ? object.emitEvent : true});\\r\\n        object.clearCompletedOutput.emit(object.formInitialValues);\\r\\n        object.isSearch = false;\\r\\n        object.isNew = true;\\r\\n        this.setPrimarKeyNameArr(object, false);\\r\\n    }\\r\\n    /******************* Grid functions  ********/\\r\\n    public addHandler_grid(object): void {\\r\\n      if (typeof object.masterKeyNameArr != \\\"undefined\\\") {\\r\\n        if (object.isChild == true) {\\r\\n          if (object.masterKeyArr[0] == \\\"\\\") {\\r\\n            this.showOkMsg(this, this.saveMasterMsg, \\\"Error\\\");\\r\\n            return;\\r\\n          }\\r\\n        }\\r\\n        else {\\r\\n          if (object.isChild == true) {\\r\\n            if (object.masterKey == \\\"\\\") {\\r\\n              this.showOkMsg(this, this.saveMasterMsg, \\\"Error\\\");\\r\\n              return;\\r\\n            }\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n  \\r\\n      if (object.paramConfig.DEBUG_FLAG) console.log(\\\"test41:object.gridInitialValues:\\\", object.gridInitialValues);\\r\\n      object.saveCurrent();\\r\\n      this.setPrimarKeyNameArr(object, false);\\r\\n      /* object.gridInitialValues.MODULE = object.masterKey;*/\\r\\n      if ( (typeof object.masterKeyNameArr != \\\"undefined\\\") && (object.masterKeyNameArr.length != 0) )\\r\\n      {\\r\\n        this.setPrimarKeyNameArr(object, false);\\r\\n        if(object.isChild == true){\\r\\n          for (let i = 0; i< object.masterKeyNameArr.length; i++){\\r\\n            let readOnly = \\\"is\\\"+object.masterKeyNameArr[i] + \\\"readOnly\\\";\\r\\n            if (object.primarKeyReadOnlyArr){\\r\\n              object.primarKeyReadOnlyArr[readOnly] = true;\\r\\n            }\\r\\n            object.gridInitialValues[object.masterKeyNameArr[i]] = object.masterKeyArr[i];\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n      else\\r\\n      {\\r\\n        if (object.paramConfig.DEBUG_FLAG) console.log(\\\"test4:object.masterKeyName:\\\", object.masterKeyName);\\r\\n        if (object.masterKeyName != \\\"\\\"){\\r\\n          object.gridInitialValues[object.masterKeyName] = object.masterKey;\\r\\n        }\\r\\n      }\\r\\n      if (object.paramConfig.DEBUG_FLAG) console.log(\\\"test42:object.gridInitialValues:\\\", object.gridInitialValues);\\r\\n      object.closeEditor();\\r\\n      object.formGroup = object.createFormGroupGrid(\\r\\n        object.gridInitialValues\\r\\n      );\\r\\n      if (object.paramConfig.DEBUG_FLAG) console.log(\\\"object.formGroup:\\\", object.formGroup)\\r\\n      object.isNew = true;\\r\\n      object.grid.addRow(object.formGroup);\\r\\n      //this.setPrimarKeyNameArr(object, false);\\r\\n      }\\r\\n  \\r\\n    public removeHandler_grid( sender, object ) {\\r\\n      //sender.cancelCell();\\r\\n      let paramConfig = getParamConfig();\\r\\n      if (object.paramConfig.DEBUG_FLAG) console.log(\\\"removeHandler_grid paramConfig:object.isMaster \\\"+ object.isMaster );\\r\\n      if (object.paramConfig.DEBUG_FLAG) console.log(paramConfig);\\r\\n      if ((paramConfig.childRecords != 0) && (object.isMaster == true))\\r\\n      {\\r\\n        let dialogStruc = {\\r\\n          msg: this.deleteDetailMsg,\\r\\n          title : \\\"Warning\\\",\\r\\n          info: null,\\r\\n          object : object,\\r\\n          action : this.OkActions,\\r\\n          callback: null };\\r\\n          this.showConfirmation(dialogStruc);\\r\\n          return;\\r\\n      }\\r\\n      if (object.paramConfig.DEBUG_FLAG) console.log(\\\"object.editedRowIndex :\\\",object.editedRowIndex )\\r\\n      if (typeof object.editedRowIndex !== \\\"undefined\\\"){\\r\\n        let NewVal = {};\\r\\n        let grid_data = JSON.parse(JSON.stringify(object.grid.data));\\r\\n\\r\\n        NewVal = grid_data.data [object.editedRowIndex];\\r\\n        let curCMD = NewVal[\\\"_QUERY\\\"];\\r\\n        if (object.paramConfig.DEBUG_FLAG) console.log(\\\"check:NewVal:_QUERY\\\", NewVal[\\\"_QUERY\\\"])\\r\\n        let result1 = object.starServices.removeRec(object.grid.data , object.editedRowIndex );\\r\\n        object.grid.data = result1;\\r\\n        if (object.paramConfig.DEBUG_FLAG) console.log(\\\"check:NewVal:\\\", NewVal)\\r\\n\\r\\n        NewVal[\\\"_QUERY\\\"] = object.deleteCMD;\\r\\n        if (curCMD != object.insertCMD ){\\r\\n          object.addToBody(NewVal);\\r\\n          object.removedRec.push(NewVal);\\r\\n        }\\r\\n\\r\\n      }\\r\\n      else\\r\\n        object.cancelHandler();\\r\\n\\r\\n\\r\\n    }\\r\\n    public saveCurrent_grid(object): void {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"saveCurrent_grid:object.formGroup:\\\",object.formGroup);\\r\\n\\r\\n\\r\\n      if  (object.formGroup) {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"saveCurrent_grid:object.formGroup:\\\",object.formGroup);\\r\\n          let NewVal = {};\\r\\n          NewVal = Object.assign({}, object.formGroup.value);\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log('check:dirty :' , object.formGroup.dirty , \\\" isNew:\\\", object.isNew, \\\" NewVal: \\\" ,NewVal);\\r\\n          if (object.formGroup.dirty === true)\\r\\n          {\\r\\n            if (object.isNew == true)\\r\\n            {\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here1 NewVal\\\",NewVal);\\r\\n               //let result = object.starServices.addRec(object.grid.data, NewVal) ;\\r\\n             // object.grid.data = result;\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log(object.grid.data);\\r\\n\\r\\n              if (object.grid.data == null || typeof object.grid.data.data == \\\"undefined\\\")\\r\\n                object.grid.data = {data: [],  total: 0};\\r\\n              //object.grid.data.data.push(NewVal);\\r\\n              object.grid.data.data.splice(0,0,NewVal);\\r\\n              NewVal[\\\"_QUERY\\\"] = object.insertCMD;\\r\\n            }\\r\\n            else\\r\\n            {\\r\\n\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log('check:object.grid.data:', object.grid.data, \\\" NewVal:\\\", NewVal );\\r\\n              //NewVal = this.parseToDate(NewVal);\\r\\n              if (object.grid.data.data[object.editedRowIndex]._QUERY == object.insertCMD){\\r\\n                NewVal[\\\"_QUERY\\\"] = object.insertCMD;\\r\\n              }\\r\\n              else{\\r\\n                NewVal[\\\"_QUERY\\\"] = object.updateCMD;\\r\\n              }\\r\\n              object.grid.data.data[object.editedRowIndex] = NewVal;\\r\\n              //let result1 = object.starServices.updateRec(object.grid.data , object.editedRowIndex, NewVal );\\r\\n              //object.grid.data = result1;\\r\\n            }\\r\\n            //object.addToBody(NewVal); // addToBody will be done at saveChanges_grid to avoid duplicte update since object.grid.data.data is getting updated\\r\\n            if (this.paramConfig.DEBUG_FLAG) console.log(object.grid.data );\\r\\n          }\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"pre close\\\")\\r\\n          object.closeEditor();\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"post close\\\")\\r\\n      }\\r\\n    }\\r\\n    public closeEditor_grid(object): void {\\r\\n      //console.log(\\\"Del:object.editedRowIndex:\\\", object.editedRowIndex);\\r\\n      //console.log(\\\"Del:object.grid:\\\", object.grid);\\r\\n      object.grid.closeRow(object.editedRowIndex);\\r\\n      object.isNew = false;\\r\\n      object.editedRowIndex = undefined;\\r\\n      object.formGroup = undefined;\\r\\n    }\\r\\n    public cancelHandler_grid(object): void {\\r\\n      object.closeEditor();\\r\\n      object.isSearch = false;\\r\\n      object.FORM_TRIGGER_FAILURE = false;\\r\\n      //object.removedRec.length = 0;\\r\\n    }\\r\\n    public saveChanges_grid_inTrans(grid, object, NewVal){\\r\\n      this.commitBody.push(NewVal);\\r\\n      if (object.isChild == true){\\r\\n        let gridRecords = object.grid.data.data.length;\\r\\n        let paramConfig = {\\r\\n          \\\"Name\\\": \\\"childRecords\\\",\\r\\n          \\\"Val\\\": gridRecords\\r\\n        };\\r\\n        setParamConfig(paramConfig);\\r\\n      }\\r\\n      \\r\\n      if  (typeof object.callBackPost_Save !== \\\"undefined\\\"){\\r\\n        let NewVal1 = [];\\r\\n            NewVal1.push(NewVal);\\r\\n        object.callBackPost_Save.apply(object, NewVal1);\\r\\n      }\\r\\n      this.setPrimarKeyNameArr(object, true);\\r\\n    object.saveCompletedOutput.emit(grid);\\r\\n    }\\r\\n    public saveChanges_grid(grid: any, object): void {\\r\\n      if ( (object.grid.data == null) || (typeof object.grid.data.data == \\\"undefined\\\")){\\r\\n        return;\\r\\n      }\\r\\n      let Error = false;\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log (\\\"pre object.saveCurrent\\\");\\r\\n      object.saveCurrent();\\r\\n\\r\\n      if (object.componentConfig.routineAuth != null){\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log (\\\"authLevel:\\\" + object.componentConfig.routineAuth.authLevel);\\r\\n        if (object.componentConfig.routineAuth.authLevel != 2 )\\r\\n        {\\r\\n          let dialogStruc = {\\r\\n            msg: this.readOnlyMsg,\\r\\n            title : \\\"Warning\\\",\\r\\n            info: null,\\r\\n            object : object,\\r\\n            action : this.OkActions,\\r\\n            callback: null };\\r\\n            this.showConfirmation(dialogStruc);\\r\\n            return;\\r\\n        }\\r\\n      }\\r\\n      let NewVal =[];\\r\\n      for (let i =0; i < object.grid.data.data.length; i++){\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"check: object.grid.data.data[i]._QUERY:\\\", object.grid.data.data[i]._QUERY)\\r\\n        if (typeof object.grid.data.data[i]._QUERY != \\\"undefined\\\"){\\r\\n            NewVal = object.grid.data.data[i];\\r\\n          object.addToBody(NewVal);\\r\\n        }\\r\\n      }\\r\\n      if (this.inTrans) {\\r\\n        this.saveChanges_grid_inTrans(grid, object, NewVal);\\r\\n        return;\\r\\n      }\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"check: object.Body:\\\", object.Body);\\r\\n      if (object.Body.length != 0)\\r\\n      {\\r\\n        let Page =  \\\"&_trans=Y\\\";\\r\\n        this.post(object, Page,object.Body).subscribe(Page => {\\r\\n          object.Body =[];\\r\\n\\r\\n          for (let i = object.grid.data.data.length-1; i >= 0; i--){\\r\\n            if (typeof object.grid.data.data[i]._QUERY != \\\"undefined\\\"){\\r\\n              object.grid.data.data[i]._QUERY_DONE = object.grid.data.data[i]._QUERY;\\r\\n              delete object.grid.data.data[i]._QUERY;\\r\\n            }\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"check: object.grid.data.data[i]._QUERY:\\\", object.grid.data.data[i]._QUERY)\\r\\n          }\\r\\n\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.grid.data.data:\\\", object.grid.data.data)\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.grid.data.data:.length\\\", object.grid.data.data.length)\\r\\n          if (object.isChild == true){\\r\\n            let gridRecords = object.grid.data.data.length;\\r\\n            let paramConfig = {\\r\\n              \\\"Name\\\": \\\"childRecords\\\",\\r\\n              \\\"Val\\\": gridRecords\\r\\n            };\\r\\n            setParamConfig(paramConfig);\\r\\n          }\\r\\n          this.showNotification ('success',\\\"Data saved successfully\\\");\\r\\n          if  (typeof object.callBackPost_Save !== \\\"undefined\\\"){\\r\\n            let NewVal1 = [];\\r\\n                NewVal1.push(NewVal);\\r\\n            object.callBackPost_Save.apply(object, NewVal1);\\r\\n          }\\r\\n          this.setPrimarKeyNameArr(object, true);\\r\\n        },\\r\\n        err => {\\r\\n          for (let i = object.Body.length -1; i >=  0; i--){\\r\\n            if ( object.Body[i]._QUERY != object.deleteCMD){\\r\\n              object.Body.splice(i,1);\\r\\n            }\\r\\n          }\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"err:\\\", err)\\r\\n          let errMsg = this.getErrorMsg(err);\\r\\n          this.showNotification (\\\"error\\\",\\\"error:\\\" + errMsg);\\r\\n          Error = true;\\r\\n        });\\r\\n     }\\r\\n      else\\r\\n      {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.isMaster:\\\" + object.isMaster);\\r\\n        if (!object.isMaster)\\r\\n          this.showNotification ('warning',\\\"No changes to save\\\");\\r\\n      }\\r\\n      if (!Error)\\r\\n        object.saveCompletedOutput.emit(grid);\\r\\n    }\\r\\n    public getErrorMsg(err)\\r\\n    {\\r\\n      let errMsg = \\\"\\\";\\r\\n      if (typeof err.error.error != \\\"undefined\\\"){\\r\\n        errMsg = err.error.error;\\r\\n      }\\r\\n      else\\r\\n        errMsg = err.error;\\r\\n\\r\\n        return errMsg;\\r\\n\\r\\n    }\\r\\n\\r\\n\\r\\n\\r\\n    public executeQuery_grid (grid : any, object): void{\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.grid:\\\", object.grid)\\r\\n      if (typeof object.grid == \\\"undefined\\\")\\r\\n        return;\\r\\n\\r\\n      let dirty = false;\\r\\n      //if (this.paramConfig.DEBUG_FLAG) console.log (\\\"executeQuery_grid:\\\" + object.Body.length + \\\" \\\" + object.grid.isEditing(), \\\"object.Body:\\\",object.Body);\\r\\n      //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.Body:\\\",object.Body)\\r\\n      if ((object.Body.length != 0) || object.grid.isEditing() == true)\\r\\n      {\\r\\n        dirty = true;\\r\\n      }\\r\\n      if (dirty == true)\\r\\n      {\\r\\n        let dialogStruc = {\\r\\n          msg: this.saveChangesMsg,\\r\\n          title : this.pleaseConfirmMsg,\\r\\n          info: grid,\\r\\n          object : object,\\r\\n          action : this.YesNoActions,\\r\\n          callback: this.executeQueryAct_grid };\\r\\n          this.showConfirmation(dialogStruc);\\r\\n      }\\r\\n      else\\r\\n      {\\r\\n        this.executeQueryAct_grid ( grid, object);\\r\\n      }\\r\\n    }\\r\\n    public executeQueryAct_grid (grid : any, object): void{\\r\\n      let paramConfig = {\\r\\n        \\\"Name\\\": \\\"childRecords\\\",\\r\\n        \\\"Val\\\": 0\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\nif (object.paramConfig.DEBUG_FLAG) console.log(\\\"object.isChild:\\\", object.isChild, \\\" object.isSearch :\\\", object.isSearch )\\r\\n      if (object.isChild == true)\\r\\n      {\\r\\n        if ( object.isSearch != true)\\r\\n        {\\r\\n          grid = object.gridInitialValues;\\r\\n\\r\\n          if ( (typeof object.masterKeyNameArr != \\\"undefined\\\") && (object.masterKeyNameArr.length != 0) )\\r\\n          {\\r\\n            for (let i = 0; i< object.masterKeyNameArr.length; i++){\\r\\n              object.gridInitialValues[object.masterKeyNameArr[i]] = object.masterKeyArr[i];\\r\\n            }\\r\\n          }\\r\\n          else\\r\\n          {\\r\\n            object.gridInitialValues[object.masterKeyName] = object.masterKey;\\r\\n          }\\r\\n\\r\\n          //grid[object.masterKeyName] = object.masterKey;\\r\\n          if (object.paramConfig.DEBUG_FLAG) console.log(\\\"object.masterKeyName:\\\"+ object.masterKeyName);\\r\\n          if (object.paramConfig.DEBUG_FLAG) console.log(grid);\\r\\n          object.isSearch = true;\\r\\n          if (object.paramConfig.DEBUG_FLAG) console.log(\\\"---Searching:\\\");\\r\\n          if (object.paramConfig.DEBUG_FLAG) console.log(grid);\\r\\n        }\\r\\n      }\\r\\n\\r\\n       if (object.paramConfig.DEBUG_FLAG) console.log('------------executeQuery object.isSearch :' + object.isSearch  + \\\"  object.isChild:\\\" + object.isChild);\\r\\n      // if (object.paramConfig.DEBUG_FLAG) console.log(object.grid);\\r\\n\\r\\n       let Page =\\\"&_query=\\\" + object.getCMD;\\r\\n        if (object.isSearch == true){\\r\\n          if (object.paramConfig.DEBUG_FLAG) console.log('object.formGroup:' , object.formGroup,'typeof(grid):', typeof(grid.data) , ' grid:',grid)\\r\\n          let NewVal = \\\"\\\";\\r\\n          if (typeof object.formGroup == \\\"undefined\\\")\\r\\n          {\\r\\n            // a child component\\r\\n            if (object.paramConfig.DEBUG_FLAG) console.log('grid:',typeof(grid.data));\\r\\n            \\r\\n            if (typeof grid.data == \\\"object\\\")\\r\\n              NewVal = grid.data; // passed empty grid\\r\\n            else\\r\\n              NewVal =  grid; // used the passed grid param\\r\\n          }\\r\\n          else\\r\\n             NewVal = object.formGroup.value;\\r\\n\\r\\n            object.isSearch = false;\\r\\n            if (  (typeof object.formattedWhere === \\\"undefined\\\") || (object.formattedWhere == null) )\\r\\n            {\\r\\n              Page = Page + object.starServices.formatWhere(NewVal);\\r\\n\\r\\n            }\\r\\n            else{\\r\\n              if (object.paramConfig.DEBUG_FLAG) console.log(\\\"object.formattedWhere\\\", object.formattedWhere)\\r\\n\\r\\n              Page = Page + object.formattedWhere;\\r\\n              object.formattedWhere =  null;\\r\\n            }\\r\\n            if ( (typeof object.OrderByClause !== \\\"undefined\\\") && (object.OrderByClause != \\\"\\\") )\\r\\n              Page = Page + \\\"&_ORDERBY=\\\" + object.OrderByClause;\\r\\n\\r\\n\\r\\n        }\\r\\n        Page = encodeURI(Page);\\r\\n        //if (object.paramConfig.DEBUG_FLAG) console.log('Page:' + Page);\\r\\n        object.grid.loading = true;\\r\\n        object.closeEditor();\\r\\n        object.executeQueryresult=[];\\r\\n        object.executeQueryresult.result=0;\\r\\n        object.CurrentRec = 0;\\r\\n        object.grid.data = null;\\r\\n        \\r\\n\\r\\n        object.starServices.fetch(object, Page).subscribe(result => {\\r\\n            if (result != null)\\r\\n            {\\r\\n              let actualResult = Object.assign({}, result, {})\\r\\n              if (object.paramConfig.DEBUG_FLAG) console.log(\\\"------result.data[0].data :\\\");\\r\\n              //if (object.paramConfig.DEBUG_FLAG) console.log(result.data[0].data);\\r\\n              for (let i=0; i < result.data[0].data.length;i++){\\r\\n                result.data[0].data[i] = object.starServices.parseToDate(result.data[0].data[i]);\\r\\n                if (result.data[0].data[i]._QUERY != \\\"undefined\\\"){\\r\\n                  delete result.data[0].data[i]._QUERY;\\r\\n                  delete result.data[0].data[i]._QUERY_DONE;\\r\\n                }\\r\\n              }\\r\\n              if (object.paramConfig.DEBUG_FLAG) console.log(result.data[0].data[0]);\\r\\n\\r\\n              object.Body =[];\\r\\n              result = {data: result.data[0].data,\\r\\n                total: parseInt(result.data[0].data.length, 10)}\\r\\n                if( object.isMaster)\\r\\n                  object.starServices.showNotification ('success',\\\"Records retrieved : \\\" + result.total);\\r\\n                object.executeQueryresult =  result;\\r\\n                if (object.isChild == true){\\r\\n                  let paramConfig = {\\r\\n                    \\\"Name\\\": \\\"childRecords\\\",\\r\\n                    \\\"Val\\\": result.total\\r\\n                  };\\r\\n                  setParamConfig(paramConfig);\\r\\n                }\\r\\n\\r\\n\\r\\n\\r\\n            }\\r\\n            object.grid.loading = false;\\r\\n            object.grid.data = result;\\r\\n\\r\\n            if  (typeof object.callBackFunction !== \\\"undefined\\\")\\r\\n                object.callBackFunction(result);\\r\\n\\r\\n            if (object.paramConfig.DEBUG_FLAG) console.log(\\\"grid servicereadCompletedOutput\\\" );\\r\\n            if (object.paramConfig.DEBUG_FLAG) console.log(object.grid.data.data );\\r\\n            if (object.paramConfig.DEBUG_FLAG) console.log(\\\"result length:\\\" + result.length);\\r\\n            if (object.paramConfig.DEBUG_FLAG) console.log(\\\"result total:\\\" + result.total);\\r\\n            if (object.paramConfig.DEBUG_FLAG) console.log (\\\"object.performReadCompletedOutput:\\\"+ object.performReadCompletedOutput)\\r\\n            if ( (typeof object.performReadCompletedOutput !== \\\"undefined\\\")  || (object.performReadCompletedOutput == false) )\\r\\n            {\\r\\n              if (object.paramConfig.DEBUG_FLAG) console.log(\\\"here1\\\")\\r\\n            }\\r\\n            else\\r\\n            {\\r\\n              if (object.paramConfig.DEBUG_FLAG) console.log(\\\"here2\\\")\\r\\n              if (object.disableEmitReadCompleted != true){\\r\\n                if (result.total != 0)\\r\\n                  object.readCompletedOutput.emit(object.grid.data.data[0]);\\r\\n                else\\r\\n                  object.readCompletedOutput.emit([]);\\r\\n              }\\r\\n          }\\r\\n            object.starServices.setPrimarKeyNameArr(object, true);\\r\\n          },\\r\\n              err => {\\r\\n                object.Body =[];\\r\\n                object.grid.loading = false;\\r\\n                object.grid.data = null;\\r\\n                if (object.paramConfig.DEBUG_FLAG) console.log(\\\"err:\\\",err)\\r\\n                object.starServices.showNotification (\\\"error\\\",\\\"error:\\\" + err.error.error.code);\\r\\n              });\\r\\n          object.docClickSubscription = object.renderer.listen('document', 'click', object.onDocumentClick.bind(object));\\r\\n    }\\r\\n\\r\\n\\r\\npublic enterQueryAct_grid (grid : any, object): void{\\r\\n  object.grid.cancel;\\r\\n  object.grid.data = null;\\r\\n  object.Body =[];\\r\\n\\r\\n  object.isSearch = true;\\r\\n  if (object.paramConfig.DEBUG_FLAG) console.log(\\\"object.isSearch:\\\" + object.isSearch);\\r\\n  object.addHandler();\\r\\n  object.clearCompletedOutput.emit(object.formInitialValues);\\r\\n  object.starServices.setPrimarKeyNameArr(object, false);\\r\\n\\r\\n}\\r\\n\\r\\npublic enterQuery_grid (grid : any, object): void{\\r\\n    let dirty = false;\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log (\\\"pre object.saveCurrent\\\");\\r\\n    object.saveCurrent();\\r\\n    let modified = false;\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log (\\\"object.grid.data\\\");\\r\\n    if (object.grid.data != null){\\r\\n      if (typeof object.grid.data.data !== \\\"undefined\\\") {\\r\\n        for (let i =0; i < object.grid.data.data.length; i++){\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"check: i:\\\",i,\\\" object.grid.data.data[i]._QUERY:\\\", object.grid.data.data[i]._QUERY)\\r\\n          if (typeof object.grid.data.data[i]._QUERY !== \\\"undefined\\\"){\\r\\n            modified = true;\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log (\\\"object.saveCurrent :\\\" + object.Body.length + \\\" \\\" + object.grid.isEditing() );\\r\\n    if (object.Body.length != 0){\\r\\n      modified = true;\\r\\n    }\\r\\n\\r\\n    if ((modified == true) || object.grid.isEditing() == true)\\r\\n    {\\r\\n      dirty = true;\\r\\n    }\\r\\n\\r\\n    if (dirty == true)\\r\\n    {\\r\\n      let dialogStruc = {\\r\\n        msg: this.saveChangesMsg,\\r\\n        title : this.pleaseConfirmMsg,\\r\\n        info: grid,\\r\\n        object : object,\\r\\n        action : this.YesNoActions,\\r\\n        callback: this.enterQueryAct_grid };\\r\\n        this.showConfirmation(dialogStruc);\\r\\n    }\\r\\n    else\\r\\n    {\\r\\n      this.enterQueryAct_grid ( grid, object);\\r\\n    }\\r\\n  }\\r\\n  public setStrAuth(user, password){\\r\\n    this.StrAuth = user + \\\":\\\" + password;\\r\\n    this.StrAuth = btoa(this.StrAuth);\\r\\n    this.StrAuth = \\\"Basic \\\" + this.StrAuth;\\r\\n\\r\\n  }\\r\\n  public isASCII(str) {\\r\\n    return /^[\\\\x00-\\\\x7F]*$/.test(str);\\r\\n  }\\r\\n  public login(object:any, user:any, password:any) {\\r\\n    if (!this.isASCII(user)){\\r\\n      this.showNotification(\\\"error\\\", \\\"rror: \\\" + \\\"Not a valid User Name\\\");\\r\\n}\\r\\n    this.paramConfig = getParamConfig();\\r\\n    this.setStrAuth(user, password);\\r\\n    //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"this.StrAuth:\\\" + this.StrAuth);\\r\\n\\r\\n\\r\\n    let Page =  \\\"\\\";\\r\\n    let success = false;\\r\\n    const md5 = new Md5();\\r\\n    let pass =  md5.appendStr(password).end();\\r\\n    user = user.toUpperCase().trim();\\r\\n    let NewVal = {\\r\\n        \\\"USERNAME\\\" : user,\\r\\n        \\\"PASSWORD\\\" : pass\\r\\n    };\\r\\n\\r\\n\\r\\n    NewVal[\\\"_QUERY\\\"] = \\\"VERIFY_ADM_USER\\\";\\r\\n    object.Body=[];\\r\\n    object.Body=[];\\r\\n    object.addToBody(NewVal);\\r\\n    \\r\\n    let paramConfig = {\\r\\n      \\\"Name\\\": \\\"USERNAME\\\",\\r\\n      \\\"Val\\\": user\\r\\n    };\\r\\n    setParamConfig(paramConfig);\\r\\n    this.sessionParams[\\\"USERNAME\\\"] = user;\\r\\n\\r\\n    this.post(object,Page,object.Body).subscribe(result => {\\r\\n      if (typeof result.data[0].data[0] !== \\\"undefined\\\"){\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"Object in login HF\\\",object.Body,user);\\r\\n        if ( result.data[0].data[0].USERNAME == user ){\\r\\n          this.USERNAME = user;\\r\\n          object.Body =[];\\r\\n\\r\\n          let paramConfig = {\\r\\n            \\\"Name\\\": \\\"USER_INFO\\\",\\r\\n            \\\"Val\\\": result.data[0].data[0]\\r\\n          };\\r\\n          setParamConfig(paramConfig);\\r\\n          this.sessionParams[\\\"USER_INFO\\\"] = result.data[0].data[0];\\r\\n          this.USER_INFO = result.data[0].data[0];\\r\\n          if (this.sessionParams.USER_INFO.MASTER_DB != \\\"\\\"){\\r\\n            this.MASTER_DB = this.sessionParams.USER_INFO.MASTER_DB;\\r\\n            this.USERNAME_DB = this.sessionParams.USER_INFO.MASTER_DB;\\r\\n            \\r\\n          }\\r\\n          success = true;\\r\\n          this.loadRules(object);\\r\\n          if (object.testEKYC){\\r\\n            object.loginCompletedHandler (null);\\r\\n          }\\r\\n          else\\r\\n            object.loginCompleted.emit(this);\\r\\n\\r\\n        }\\r\\n      }\\r\\n      if (!success)\\r\\n        this.showNotification (\\\"error\\\",\\\"error:\\\" + \\\"Wrong user or password\\\");\\r\\n\\r\\n\\r\\n\\r\\n    },\\r\\n    err => {\\r\\n      object.Body =[];\\r\\n      this.showNotification (\\\"error\\\",\\\"error:\\\" + \\\"Wrong user or password\\\");\\r\\n    });\\r\\n  }\\r\\n\\r\\n   public getUserInfo(object:any, user:any) {\\r\\n    this.paramConfig = getParamConfig();\\r\\n    let Page = \\\"\\\";\\r\\n    let success = false;\\r\\n    user = user.toUpperCase().trim();\\r\\n    user = user.trim();\\r\\n    let NewVal:any = {\\r\\n      \\\"USERNAME\\\": user\\r\\n    };\\r\\n\\r\\n\\r\\n    NewVal[\\\"_QUERY\\\"] = \\\"GET_ADM_USER_INFORMATION\\\";\\r\\n    object.Body=[];\\r\\n    object.addToBody(NewVal);\\r\\n\\r\\n    let paramConfig = {\\r\\n      \\\"Name\\\": \\\"USERNAME\\\",\\r\\n      \\\"Val\\\": user\\r\\n    };\\r\\n    setParamConfig(paramConfig);\\r\\n    this.sessionParams[\\\"USERNAME\\\"] = user;\\r\\n\\r\\n    this.post(object, Page, object.Body).subscribe(result => {\\r\\n      if (typeof result.data[0].data[0] !== \\\"undefined\\\") {\\r\\n        console.log(\\\"result:\\\", result.data[0].data[0])\\r\\n        if (result.data[0].data[0].USERNAME == user) {\\r\\n          this.USERNAME = user;\\r\\n          object.Body = [];\\r\\n\\r\\n          let paramConfig = {\\r\\n            \\\"Name\\\": \\\"USER_INFO\\\",\\r\\n            \\\"Val\\\": result.data[0].data[0]\\r\\n          };\\r\\n          setParamConfig(paramConfig);\\r\\n          this.sessionParams[\\\"USER_INFO\\\"] = result.data[0].data[0];\\r\\n          this.USER_INFO = result.data[0].data[0];\\r\\n          if ((this.sessionParams.USER_INFO.MASTER_DB != \\\"\\\") && (typeof this.sessionParams.USER_INFO.MASTER_DB !== \\\"undefined\\\")){\\r\\n            this.MASTER_DB = this.sessionParams.USER_INFO.MASTER_DB;\\r\\n          }\\r\\n\\r\\n\\r\\n\\r\\n          success = true;\\r\\n          this.loadRules(object);\\r\\n          if (object.testEKYC) {\\r\\n            object.loginCompletedHandler(null);\\r\\n          }\\r\\n          else\\r\\n            object.loginCompletedHandler(this);\\r\\n        }\\r\\n      }\\r\\n      if (!success){\\r\\n        \\r\\n        let errorMsg = user + \\\"is not defined in STAR DB\\\";\\r\\n        let dialogStruc = {\\r\\n          msg: errorMsg,\\r\\n          title: \\\"Error\\\",\\r\\n          info: null,\\r\\n          object: object,\\r\\n          action: null,\\r\\n          callback: null\\r\\n        };\\r\\n        this.showConfirmation(dialogStruc);\\r\\n       \\r\\n        object.logoff(3000);\\r\\n      }\\r\\n\\r\\n\\r\\n\\r\\n    },\\r\\n      err => {\\r\\n        object.Body = [];\\r\\n        let errorMsg = user + \\\"is not defined in STAR DB\\\";\\r\\n        let dialogStruc = {\\r\\n          msg: errorMsg,\\r\\n          title: \\\"Error\\\",\\r\\n          info: null,\\r\\n          object: object,\\r\\n          action: null,\\r\\n          callback: null\\r\\n        };\\r\\n        this.showConfirmation(dialogStruc);\\r\\n        object.logoff(3000);\\r\\n      });\\r\\n  }\\r\\n\\r\\n  public rulesPostQueryDef = {\\r\\n    rulePtrsArr:[],\\r\\n    rulesArr : [],\\r\\n    actionPtrsArr : [],\\r\\n    actionsArr : []\\r\\n  };\\r\\n  public rulesPreQueryDef = {\\r\\n    rulePtrsArr:[],\\r\\n    rulesArr : [],\\r\\n    actionPtrsArr : [],\\r\\n    actionsArr : []\\r\\n  };\\r\\n  public hostsArr = [];\\r\\n  public hostsMapArr = [];\\r\\n  /////////////////\\r\\n  public LogRule(object, ruleLog, msgResponse, status)\\r\\n  {\\r\\n    function prepareDataForDB(dataIn)\\r\\n\\t\\t{\\r\\n\\r\\n\\t\\t\\tlet dataOut = JSON.stringify(dataIn);\\r\\n\\t\\t\\tif (this.paramConfig.DEBUG_FLAG) console.log(\\\"dataIn:\\\", dataIn, \\\" dataOut:\\\", dataOut);\\r\\n\\t\\t\\tdataOut = dataOut.split(\\\"'\\\").join('\\\"');\\r\\n\\t\\t\\treturn dataOut;\\r\\n\\r\\n\\t\\t}\\r\\n\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"-----msgResponse:\\\", msgResponse, \\\"ruleLog:\\\", ruleLog);\\r\\n    let db = ruleLog.db;\\r\\n    let d = new Date();\\r\\n    let dateIso = d.toISOString();\\r\\n\\r\\n    let RULE_KEY = ruleLog.rule.RULE_KEY;\\r\\n\\r\\n    let array = RULE_KEY.split(\\\",\\\");\\r\\n    //let ruleKey = {};\\r\\n    let ruleKey =\\\"\\\";\\r\\n\\t\\tlet ruleKeyName =\\\"\\\";\\r\\n    for (let i = 0; i < array.length; i++)\\r\\n    {\\r\\n      let elem = array[i];\\r\\n      let elem_value = ruleLog.queryData[elem];\\r\\n      if (typeof elem_value !== \\\"undefined\\\")\\r\\n      {\\r\\n\\t\\t\\t\\t//ruleKey[elem] = elem_value;\\r\\n\\t\\t\\t\\tif (ruleKey != \\\"\\\")\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\truleKey = ruleKey + \\\"_\\\";\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\truleKey = ruleKey + elem_value;\\r\\n\\r\\n\\t\\t\\t\\tif (ruleKeyName != \\\"\\\")\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\truleKeyName = ruleKeyName + \\\"_\\\";\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\truleKeyName = ruleKeyName + elem;\\r\\n      }\\r\\n\\r\\n    }\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"ruleKey:\\\", ruleKey, \\\" ruleKeyName:\\\", ruleKeyName);\\r\\n\\r\\n\\r\\n\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"RULE_KEY:\\\", RULE_KEY);\\r\\n\\r\\n\\r\\n\\r\\n    let queryData = prepareDataForDB(ruleLog.queryData);\\r\\n    //let bodyToSend = prepareDataForDB(ruleLog.bodyToSend);\\r\\n    let bodyToSend = ruleLog.bodyToSend;\\r\\n    let parametersToSend = prepareDataForDB(ruleLog.parametersToSend);\\r\\n   // let ruleKeyStr = prepareDataForDB(ruleKey);\\r\\n    let msgResponseStr = prepareDataForDB(msgResponse);\\r\\n\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log (\\\"queryData:\\\" + queryData);\\r\\n\\r\\n//\\r\\n              let userName = object.starServices.sessionParams.USER_INFO.Name;\\r\\n              object.Body =[];\\r\\n              let Page =  \\\"\\\";\\r\\n              let NewVal = {\\r\\n                \\\"RULE_KEY\\\" : ruleKey ,\\r\\n                \\\"RULE_KEY_NAME\\\" : ruleKeyName ,\\r\\n                \\\"STATUS\\\" : status,\\r\\n                \\\"MODULE\\\" :  ruleLog.rule.MODULE,\\r\\n                \\\"RULE_ID\\\" : ruleLog.rule.RULE_ID ,\\r\\n                \\\"ACTION_ID\\\" : ruleLog.action.ACTION_ID,\\r\\n                \\\"SENT_DATE\\\" :ruleLog.sentDate,\\r\\n                \\\"MSG_RECEIVED\\\": queryData ,\\r\\n                \\\"PARAMETER_SENT\\\": parametersToSend,\\r\\n                \\\"BODY_SENT\\\": bodyToSend ,\\r\\n                \\\"MSG_RESPONSE\\\" : msgResponseStr,\\r\\n                \\\"LOGDATE\\\" : dateIso ,\\r\\n                \\\"LOGNAME\\\" : userName\\r\\n\\r\\n              };\\r\\n              NewVal[\\\"_QUERY\\\"] = \\\"INSERT_ADM_RULE_LOG\\\";\\r\\n\\r\\n              //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:NewVal:\\\", NewVal)\\r\\n              //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:object.Body:\\\", object.Body)\\r\\n              object.addToBody(NewVal);\\r\\n\\r\\n\\r\\n              this.post(object,Page,object.Body).subscribe(result => {\\r\\n                if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:result.data:\\\", result.data);\\r\\n                object.Body =[];\\r\\n              },\\r\\n              err => {\\r\\n                object.Body =[];\\r\\n                this.showNotification (\\\"error\\\",\\\"error:\\\" + err.message );\\r\\n              });\\r\\n\\r\\n\\r\\n\\r\\n  }\\r\\n  public performHttpPost (object, bodyToSend, parametersToSend, sendTo, queryData, rule,action, Trigger, hostDef,hostMapDef,  headerParam)\\r\\n  {\\r\\n\\r\\n    var\\tvalid = false;\\r\\n    let error = 0;\\r\\n    let msg = \\\"\\\";\\r\\n\\r\\n    let options = {\\r\\n      host: '',\\r\\n      path: '',\\r\\n      port: 80,\\r\\n      method: 'POST',\\r\\n      headers: {\\r\\n      'Content-Type': 'application/json',\\r\\n       //'Content-Type': 'text/xml; charset=utf-8',\\r\\n      \\\"authorization\\\": \\\"\\\"\\r\\n      }\\r\\n    };\\r\\n\\r\\n   // if (this.paramConfig.DEBUG_FLAG) console.log(\\\"---------------req.url:\\\",req.url);\\r\\n   // if (this.paramConfig.DEBUG_FLAG) console.log(\\\"---------------pathname:\\\",req._parsedUrl.pathname);\\r\\n   // if (this.paramConfig.DEBUG_FLAG) console.log(\\\"---------------path:\\\",req._parsedUrl.path);\\r\\n    let d = new Date();\\r\\n    let dateIso = d.toISOString();\\r\\n    if (hostDef == null)\\r\\n      hostDef = \\\"\\\";\\r\\n\\r\\n    let ruleLog = {\\r\\n      rule : rule,\\r\\n      action : action,\\r\\n      queryData : queryData,\\r\\n      bodyToSend : bodyToSend,\\r\\n      parametersToSend : parametersToSend,\\r\\n    //  \\\"db\\\": db,\\r\\n      sentDate : dateIso,\\r\\n      hostDef : hostDef\\r\\n    };\\r\\n    if (sendTo == \\\"WF\\\")\\r\\n    {\\r\\n      let url = this.BASE_URL;\\r\\n\\r\\n      options.headers.authorization = this.StrAuth;\\r\\n\\r\\n      valid = true;\\r\\n\\r\\n    }\\r\\n    else\\r\\n    {\\r\\n      if (hostDef != \\\"\\\")\\r\\n      {\\r\\n        let path = \\\"/\\\" + hostDef.PATH;\\r\\n        if (parametersToSend != \\\"\\\")\\r\\n          path = path + parametersToSend ;\\r\\n        let host = hostDef.HOST;\\r\\n        let port =  parseInt(hostDef.PORT);\\r\\n        let method = hostDef.HTTP_METHOD;\\r\\n\\r\\n        options.host = host;\\r\\n        options.port = port;\\r\\n        options.path = path;\\r\\n        options.method = method;\\r\\n       // let url = \\\"http://\\\" + host + \\\":\\\" + port  + path + parametersToSend ;\\r\\n       let url:string  = hostDef.URL ;\\r\\n//\\t\\t\\t\\t\\toptions.headers.authorization = req.headers.authorization;\\r\\n        //bodyToSend = \\\"\\\";\\r\\n\\r\\n\\r\\n        valid = true;\\r\\n      }\\r\\n      else\\r\\n      {\\r\\n        error = 100;\\r\\n        msg = \\\"undefined Host :\\\" +sendTo;\\r\\n        this.LogRule(object, ruleLog, msg , 100);\\r\\n      }\\r\\n    }\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here2:valid:\\\", valid);\\r\\n    if (valid)\\r\\n    {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"options:\\\",options);\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"------bodyToSend:\\\" + bodyToSend, \\\"  Trigger:\\\", Trigger);\\r\\n\\r\\n      let keys = Object.keys(headerParam);\\r\\n      for (let i =0; i < keys.length; i++)\\r\\n      {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log( keys[i] + \\\" \\\" + headerParam[ keys[i] ] ) ;\\r\\n        if (headerParam[ keys[i] ] != null)\\r\\n        {\\r\\n          options.headers[keys[i]] = headerParam[ keys[i] ];\\r\\n\\r\\n          //screenConfig[ keys[i] ] = componentConfig[ keys[i] ];\\r\\n        }\\r\\n      }\\r\\n\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here2:action.ACTION_CODE:\\\", action.ACTION_CODE);\\r\\n      if (action.ACTION_CODE == \\\"SEND_WAIT\\\")\\r\\n      {\\r\\n        /*\\r\\n        let sendingLib = \\\"request\\\";\\r\\n        status = 1;\\r\\n        let headers  =  {headers:options.headers};\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"headers:\\\", headers);\\r\\n        let url = \\\"http://\\\" + host + \\\":\\\" + port  + path + parametersToSend ;\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"---url:\\\", url);\\r\\n        if (method == \\\"GET\\\")\\r\\n        {\\r\\n          let res = request(method, url, headers);\\r\\n          let result = JSON.parse(res.getBody('utf8'));\\r\\n        }\\r\\n        else\\r\\n        if (method == \\\"POST\\\")\\r\\n        {\\r\\n\\r\\n          let dataForSync = { body : bodyToSend, headers:options.headers};\\r\\n          let res = request(method, url, dataForSync);\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"res:\\\", res);\\r\\n          let statusCode = res.statusCode;\\r\\n          let msgResponse =\\\"\\\";\\r\\n          if (statusCode == 200)\\r\\n          {\\r\\n            let contentType = res.headers['content-type'];\\r\\n\\r\\n            let msgResponse = res.getBody('utf8');\\r\\n            if (this.paramConfig.DEBUG_FLAG) console.log(\\\"statusCode:\\\", statusCode,\\\" headers:\\\", headers,  \\\" msgResponse:\\\", msgResponse);\\r\\n            let n = contentType.search(\\\"json\\\");\\r\\n            if (n != -1)\\r\\n              let result = JSON.stringify(JSON.parse(msgResponse));\\r\\n            else\\r\\n              let result = msgResponse;\\r\\n            if (this.paramConfig.DEBUG_FLAG) console.log(\\\"result:\\\" +  result);\\r\\n          }\\r\\n          else\\r\\n          {\\r\\n            error = statusCode;\\r\\n            let msgResponse = res.body.toString();\\r\\n            msg = msgResponse;\\r\\n          }\\r\\n\\r\\n        }\\r\\n        if (error == 0)\\r\\n        {\\r\\n          if ( (hostMapDef != null) &&  (hostMapDef.XSLT_RECEIVE != null) && (hostMapDef.XSLT_RECEIVE != \\\"\\\") )\\r\\n          {\\r\\n            {\\r\\n              //result = xsltmap.mapDataOut(result, hostMapDef.XSLT_RECEIVE);\\r\\n              //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"result:\\\", result);\\r\\n\\r\\n            }\\r\\n          }\\r\\n\\r\\n          let status = extractStatus (ruleLog, result);\\r\\n          LogRule(ruleLog, result, status );\\r\\n          error = status;\\r\\n          if (status != 0)\\r\\n            msg = result;\\r\\n        }\\r\\n        */\\r\\n\\r\\n\\r\\n\\r\\n      }\\r\\n      else\\r\\n      {\\r\\n        //async\\r\\n        function extractStatus (ruleLog, msgResponse)\\r\\n        {\\r\\n          let successMsg = ruleLog.hostDef.SUCCESS_MSG;\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"-------msgResponse:\\\" ,  msgResponse, successMsg);\\r\\n          let array = successMsg.split(\\\":\\\");\\r\\n          let field = array[0];\\r\\n          let value = array[1];\\r\\n\\r\\n          let msgResponseArr = msgResponse;\\r\\n          msgResponse = JSON.stringify(msgResponseArr);\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log( \\\"field:\\\", field, \\\" value:\\\", value, \\\" msgResponseArr:\\\", msgResponseArr);\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"-------msgResponseArr[field]:\\\" ,  msgResponseArr[field], value);\\r\\n          let status = 1;\\r\\n          if (msgResponseArr[field] == value)\\r\\n            status = 0;\\r\\n          return status;\\r\\n        }\\r\\n\\r\\n        function \\textractResponseData(msgResponse, responseDataID)\\r\\n        {\\r\\n          function getKey(Elm, elmVal)\\r\\n          {\\r\\n               let keys = Object.keys(Elm);\\r\\n               let k =0;\\r\\n               let elmObj;\\r\\n                  while ( k < keys.length)\\r\\n                    {\\r\\n                      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"[keys[k]:\\\", keys[k]);\\r\\n                if (keys[k] == elmVal)\\r\\n                {\\r\\n                  let elmName = keys[k];\\r\\n                  elmObj = Elm[elmName];\\r\\n                  if (this.paramConfig.DEBUG_FLAG) console.log(\\\"elmObj:\\\", elmObj);\\r\\n                  break;\\r\\n                }\\r\\n                k++;\\r\\n                    }\\r\\n              return elmObj;\\r\\n          }\\r\\n\\r\\n\\r\\n            let array = responseDataID.split(\\\".\\\");\\r\\n          for (let i =0; i < array.length; i++)\\r\\n          {\\r\\n            let returnKey = getKey(msgResponse, array[i])\\r\\n            if (this.paramConfig.DEBUG_FLAG) console.log(\\\"returnKey.length:\\\", returnKey.length);\\r\\n            if (returnKey.length == 1)\\r\\n              msgResponse = returnKey[0];\\r\\n            else\\r\\n              msgResponse = returnKey;\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log(\\\"msgResponse:\\\", msgResponse);\\r\\n\\r\\n          }\\r\\n          return msgResponse;\\r\\n\\r\\n\\r\\n\\r\\n        }\\r\\n\\r\\n        /*\\r\\n        function  handleResponseEnd(ruleLog, msgResponse){\\r\\n          let status = extractStatus (ruleLog, msgResponse);\\r\\n          this.LogRule(ruleLog, msgResponse, status);\\r\\n\\r\\n\\r\\n          //\\t.RULE_ID + \\\",\\\" +  action.ACTION_ID + \\\",\\\" + users.getUserName() + \\\",\\\"  + dateIso;\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"-------handleResponse:status:\\\" ,  status);\\r\\n        }\\r\\n        */\\r\\n        function getBody(msgResponse){\\r\\n          //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"msgResponse:\\\", msgResponse)\\r\\n          //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"msgResponse:body\\\", msgResponse.body)\\r\\n          return msgResponse.body\\r\\n        }\\r\\n  /*\\r\\n        let handleResponse = function(response,  ruleLog){\\r\\n          let msgResponse = ''\\r\\n          response.on('data', function (chunk) {\\r\\n          msgResponse += chunk;\\r\\n          });\\r\\n          response.on('end', function () {\\r\\n           handleResponseEnd(ruleLog, msgResponse);\\r\\n           });\\r\\n\\r\\n        }\\r\\n        */\\r\\n\\r\\n        let headers = {\\r\\n          headers: new HttpHeaders()\\r\\n            .set('Authorization', this.StrAuth)\\r\\n            .set('Content-Type', \\\"application/json\\\" )\\r\\n        }\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here2:headers:\\\", headers);\\r\\n        if (bodyToSend == \\\"\\\")\\r\\n          bodyToSend = null;\\r\\n        let bodyToSendKSON = JSON.parse(bodyToSend);\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here2:bodyToSendKSON:\\\", bodyToSendKSON);\\r\\n\\r\\n        let url:string = hostDef.URL + parametersToSend ;\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"---url:\\\", url);\\r\\n\\r\\n\\r\\n        const request = new HttpRequest(\\r\\n          options.method, url, bodyToSendKSON , headers);\\r\\n\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"------------request:\\\", request, \\\" bodyToSendKSON:\\\", bodyToSendKSON)\\r\\n        let msgBodyAll ;\\r\\n        this.syncFlag = 1;\\r\\n//https://developpaper.com/getting-started-with-angular-http-client/\\r\\n        this.http.request(request)\\r\\n            .subscribe(\\r\\n                (response) => {\\r\\n\\r\\n                      if (this.paramConfig.DEBUG_FLAG) console.log(\\\" call successful value returned in body\\\",\\r\\n                      response);\\r\\n                      let msgBody = getBody(response)\\r\\n                      if (typeof msgBody !== \\\"undefined\\\"){\\r\\n                        msgBodyAll =  msgBody;\\r\\n                        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"msgBodyAll:\\\", msgBodyAll);\\r\\n                      }\\r\\n\\r\\n                  },\\r\\n                  error => {\\r\\n                      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"PUT call in error:\\\", error);\\r\\n                      this.syncFlag = 0;\\r\\n                      this.showNotification (\\\"error\\\",\\\"error calling: \\\" + url + \\\":\\\" + error.error.error );\\r\\n                  },\\r\\n                  () => {\\r\\n                      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"The  observable is now completed:msgBodyAll:\\\", msgBodyAll);\\r\\n                      if (typeof msgBodyAll !== \\\"undefined\\\"){\\r\\n                        let status = extractStatus (ruleLog, msgBodyAll);\\r\\n                        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"-------uleLog.rule:\\\" ,  ruleLog.rule);\\r\\n\\r\\n                        if (Trigger == \\\"POST_QUERY\\\"){\\r\\n                          let responseDataID = ruleLog.rule.RESPONSE_DATA_ID;\\r\\n                          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"TABS:responseDataID:\\\" ,  responseDataID);\\r\\n\\r\\n                          let responseData = extractResponseData ( msgBodyAll,responseDataID);\\r\\n                          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"TABS:responseData:\\\" ,  responseData);\\r\\n                          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"TABS:ruleLog.rule.RESPONSE_DATA_NAME:\\\" ,  ruleLog.rule.RESPONSE_DATA_NAME);\\r\\n                          if (typeof responseData !== \\\"undefined\\\"){\\r\\n                            object[ruleLog.rule.RESPONSE_DATA_NAME] = responseData;\\r\\n                            if (this.paramConfig.DEBUG_FLAG) console.log(\\\"TABS:object.tabsAPIResponse:\\\", object.tabsAPIResponse)\\r\\n\\r\\n                          }\\r\\n                        }\\r\\n                        this.syncFlag = 0;\\r\\n                        this.LogRule(object, ruleLog, msgBodyAll, status);\\r\\n                      }\\r\\n\\r\\n                  }\\r\\n\\r\\n            );\\r\\n          /*\\r\\n        let reqNew = this.http.request(options, function(response){ handleResponse(response,  ruleLog); });\\r\\n        reqNew.on('error', function(err) {\\r\\n          // Handle error\\r\\n          error = err;\\r\\n          msg = \\\"Error sending to Host :\\\" +sendTo ;\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log( msg + \\\" Error:\\\" + err );\\r\\n          this.LogRule(ruleLog, msg + \\\" Error:\\\" + err, 400 );\\r\\n        });\\r\\n\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here1\\\");\\r\\n        reqNew.write(bodyToSend);\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here2\\\");\\r\\n        reqNew.end();\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"here3\\\");\\r\\n        */\\r\\n      }\\r\\n\\r\\n    }\\r\\n    let statusRec ={\\r\\n      status : error,\\r\\n      msg : msg\\r\\n    };\\r\\n\\r\\n    /*let status = 1;\\r\\n    if (!valid){\\r\\n      statusRec.status = 1;\\r\\n      statusRec.msg =\\r\\n    }*/\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"valid:\\\", valid, \\\" status:\\\", statusRec);\\r\\n\\r\\n    return (statusRec);\\r\\n\\r\\n  }\\r\\n  public sendToServer(object, actionsArr, queryData, rule,action, Trigger,  hostsArr, hostsMapArr){\\r\\n    function getElmValue(paramData, queryData)\\r\\n\\t\\t{\\r\\n\\t\\tfunction getORDER_FIELDSData(param,orderFields)\\r\\n\\t\\t{\\r\\n\\t\\t      let val = \\\"\\\";\\r\\n\\t\\t      if (orderFields != \\\"\\\")\\r\\n\\t\\t      {\\r\\n\\t\\t        let array = param.split(\\\".\\\");\\r\\n\\t\\t        let fieldName = array[1];\\r\\n\\t\\t        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"fieldName:\\\",fieldName, \\\" orderFields:\\\", orderFields);\\r\\n            if (typeof orderFields !== \\\"undefined\\\"){\\r\\n              orderFields = JSON.parse(orderFields);\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log(\\\"orderFields:\\\",orderFields);\\r\\n              let fieldsData = orderFields.data;\\r\\n              val = fieldsData[fieldName];\\r\\n              }\\r\\n\\t\\t      }\\r\\n\\t\\t\\treturn val;\\r\\n\\t\\t}\\r\\n\\t\\t\\tlet val = paramData;\\r\\n      var n =0;\\r\\n\\r\\n\\t\\t\\tn = paramData.search(\\\":\\\");\\r\\n\\t\\t\\tif (n != -1)\\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\tlet array = paramData.split(\\\":\\\");\\r\\n\\t\\t\\t\\tfor (let i = 0; i < array.length; i++)\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tif (i != 0)\\r\\n\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\tn = array[i].search(\\\" \\\");\\r\\n\\t\\t\\t\\t\\t\\tif (this.paramConfig.DEBUG_FLAG) console.log( \\\"n:\\\" , n , \\\"array[i]:\\\", array[i]);\\r\\n\\t\\t\\t\\t\\t\\tif (n == -1)\\r\\n\\t\\t\\t\\t\\t\\t\\tn = array[i].length;\\r\\n\\t\\t\\t\\t\\t\\tif (n != -1)\\r\\n\\t\\t\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\t\\tlet param = array[i].slice(0, n);\\r\\n\\t\\t\\t\\t\\t\\t\\tparam = param.trim();\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log(\\\"param:\\\"+param);\\r\\n\\r\\n              let nincludes = param.includes(\\\".\\\");\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log( \\\"nincludes:\\\" , nincludes);\\r\\n              if (nincludes == true){\\r\\n                val = getORDER_FIELDSData(param,queryData.ORDER_FIELDS);\\r\\n              }\\r\\n              else\\r\\n\\t\\t\\t\\t\\t\\t\\tval = queryData[param];\\r\\n\\t\\t\\t\\t\\t\\t\\tif (typeof val == \\\"string\\\")\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tval = val.trim();\\r\\n\\t\\t\\t\\t\\t\\t\\tif (this.paramConfig.DEBUG_FLAG) console.log(\\\"param:\\\" , param, \\\" val:\\\", val );\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tif (typeof val == \\\"string\\\")\\r\\n\\t\\t\\t\\tval = val.split(\\\"'\\\").join(\\\"\\\");\\r\\n\\t\\t\\treturn val;\\r\\n\\t\\t}\\r\\n    function getHost(sendTo,hostsArr)\\r\\n\\t\\t{\\r\\n\\t\\t\\tlet i =0;\\r\\n\\t\\t\\twhile ( i < hostsArr.length)\\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\tif (this.paramConfig.DEBUG_FLAG) console.log(\\\"-----------hostsArr[i].HOST_ID :\\\", hostsArr[i].HOST_ID  , \\\" sendTo:\\\", sendTo);\\r\\n\\t\\t\\t\\tif (hostsArr[i].HOST_ID == sendTo)\\r\\n\\t\\t\\t\\t\\treturn hostsArr[i];\\r\\n\\t\\t\\t\\ti++;\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\treturn null;\\r\\n\\r\\n\\t\\t}\\r\\n\\t\\tfunction getHostMap(hostDef, mapID,hostsMapArr)\\r\\n\\t\\t{\\r\\n\\t\\t\\tlet i =0;\\r\\n\\t\\t\\tif (this.paramConfig.DEBUG_FLAG) console.log(\\\"-----------mapID:\\\", mapID  , \\\" hostDef.MAP_ID:\\\", hostDef.MAP_ID);\\r\\n\\t\\t\\tif ( (mapID != null) && (mapID != \\\"\\\") )\\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\twhile ( i < hostsMapArr.length)\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tif ( ( hostsMapArr[i].HOST_ID == hostDef.HOST_ID) && (mapID == hostsMapArr[i].MAP_ID) )\\r\\n\\t\\t\\t\\t\\t\\treturn hostsMapArr[i];\\r\\n\\t\\t\\t\\t\\ti++;\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\treturn null;\\r\\n\\r\\n\\t\\t}\\r\\n      ////////////////////\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"****************actionsArr:\\\", actionsArr);\\r\\n      let statusRec;\\r\\n      let sendTo = actionsArr.SEND_TO;\\r\\n      let qryParam = {};\\r\\n      let headerParam ={};\\r\\n      let bodyToSendArr = [];\\r\\n      let bodyToSend = \\\"\\\";\\r\\n      let parametersToSend = \\\"\\\";\\r\\n      let hostDef = getHost(sendTo,hostsArr);\\r\\n      let hostMapDef = getHostMap(hostDef, action.MAP_ID,hostsMapArr);\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"hostMapDef:\\\", hostMapDef);\\r\\n\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"****hostDef.HEADER:\\\", hostDef.HEADER);\\r\\n\\r\\n      if ( (hostDef.HEADER != null) && (hostDef.HEADER != \\\"\\\") )\\r\\n      {\\r\\n        let array = hostDef.HEADER.split(\\\"\\\\n\\\");\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"array:\\\", array, \\\" array.length:\\\", array.length);\\r\\n\\r\\n        for (let i = 0; i < array.length; i++)\\r\\n        {\\r\\n          let elem = array[i];\\r\\n          let arrayParam = elem.split(\\\":\\\");\\r\\n          let param = arrayParam[0];\\r\\n          param = param.trim();\\r\\n          let paramData = arrayParam[1];\\r\\n          paramData = paramData.trim();\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"paramData:\\\", paramData);\\r\\n          paramData = getElmValue (paramData, queryData);\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"-----------------------------param:\\\", param, \\\" paramData:\\\", paramData);\\r\\n          headerParam[param] = paramData;\\r\\n        }\\r\\n      }\\r\\n\\r\\n\\r\\n\\r\\n      if ( (actionsArr.BODY_DATA != null) && (actionsArr.BODY_DATA != \\\"\\\") )\\r\\n      {\\r\\n        let bodyData = actionsArr.BODY_DATA;\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"bodyData:\\\", bodyData);\\r\\n        let array = bodyData.split(\\\",\\\");\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"array:\\\", array, \\\" array.length:\\\", array.length);\\r\\n\\r\\n        for (let i = 0; i < array.length; i++)\\r\\n        {\\r\\n          let elem = array[i];\\r\\n          let arrayParam = elem.split(\\\"=\\\");\\r\\n          let param = arrayParam[0];\\r\\n          param = param.trim();\\r\\n          let paramData = arrayParam[1];\\r\\n          paramData = paramData.trim();\\r\\n          //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"paramData:\\\", paramData);\\r\\n          paramData = getElmValue (paramData, queryData);\\r\\n          //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"-----------------------------param:\\\", param, \\\" paramData:\\\", paramData);\\r\\n          qryParam[param] = paramData;\\r\\n        }\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"qryParam:here\\\");\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"qryParam:\\\", qryParam , \\\" qryParam.length :\\\", Object.keys(qryParam).length);\\r\\n        bodyToSendArr.push(qryParam);\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"---hostDef:\\\", hostDef);//fuad\\r\\n\\r\\n        if (bodyToSendArr.length != 0)\\r\\n        {\\r\\n          /*if ( (hostMapDef != null) &&  (hostMapDef.XSLT_SEND != null) && (hostMapDef.XSLT_SEND != \\\"\\\") )\\r\\n          {\\r\\n            {\\r\\n              bodyToSend = xsltmap.mapData(bodyToSendArr, hostMapDef.XSLT_SEND);\\r\\n\\r\\n            }\\r\\n          }\\r\\n          else\\r\\n          {*/\\r\\n            bodyToSend = JSON.stringify(bodyToSendArr)\\r\\n          //}\\r\\n        }\\r\\n      /*\\r\\n      let hexout = hexdump(bodyToSend, 16) ;\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"hexout:\\\",hexout);\\r\\n      */\\r\\n      }\\r\\n\\r\\n      if ( (actionsArr.PARAMETER_DATA != null) && (actionsArr.PARAMETER_DATA != \\\"\\\") )\\r\\n      {\\r\\n        let parameterData = actionsArr.PARAMETER_DATA;\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"parameterData:\\\", parameterData);\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"parameterData.length:\\\",parameterData.length);\\r\\n\\r\\n\\r\\n        let array = parameterData.split(\\\",\\\");\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"array:\\\", array, \\\" array.length:\\\", array.length);\\r\\n        for (let i = 0; i < array.length; i++)\\r\\n        {\\r\\n          let elem = array[i];\\r\\n          let arrayParam = elem.split(\\\"=\\\");\\r\\n          let param = arrayParam[0];\\r\\n          param = param.trim();\\r\\n          let paramData = arrayParam[1];\\r\\n          paramData = paramData.trim();\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"paramData:\\\", paramData);\\r\\n          paramData = getElmValue (paramData, queryData);\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"-----------------------------param:\\\", param, \\\" paramData:\\\", paramData);\\r\\n          if (parametersToSend == \\\"\\\")\\r\\n            parametersToSend = \\\"?\\\" + param + \\\"=\\\" + paramData;\\r\\n          else\\r\\n            parametersToSend = parametersToSend + \\\"&\\\" + param + \\\"=\\\" + paramData;\\r\\n        }\\r\\n      }\\r\\n\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"bodyToSend:\\\", bodyToSend);\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"parametersToSend:\\\", parametersToSend);\\r\\n\\r\\n      statusRec = this.performHttpPost(object, bodyToSend, parametersToSend, sendTo, queryData, rule,action, Trigger, hostDef,hostMapDef,  headerParam);\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"post performHttpPost: status:\\\", statusRec);\\r\\n      return statusRec;\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n  }\\r\\n  public  performAction( object, qry, ptr, queryData, rule, rulesDef, Trigger, hostsArr, hostsMapArr)\\r\\n  {\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"---performAction:rulesDef:\\\",rulesDef);\\r\\n      let status = 0;\\r\\n      let statusRec ={\\r\\n        status : 0,\\r\\n        msg : \\\"\\\"\\r\\n      };\\r\\n\\r\\n      let actionPtr = rulesDef.actionPtrsArr[qry];\\r\\n      if (typeof actionPtr !== \\\"undefined\\\")\\r\\n      {\\r\\n\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"ptr:\\\", ptr);\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"actionPtr:\\\", actionPtr);\\r\\n        let i=ptr;\\r\\n        let ptr2 =\\\"\\\";\\r\\n\\r\\n        let ptr1 = actionPtr[i];\\r\\n\\r\\n        if (typeof actionPtr[i+1] !== \\\"undefined\\\")\\r\\n          ptr2 = actionPtr[i+1];\\r\\n        else\\r\\n          ptr2 = rulesDef.actionsArr.length\\r\\n\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"ptr1:\\\",ptr1, \\\" ptr2:\\\", ptr2);\\r\\n        let j = ptr1;\\r\\n        let ruleID = rulesDef.actionsArr[j].RULE_ID;\\r\\n        while ( ( j < ptr2) && (status == 0) )\\r\\n        {\\r\\n          if (ruleID != rulesDef.actionsArr[j].RULE_ID)\\r\\n          {\\r\\n            break;\\r\\n          }\\r\\n          //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"rulesDef.actionsArr:\\\",rulesDef.actionsArr[j]);\\r\\n          if ( ( rulesDef.actionsArr[j].ACTION_CODE == \\\"SEND\\\" ) || ( rulesDef.actionsArr[j].ACTION_CODE == \\\"SEND_WAIT\\\" ) )\\r\\n          {\\r\\n            statusRec = this.sendToServer( object, rulesDef.actionsArr[j], queryData, rule,rulesDef.actionsArr[j], Trigger, hostsArr, hostsMapArr);\\r\\n            status = statusRec.status;\\r\\n          }\\r\\n          j++;\\r\\n        }\\r\\n      }\\r\\n      return statusRec;\\r\\n\\r\\n  }\\r\\n\\r\\n  public checkRulesByTrigger(object, rulesDef, queryData, Trigger, routine_name, hostsArr, hostsMapArr) {\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"checkRulesByTrigger:rulesDef:\\\", rulesDef, \\\" queryData:\\\", queryData);\\r\\n    let statusRec;\\r\\n    function getFieldData(rule, queryData)\\r\\n                    {\\r\\n                      let fieldData = \\\"\\\";\\r\\n                      let array = rule.FIELD.split (\\\".\\\");\\r\\n                      console.log(\\\"array:\\\",array)\\r\\n                      if (array.length > 1){\\r\\n                        let orderFields = queryData[\\\"ORDER_FIELDS\\\"];\\r\\n                        //console.log(\\\"orderFields:\\\",orderFields)\\r\\n                        if (typeof orderFields !== \\\"undefined\\\"){\\r\\n                          if (orderFields != \\\"\\\") {\\r\\n                            let fieldsData = JSON.parse(orderFields);\\r\\n                            //console.log(\\\"fieldsData:\\\",fieldsData)\\r\\n                            let keys = Object.keys(fieldsData);\\r\\n                            console.log(\\\"keys:\\\",keys)\\r\\n                            for (let j =0; j< keys.length;j++){\\r\\n                              console.log(\\\"addOrderFields key:\\\", keys[j] );\\r\\n                              if (keys[j] == array[0]){\\r\\n                                let objData = fieldsData[keys[j]];\\r\\n                                //console.log(\\\"objData:\\\", objData );\\r\\n                                if (typeof (objData.length) == \\\"undefined\\\")  // it is a form (object)\\r\\n                                 fieldData = objData[array[1]];\\r\\n                                else { // it is a grid (array)\\r\\n                                  if (typeof (objData[0]) != \\\"undefined\\\") \\r\\n                                    fieldData = objData[0][array[1]];\\r\\n                                }\\r\\n                              \\r\\n                                break;\\r\\n                              }\\r\\n                            }\\r\\n                          }\\r\\n                        }\\r\\n                      }\\r\\n                      else\\r\\n                      {\\r\\n                        fieldData = queryData[rule.FIELD] ;\\r\\n                      }\\r\\n                      return fieldData;\\r\\n                    }\\r\\n                    function checkRule(rule, queryData)\\r\\n    {\\r\\n      let ruleMatch = false;\\r\\n      //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"------rule:\\\",rule, \\\" queryData:\\\", queryData);\\r\\n      //let fieldData = queryData[rule.FIELD];\\r\\n      let fieldData = getFieldData(rule, queryData);\\r\\n\\r\\n      switch(rule.OPERATION) {\\r\\n        case \\\"=\\\":\\r\\n          if (fieldData == rule.FIELD_VALUE)\\r\\n          {\\r\\n          ruleMatch = true;\\r\\n          }\\r\\n        break;\\r\\n        case \\\"<\\\":\\r\\n          if (fieldData < rule.FIELD_VALUE)\\r\\n          {\\r\\n          ruleMatch = true;\\r\\n          }\\r\\n        break;\\r\\n        case \\\"<=\\\":\\r\\n          if (fieldData <= rule.FIELD_VALUE)\\r\\n          {\\r\\n          ruleMatch = true;\\r\\n          }\\r\\n        break;\\r\\n        case \\\">\\\":\\r\\n          if (fieldData > rule.FIELD_VALUE)\\r\\n          {\\r\\n          ruleMatch = true;\\r\\n          }\\r\\n        break;\\r\\n        case \\\">=\\\":\\r\\n          if (fieldData >= rule.FIELD_VALUE)\\r\\n          {\\r\\n          ruleMatch = true;\\r\\n          }\\r\\n        break;\\r\\n        case \\\"<>\\\":\\r\\n          if (fieldData != rule.FIELD_VALUE)\\r\\n          {\\r\\n          ruleMatch = true;\\r\\n          }\\r\\n        break;\\r\\n        case \\\"INSTR\\\":\\r\\n          if (rule.FIELD_VALUE.search(fieldData) != -1 )\\r\\n          {\\r\\n          ruleMatch = true;\\r\\n          }\\r\\n        break;\\r\\n        default:\\r\\n        ruleMatch = false;\\r\\n      }\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test3:ruleMatch:\\\", ruleMatch, \\\" fieldData:\\\", fieldData, \\\" OPERATION:\\\", rule.OPERATION,  \\\" FIELD_VALUE:\\\", rule.FIELD_VALUE);\\r\\n      return ruleMatch;\\r\\n\\r\\n    }\\r\\n\\r\\n    let status = 0;\\r\\n    statusRec ={\\r\\n      status : 0,\\r\\n      msg : \\\"\\\"\\r\\n    };\\r\\n\\r\\n    let qry = queryData._QUERY;\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"-------- _QUERY:\\\", queryData._QUERY, \\\" rulesDef.rulePtrsArr:\\\", rulesDef.rulePtrsArr);\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"checking rulesDef.rulePtrsArr:\\\",rulesDef.rulePtrsArr);\\r\\n    let rulePtr = rulesDef.rulePtrsArr[qry];\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"rulePtr:\\\",rulePtr);\\r\\n\\r\\n    if (typeof rulePtr !== \\\"undefined\\\")\\r\\n    {\\r\\n      //let actionPtr = rulesDef.rulePtrsArr[qry];\\r\\n      //if (typeof actionPtr !== \\\"undefined\\\")\\r\\n      {\\r\\n        let result = false;\\r\\n        let i=0;\\r\\n\\r\\n        //while ( (i<rulePtr.length) && (status == 0) )\\r\\n          {\\r\\n              var ptr1 = rulePtr[i];\\r\\n              var ptr2 = rulePtr[rulePtr.length -1];\\r\\n              // if (typeof rulePtr[i+1] !== \\\"undefined\\\")\\r\\n              //     var ptr2 = rulePtr[i+1];\\r\\n              // else\\r\\n              //     //var ptr2 = rulesDef.rulesArr.length\\r\\n              //     var ptr2 = ptr1+1\\r\\n\\r\\n              //console.log(\\\"ptr1:\\\",ptr1, \\\" ptr2:\\\", ptr2);\\r\\n              var j = ptr1;\\r\\n              while ( j <= ptr2)\\r\\n              {\\r\\n                  //console.log(\\\"--------------------rulesDef.rulesArr:\\\", rulesDef.rulesArr[j].RULE_ID, \\\" item:\\\", rulesDef.rulesArr[j].ITEM);\\r\\n                  var ruleMatch = checkRule(rulesDef.rulesArr[j], queryData);\\r\\n                  if (ruleMatch == false)\\r\\n                      break;\\r\\n                  j++;\\r\\n              }\\r\\n              console.log(\\\"checkRulesByTrigger:Conditions ruleMatch:\\\", ruleMatch, \\\" for rule:\\\", rulesDef.rulesArr[ptr1].RULE_ID);\\r\\n              if (ruleMatch == true)\\r\\n              {\\r\\n                  //statusRec = performAction(db,req, qry, i, queryData, rulesDef.rulesArr[ptr1],rulesDef, Trigger );\\r\\n                  statusRec = this.performAction(  object, qry, i, queryData, rulesDef.rulesArr[ptr1],rulesDef, Trigger ,hostsArr, hostsMapArr);\\r\\n                  status = statusRec.status;\\r\\n\\r\\n              }\\r\\n\\r\\n              //if (ruleMatch == false)\\r\\n              //  break;\\r\\n              i++;\\r\\n          }\\r\\n      }\\r\\n\\r\\n\\r\\n    }\\r\\n    return statusRec;\\r\\n  }\\r\\n\\r\\n    public checkRules(object,rulesDef, actualResult,Trigger){\\r\\n    if(this.paramConfig.isCheckRules == false)\\r\\n      return;\\r\\n\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"checkRules:\\\", Trigger, \\\" routine_name:\\\", this.routine_name, \\\" actualResult:\\\", actualResult)\\r\\n\\r\\n    if (Trigger == \\\"POST_QUERY\\\")\\r\\n    {\\r\\n      if  (typeof actualResult.data[0] !== \\\"undefined\\\"){\\r\\n        let transData = actualResult.data[0].data;\\r\\n        for (let i=0;i < transData.length; i++){\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"checkRules:transData[i]:\\\", transData[i],i);\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"checkRules:actualResult.data[0].query:\\\", actualResult.data[0].query)\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"checkRules:actualResult.data[0] HF please\\\", actualResult.data[0].data);\\r\\n          let queryData = transData[i];\\r\\n          queryData[\\\"_QUERY\\\"] = actualResult.data[0].query;\\r\\n          //       if (this.paramConfig.DEBUG_FLAG) console.log(\\\"queryData:\\\", queryData)\\r\\n          this.checkRulesByTrigger(object, rulesDef, queryData, Trigger, this.routine_name, this.hostsArr, this.hostsMapArr);\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n    else   if (Trigger == \\\"PRE_QUERY\\\")\\r\\n    {\\r\\n\\r\\n      if  (typeof actualResult !== \\\"undefined\\\"){\\r\\n        for (let i=0;i < actualResult.length; i++){\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"actualResult[i]:\\\", actualResult[i])\\r\\n          let queryData = actualResult[i];\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"queryData:\\\", queryData)\\r\\n          this.checkRulesByTrigger(object, rulesDef, queryData, Trigger, this.routine_name, this.hostsArr, this.hostsMapArr);\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"checkRules:Done\\\", Trigger, \\\" routine_name:\\\", this.routine_name, \\\" actualResult:\\\", actualResult);\\r\\n    return Trigger;\\r\\n\\r\\n  }\\r\\n  //////////////\\r\\npublic storeActionsPtrs(actions, rulesDef)\\r\\n{\\r\\n  let currentQUERY_DEF = \\\"\\\";\\r\\n  let currentRULE_ID = \\\"\\\";\\r\\n  let actionPtrs =[];\\r\\n\\r\\n  for (let i=0; i<actions.length; i++)\\r\\n  {\\r\\n    if ( ( currentQUERY_DEF != actions[i].QUERY_DEF ) && ( currentRULE_ID != actions[i].RULE_ID ) )\\r\\n    {\\r\\n      if ( i == 0)\\r\\n        actionPtrs.push(i);\\r\\n      if (currentQUERY_DEF != \\\"\\\")\\r\\n      {\\r\\n        rulesDef.actionPtrsArr[currentQUERY_DEF] = actionPtrs;\\r\\n        actionPtrs = [];\\r\\n        actionPtrs.push(i);\\r\\n      }\\r\\n\\r\\n      currentQUERY_DEF = actions[i].QUERY_DEF ;\\r\\n      currentRULE_ID = actions[i].RULE_ID ;\\r\\n      //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"rulePtrs1:\\\",rulePtrs);\\r\\n\\r\\n    }\\r\\n    else if ( ( currentQUERY_DEF == actions[i].QUERY_DEF ) && ( currentRULE_ID != actions[i].RULE_ID ) )\\r\\n    {\\r\\n      currentRULE_ID = actions[i].RULE_ID ;\\r\\n      actionPtrs.push(i);\\r\\n\\r\\n    }\\r\\n    \\r\\n    \\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"actionPtrs2:\\\",actionPtrs);\\r\\n  }\\r\\n  //actionPtrs.push(i);\\r\\n  rulesDef.actionPtrsArr[currentQUERY_DEF] = actionPtrs;\\r\\n  if (this.paramConfig.DEBUG_FLAG) console.log(\\\"rulesDef.actionPtrsArr:\\\",rulesDef.actionPtrsArr);\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n    public storeRulesPtrs(rules, rulesDef)\\r\\n    {\\r\\n      let currentQUERY_DEF = \\\"\\\";\\r\\n      let currentRULE_ID = \\\"\\\";\\r\\n      let rulePtrs =[];\\r\\n\\r\\n      for (let i=0; i<rules.length; i++)\\r\\n      {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(rules[i].QUERY_DEF + \\\" : \\\" + rules[i].RULE_ID + \\\"          \\\" + currentQUERY_DEF + \\\" : \\\" + currentRULE_ID);\\r\\n        if ( ( currentQUERY_DEF != rules[i].QUERY_DEF ) && ( currentRULE_ID != rules[i].RULE_ID ) )\\r\\n        {\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\" not equal\\\");\\r\\n          if ( i == 0)\\r\\n            rulePtrs.push(i);\\r\\n          if (currentQUERY_DEF != \\\"\\\")\\r\\n          {\\r\\n            if (this.paramConfig.DEBUG_FLAG) console.log(\\\"--storing rulePtrs2:\\\",rulePtrs);\\r\\n            rulesDef.rulePtrsArr[currentQUERY_DEF] = rulePtrs;\\r\\n            rulePtrs = [];\\r\\n            rulePtrs.push(i);\\r\\n          }\\r\\n\\r\\n          currentQUERY_DEF = rules[i].QUERY_DEF ;\\r\\n          currentRULE_ID = rules[i].RULE_ID ;\\r\\n          //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"rulePtrs1:\\\",rulePtrs);\\r\\n\\r\\n        }\\r\\n        else if ( ( currentQUERY_DEF == rules[i].QUERY_DEF ) && ( currentRULE_ID != rules[i].RULE_ID ) )\\r\\n        {\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\" not equal2\\\");\\r\\n          rulePtrs.push(i);\\r\\n          currentRULE_ID = rules[i].RULE_ID ;\\r\\n          if (this.paramConfig.DEBUG_FLAG) console.log(\\\"rulePtrs2:\\\",rulePtrs);\\r\\n        }\\r\\n        else if ( ( currentQUERY_DEF == rules[i].QUERY_DEF ) && ( currentRULE_ID == rules[i].RULE_ID ) )\\r\\n          {\\r\\n            //console.log(\\\" equal3\\\");\\r\\n            rulePtrs.push(i);\\r\\n            currentRULE_ID = rules[i].RULE_ID ;\\r\\n            //console.log(\\\"rulePtrs3:\\\",rulePtrs);\\r\\n          }\\r\\n\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\"rulePtrs2:\\\",rulePtrs);\\r\\n      }\\r\\n      //rulePtrs.push(i);\\r\\n      rulesDef.rulePtrsArr[currentQUERY_DEF] = rulePtrs;\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test3:rulesDef.rulePtrsArr:\\\",rulesDef.rulePtrsArr);\\r\\n    }\\r\\n\\r\\n//////////////\\r\\n  public loadRules(object){\\r\\n\\r\\n    object.Body =[];\\r\\n    let Page =  \\\"\\\";\\r\\n    let NewVal = {};\\r\\n    NewVal[\\\"_QUERY\\\"] = \\\"GET_ADM_RULE_DEF_RULE_ITEM\\\";\\r\\n    NewVal[\\\"RULE_TRIGGER\\\"] = \\\"POST_QUERY\\\";\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:NewVal:\\\", NewVal)\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:object.Body:\\\", object.Body)\\r\\n    object.addToBody(NewVal);\\r\\n\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:object.Body:\\\", object.Body)\\r\\n    NewVal = {};\\r\\n    NewVal[\\\"_QUERY\\\"] = \\\"GET_ADM_RULE_DEF_RULE_ACTION\\\";\\r\\n    NewVal[\\\"RULE_TRIGGER\\\"] = \\\"POST_QUERY\\\";\\r\\n    object.addToBody(NewVal);\\r\\n\\r\\n    NewVal = {};\\r\\n    NewVal[\\\"_QUERY\\\"] = \\\"GET_ADM_RULE_HOST\\\";\\r\\n    NewVal[\\\"HOST_ID\\\"] = \\\"%\\\";\\r\\n    object.addToBody(NewVal);\\r\\n\\r\\n    NewVal = {};\\r\\n    NewVal[\\\"_QUERY\\\"] = \\\"GET_ADM_RULE_HOST_MAP\\\";\\r\\n    NewVal[\\\"HOST_ID\\\"] = \\\"%\\\";\\r\\n    NewVal[\\\"MAP_ID\\\"] = \\\"%\\\";\\r\\n    object.addToBody(NewVal);\\r\\n\\r\\n    this.post(object,Page,object.Body).subscribe(result => {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:result.data:\\\", result.data);\\r\\n\\r\\n\\r\\n      this.rulesPostQueryDef.rulePtrsArr = [];\\r\\n      this.rulesPostQueryDef.actionPtrsArr = [];\\r\\n\\r\\n      this.storeRulesPtrs(result.data[0].data, this.rulesPostQueryDef)\\r\\n      this.rulesPostQueryDef.rulesArr = result.data[0].data;\\r\\n\\r\\n      this.storeActionsPtrs(result.data[1].data,  this.rulesPostQueryDef);\\r\\n      this.rulesPostQueryDef.actionsArr = result.data[1].data;\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:this.rulesPostQueryDef\\\", this.rulesPostQueryDef)\\r\\n\\r\\n      this.hostsArr = result.data[2].data;\\r\\n      this.hostsMapArr = result.data[3].data;\\r\\n\\r\\n      //////////////\\r\\n      object.Body =[];\\r\\n    },\\r\\n    err => {\\r\\n      object.Body =[];\\r\\n      this.showNotification (\\\"error\\\",\\\"error:\\\" + err.message );\\r\\n    });\\r\\n\\r\\n//////////////////////////////\\r\\n//////////////\\r\\nobject.Body =[];\\r\\nPage =  \\\"\\\";\\r\\nNewVal = {};\\r\\nNewVal[\\\"_QUERY\\\"] = \\\"GET_ADM_RULE_DEF_RULE_ITEM\\\";\\r\\nNewVal[\\\"RULE_TRIGGER\\\"] = \\\"PRE_QUERY\\\";\\r\\nif (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:NewVal:\\\", NewVal)\\r\\nif (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:object.Body:\\\", object.Body)\\r\\nobject.addToBody(NewVal);\\r\\n\\r\\nif (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:object.Body:\\\", object.Body)\\r\\nNewVal = {};\\r\\nNewVal[\\\"_QUERY\\\"] = \\\"GET_ADM_RULE_DEF_RULE_ACTION\\\";\\r\\nNewVal[\\\"RULE_TRIGGER\\\"] = \\\"PRE_QUERY\\\";\\r\\nobject.addToBody(NewVal);\\r\\n\\r\\n\\r\\n\\r\\nthis.post(object,Page,object.Body).subscribe(result => {\\r\\n  if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:result.data:\\\", result.data);\\r\\n\\r\\n//////////////\\r\\n  this.rulesPreQueryDef.rulePtrsArr = [];\\r\\n  this.rulesPreQueryDef.actionPtrsArr = [];\\r\\n\\r\\n  this.storeRulesPtrs(result.data[0].data, this.rulesPreQueryDef)\\r\\n  this.rulesPreQueryDef.rulesArr = result.data[0].data;\\r\\n\\r\\n  this.storeActionsPtrs(result.data[1].data,  this.rulesPreQueryDef);\\r\\n  this.rulesPreQueryDef.actionsArr = result.data[1].data;\\r\\n  if (this.paramConfig.DEBUG_FLAG) console.log(\\\"test:this.rulesPreQueryDef\\\", this.rulesPreQueryDef)\\r\\n\\r\\n\\r\\n  //////////////\\r\\n  object.Body =[];\\r\\n},\\r\\nerr => {\\r\\n  object.Body =[];\\r\\n  this.showNotification (\\\"error\\\",\\\"error:\\\" + err.message );\\r\\n});\\r\\n\\r\\n  }\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n  public fetchLookups ( object,lookupArrDef){\\r\\n    let Body =[];\\r\\n    for (let i=0; i< lookupArrDef.length; i++){\\r\\n      let NewVal = {};\\r\\n      NewVal[\\\"_QUERY\\\"] = \\\"GET_STMT\\\";\\r\\n      NewVal[\\\"_STMT\\\"]  =  lookupArrDef[i].statment;\\r\\n      Body = this.addToBody(NewVal,Body);\\r\\n    }\\r\\n\\r\\n    let Page =  \\\"\\\";\\r\\n    this.post(object,Page,Body).subscribe(result => {\\r\\n      for (let i=0; i< lookupArrDef.length; i++){\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"result.data[i].data:\\\",result.data[i].data[0])\\r\\n        if  (typeof result.data[i] !== \\\"undefined\\\"){\\r\\n          if  (typeof result.data[i].data[0] !== \\\"undefined\\\"){\\r\\n            //add empty record at begining of the array for the LOV for insert new record in a grid work properly\\r\\n            let keys = Object.keys(result.data[i].data[0]);\\r\\n            let emptyRec ={};\\r\\n\\r\\n            let hasSpace=false;\\r\\n            // let codeTxt = keys[0];\\r\\n            // let dataSet = Object.assign([], result.data[i].data);\\r\\n\\r\\n            // dataSet.find(elem =>{\\r\\n            //   //console.log(\\\"elm:\\\",elem);\\r\\n            //   if (elem[codeTxt].trim() == \\\"\\\"){\\r\\n            //     hasSpace = true;\\r\\n            //     return true;\\r\\n            //   }\\r\\n            // });\\r\\n\\r\\n            \\r\\n            if ( !hasSpace){\\r\\n            for (let k =0; k < keys.length; k++){\\r\\n                //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"[keys[k]:\\\", keys[k]);\\r\\n                //console.log(\\\"[keys[k]:\\\", keys[k]);\\r\\n                emptyRec[keys[k]] = \\\"\\\";\\r\\n                //object.primarKeyReadOnlyArr[keys[k]] = value;\\r\\n              }\\r\\n            //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"emptyRec:\\\",emptyRec)\\r\\n            //console.log(\\\"emptyRec:\\\",emptyRec);\\r\\n            result.data[i].data.splice(0,0,emptyRec);\\r\\n            }\\r\\n          }\\r\\n          object[lookupArrDef[i].lkpArrName] = result.data[i].data;\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"lookupArrDef[i].lkpArrName:\\\", lookupArrDef[i].lkpArrName, object[lookupArrDef[i].lkpArrName])\\r\\n\\r\\n        }\\r\\n\\r\\n      }\\r\\n      if  (typeof object.fetchLookupsCallBack !== \\\"undefined\\\")\\r\\n        object.fetchLookupsCallBack();\\r\\n\\r\\n    },\\r\\n    err => {\\r\\n      //alert ('error:' + err.message);\\r\\n      this.showErrorMsg(object, err);\\r\\n    });\\r\\n  }\\r\\n  public performPost ( object,fn){\\r\\n    let Page =  \\\"\\\";\\r\\n    this.post(object,Page,object.Body).subscribe(result => {\\r\\n      fn(object,result);\\r\\n      object.Body =[];\\r\\n    },\\r\\n    err => {\\r\\n      //alert ('error:' + err.message);\\r\\n      this.showErrorMsg(object, err);\\r\\n    });\\r\\n  }\\r\\n\\r\\n\\r\\n  public setComponentConfig(componentConfig, screenConfig ){\\r\\n    let keys = Object.keys(componentConfig);\\r\\n    for (let i =0; i < keys.length; i++)\\r\\n      {\\r\\n        //if (this.paramConfig.DEBUG_FLAG) console.log( keys[i] + \\\" \\\" + componentConfig[ keys[i] ] ) ;\\r\\n        if (componentConfig[ keys[i] ] != null)\\r\\n        {\\r\\n          screenConfig[ keys[i] ] = componentConfig[ keys[i] ];\\r\\n        }\\r\\n      }\\r\\n    //if (this.paramConfig.DEBUG_FLAG) console.log(screenConfig);\\r\\n    return screenConfig;\\r\\n  }\\r\\n  public getRoutineAuth(menu, routine_name) {\\r\\n    let i = 0;\\r\\n    let routineAuth;\\r\\n    let found = false;\\r\\n    if (typeof menu !== \\\"undefined\\\") {\\r\\n      while (i < menu.length) {\\r\\n        let j = 0;\\r\\n        while (j < menu[i].children.length) {\\r\\n          if (menu[i].children[j].choice == routine_name) {\\r\\n            routineAuth = menu[i].children[j];\\r\\n            found = true;\\r\\n            break;\\r\\n          }\\r\\n          j++;\\r\\n        }\\r\\n        if (found)\\r\\n          break;\\r\\n        i++;\\r\\n      }\\r\\n    }\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"routine_name:\\\", routine_name, \\\"routineAuth:\\\", routineAuth, \\\" menu:\\\", menu);\\r\\n\\r\\n\\r\\n    return (routineAuth);\\r\\n  }\\r\\n  public actOnParamConfig(object, routine_name) {\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"routine_name:\\\" + routine_name)\\r\\n    let paramConfig = getParamConfig();\\r\\n    let menu = paramConfig.menu;\\r\\n    let routineAuth = this.getRoutineAuth(menu, routine_name);\\r\\n\\r\\n    if (typeof routineAuth !== \\\"undefined\\\") {\\r\\n      object.title = routineAuth.title + \\\" (\\\" + routineAuth.routineVer + \\\")\\\";\\r\\n      object.routineAuth = routineAuth;\\r\\n      this.routine_name = routine_name;\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"object.title:\\\" + object.title)\\r\\n    }\\r\\n    else\\r\\n      if (routine_name == \\\"DSPEKYC\\\") {\\r\\n        this.routine_name = routine_name;\\r\\n      }\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"this.routine_name:\\\" + this.routine_name)\\r\\n  }\\r\\n\\r\\n  public showErrorMsg(object,serverError){\\r\\n    let errorMsg =\\\"\\\";\\r\\n    if (typeof serverError.error == \\\"undefined\\\"){\\r\\n       errorMsg = this.standardErrorMsg + \\\" : \\\" + serverError;\\r\\n    }\\r\\n    else\\r\\n       errorMsg = this.standardErrorMsg + \\\" : \\\" + serverError.error.error;\\r\\n    let dialogStruc = {\\r\\n      msg: errorMsg,\\r\\n      title : \\\"Error\\\",\\r\\n      info: null,\\r\\n      object : object,\\r\\n      action : this.OkActions,\\r\\n      callback: null };\\r\\n      this.showConfirmation(dialogStruc);\\r\\n\\r\\n  }\\r\\n  public sendGetCommand(url, page: string): Observable<GridDataResult> {\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\" inside sendGetCommand\\\")\\r\\n    let theURL = url + page;\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\" inside sendGetCommand:theURL:\\\",theURL)\\r\\n    this.httpOptions = {\\r\\n      headers: new HttpHeaders({\\r\\n        'Content-Type': 'application/json',\\r\\n        'authorization': this.StrAuth\\r\\n\\r\\n      })\\r\\n    };\\r\\n\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"sendGetCommand theURL:\\\" + theURL)\\r\\n    return this.http\\r\\n        .get(`${theURL}`,this.httpOptions)\\r\\n        .pipe(\\r\\n            catchError((err) => {\\r\\n              if (this.paramConfig.DEBUG_FLAG) console.log(\\\"server error:\\\", err.message)\\r\\n              this.showNotification (\\\"error\\\",\\\"error:\\\" + err.message);\\r\\n                return throwError(err);\\r\\n              }),\\r\\n            map(response => (\\r\\n              <any>response\\r\\n            )),\\r\\n            tap(() => this.loading = false)\\r\\n       );\\r\\n  }\\r\\n  public postCommand(page: string, url, Body): Observable<GridDataResult> {\\r\\n    //if (this.paramConfig.DEBUG_FLAG) console.log(\\\" inside postCommand\\\")\\r\\n    let theURL = url; //this.EPMENG_URL + page;\\r\\n    this.httpOptions = {\\r\\n      headers: new HttpHeaders({\\r\\n        'Content-Type': 'application/json',\\r\\n        'authorization': this.StrAuth\\r\\n\\r\\n      })\\r\\n    };\\r\\n\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"postCommand theURL:\\\" + theURL)\\r\\n    return this.http\\r\\n        .post(`${theURL}`,Body, this.httpOptions)\\r\\n        .pipe(\\r\\n            catchError((err) => {\\r\\n              //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"server error:\\\", err.message)\\r\\n              this.showNotification (\\\"error\\\",\\\"error:\\\" + err.message);\\r\\n                return throwError(err);\\r\\n              }),\\r\\n            map(response => (\\r\\n              <any>response\\r\\n            )),\\r\\n            tap(() => this.loading = false)\\r\\n       );\\r\\n  }\\r\\n  public CapitalizeFirst(str)\\r\\n  {\\r\\n    str = str.toLowerCase();\\r\\n\\r\\n    str = str.charAt(0).toUpperCase() + str.slice(1)\\r\\n    return str;\\r\\n  }\\r\\n  public CapitalizeTitle(fieldName)\\r\\n  {\\r\\n\\r\\n  let array = fieldName.split(\\\"_\\\");\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"array:\\\",array)\\r\\n    for (let i = 0; i < array.length; i++)\\r\\n      array[i] = this.CapitalizeFirst(array[i])\\r\\n\\r\\n    fieldName = array.join(\\\" \\\");\\r\\n    return fieldName;\\r\\n  }\\r\\n  public prepareLookup(fieldName, paramConfig){\\r\\n\\r\\n    let lkpArrName = \\\"lkpArr\\\" + fieldName;\\r\\n    let lkpDef;\\r\\n    if (fieldName == \\\"ASSIGNEE\\\"){\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log (\\\"starServices.sessionParams.USER_INFO:\\\", this.sessionParams.USER_INFO);\\r\\n\\r\\n      let team = this.sessionParams.USER_INFO.TEAM;\\r\\n\\r\\n      lkpDef =  \\t{\\\"statment\\\":\\\"select USERNAME CODE, FULLNAME CODETEXT_LANG from  ADM_USER_INFORMATION where TEAM = '\\\" + team + \\\"' \\\",\\r\\n      \\\"lkpArrName\\\":lkpArrName, \\\"fieldName\\\": fieldName};\\r\\n\\r\\n    }\\r\\n    else\\r\\n    {\\r\\n     lkpDef = \\t{\\\"statment\\\":\\\"SELECT CODE,  CODETEXT_LANG FROM SOM_TABS_CODES WHERE CODENAME = '\\\" + fieldName + \\\"' and LANGUAGE_NAME = '\\\" + paramConfig.userLang + \\\"' order by CODETEXT_LANG  \\\",\\r\\n                \\\"lkpArrName\\\":lkpArrName , \\\"fieldName\\\": fieldName };\\r\\n    }\\r\\n    return lkpDef;\\r\\n\\r\\n  }\\r\\n  public getAssigneeSelect(object, assigneeType){\\r\\n    let selectStmt;\\r\\n\\r\\n    if (assigneeType == \\\"TEAM\\\"){\\r\\n      selectStmt = \\\"SELECT CODE, CODETEXT_LANG FROM SOM_TABS_CODES WHERE CODENAME ='TEAM' and LANGUAGE_NAME = '\\\" + object.paramConfig.userLang + \\\"'  order by CODETEXT_LANG \\\"\\r\\n    }\\r\\n    else if (assigneeType == \\\"PERSON\\\"){\\r\\n      selectStmt = \\\"SELECT USERNAME  CODE, FULLNAME CODETEXT_LANG FROM ADM_USER_INFORMATION WHERE TEAM ='\\\" + object.starServices.sessionParams.USER_INFO.TEAM + \\\"' order by CODETEXT_LANG \\\"\\r\\n    }\\r\\n    else if (assigneeType == \\\"NETWORK\\\"){\\r\\n      selectStmt = \\\"SELECT CODE, CODETEXT_LANG FROM SOM_TABS_CODES WHERE CODENAME ='EXCH_SYST' and LANGUAGE_NAME = '\\\" + object.paramConfig.userLang + \\\"' order by CODETEXT_LANG\\\"\\r\\n    }\\r\\n    return selectStmt;\\r\\n  }\\r\\n  public getFirstWeekDay(object, value){\\r\\n    let valueDate:Date\\r\\n    let firstWeekDay = \\\"Monday\\\";\\r\\n    if (typeof object.paramConfig.firstWeekDay !== \\\"undefined\\\"){\\r\\n      firstWeekDay =  object.paramConfig.firstWeekDay;\\r\\n    }\\r\\n    valueDate = firstDayInWeek(new Date(value), Day[firstWeekDay] );\\r\\n    valueDate = getDate(valueDate);\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"valueDate:\\\", valueDate)\\r\\n    return valueDate;\\r\\n\\r\\n  }\\r\\n  public setRTL(){\\r\\n    let paramConfig = getParamConfig();\\r\\n    let language = paramConfig.userLang;\\r\\n    language = language.toLowerCase();\\r\\n\\r\\n    let parg = document.getElementById(\\\"mainpage\\\");\\r\\n    const svc = <MyMessageService> this.messages;\\r\\n    //svc.language = svc.language === 'es' ? 'he' : 'es';\\r\\n    //svc.language = language;\\r\\n    //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"setRTL:language:\\\", language)\\r\\n    if ( language == \\\"ar\\\"){\\r\\n      parg.dir = \\\"rtl\\\";\\r\\n      this.messages.notify(true);\\r\\n    }\\r\\n    else\\r\\n    {\\r\\n      parg.dir = \\\"ltr\\\";\\r\\n      this.messages.notify(false);\\r\\n    }\\r\\n  }\\r\\n  public loadLanguageOld(language){\\r\\n    language = !language ? \\\"en\\\" : language\\r\\n    let file = \\\"assets/lang/\\\" + language + \\\".json\\\"\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:file,\\\",file)\\r\\n    this.http.get(file).subscribe(data =>{\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:data,\\\",data)\\r\\n      let paramConfig = {\\r\\n        \\\"Name\\\": \\\"titles\\\",\\r\\n        \\\"Val\\\": data\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\n      this.paramConfig = getParamConfig();\\r\\n      paramConfig = {\\r\\n        \\\"Name\\\": \\\"userLang\\\",\\r\\n        \\\"Val\\\": language.toUpperCase()\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\n      this.setRTL();\\r\\n\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"document.documentElement.dir:\\\", document.documentElement.dir == 'ltr'  );\\r\\n    },\\r\\n    err => {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:err,\\\",err)\\r\\n      //alert ('error:' + err.message);\\r\\n      //this.showErrorMsg(object, err);\\r\\n    })\\r\\n  }\\r\\n  public loadLanguage(language){\\r\\n    language = !language ? \\\"en\\\" : language\\r\\n    let file = \\\"lang/\\\" + language + \\\".json\\\"\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:file,\\\",file)\\r\\n    let page = \\\"?getfile=\\\" + file;\\r\\n    page = this.checkDBLoc(page);\\r\\n    page = encodeURI(page);\\r\\n    \\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:page,\\\",page)\\r\\n\\r\\n    this.sendGetCommand(this.SERVER_URL , page).subscribe(result => {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:result,\\\",result);\\r\\n      let data = result.data;\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:data,\\\",data)\\r\\n      let paramConfig = {\\r\\n        \\\"Name\\\": \\\"titles\\\",\\r\\n        \\\"Val\\\": data\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\n      this.paramConfig = getParamConfig();\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"this.paramConfig.titles,\\\",this.paramConfig.titles);\\r\\n      paramConfig = {\\r\\n        \\\"Name\\\": \\\"userLang\\\",\\r\\n        \\\"Val\\\": language.toUpperCase()\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\n      this.setRTL();\\r\\n\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"document.documentElement.dir:\\\", document.documentElement.dir == 'ltr'  );\\r\\n    },\\r\\n    err => {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:err,\\\",err)\\r\\n      //alert ('error:' + err.message);\\r\\n      //this.showErrorMsg(object, err);\\r\\n    })\\r\\n  }\\r\\n  public getNLS(params,id, text){\\r\\n    //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"getNLS:id,\\\",id);\\r\\n\\r\\n    if (typeof this.paramConfig !== \\\"undefined\\\"){\\r\\n      if (typeof this.paramConfig.titles !== \\\"undefined\\\"){\\r\\n        let array = id.split(\\\".\\\");\\r\\n        if (array.length == 3)\\r\\n        {\\r\\n          if (typeof this.paramConfig.titles [array[0]] !== \\\"undefined\\\")\\r\\n           if (typeof this.paramConfig.titles [array[0]] !== \\\"undefined\\\")\\r\\n           if (typeof this.paramConfig.titles [array[0]][array[1]] !== \\\"undefined\\\"){\\r\\n            if (typeof this.paramConfig.titles [array[0]][array[1]][array[2]] !== \\\"undefined\\\")\\r\\n              if ( this.paramConfig.titles [array[0]][array[1]][array[2]] != \\\"\\\")\\r\\n                text =  this.paramConfig.titles [array[0]][array[1]][array[2]]\\r\\n          }\\r\\n          //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"getNLS:text,\\\",text);\\r\\n        }\\r\\n        else\\r\\n        {\\r\\n          let nls_title = this.paramConfig.titles[id];\\r\\n          if (typeof nls_title !== \\\"undefined\\\"){\\r\\n            text = nls_title;\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n    if (params.length > 0)\\r\\n    {\\r\\n      let strArray = text.split(\\\"##\\\");\\r\\n      text = \\\"\\\";\\r\\n  \\r\\n      for (let i=0; i<strArray.length; i++)\\r\\n      {\\r\\n        if(typeof params[i] != \\\"undefined\\\" )\\r\\n          text = text + strArray[i] + params[i];\\r\\n        else\\r\\n          text = text + strArray[i];\\r\\n      }\\r\\n      console.log(text);\\r\\n    }\\r\\n\\r\\n\\r\\n    return text;\\r\\n  }\\r\\n  public loadStatements(statements){\\r\\n    if (statements == \\\"\\\")\\r\\n      statements = \\\"statements.json\\\";\\r\\n  let page = \\\"?getfile=\\\" + statements;\\r\\n    page = this.checkDBLoc(page);\\r\\n    page = encodeURI(page);\\r\\n    this.sendGetCommand(this.SERVER_URL , page).subscribe(result => {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadStatements:result,\\\",result);\\r\\n      let data = result.data;\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadStatements:data,\\\",data);\\r\\n      let lkpArrQUERY_DEF =[];\\r\\n      Object.keys(data).forEach(function(key) {\\r\\n        let value = data[key];\\r\\n        let rec ={\\r\\n          CODE : key,\\r\\n           CODETEXT_LANG : key,\\r\\n           statement : value\\r\\n        }\\r\\n        lkpArrQUERY_DEF.push(rec);\\r\\n\\r\\n    });\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadStatements:data,\\\",data);\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadStatements:lkpArrQUERY_DEF,\\\",lkpArrQUERY_DEF)\\r\\n      let paramConfig = {\\r\\n        \\\"Name\\\": \\\"statements\\\",\\r\\n        \\\"Val\\\": data\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\n      paramConfig = {\\r\\n        \\\"Name\\\": \\\"lkpArrQUERY_DEF\\\",\\r\\n        \\\"Val\\\": lkpArrQUERY_DEF\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\n\\r\\n    },\\r\\n    err => {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:err,\\\",err)\\r\\n\\r\\n\\r\\n\\r\\n    })\\r\\n  }\\r\\n  public loadStatementsOld(){\\r\\n\\r\\n    let file = \\\"assets/\\\" +  \\\"statements.json\\\"\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadStatements:file,\\\",file)\\r\\n    this.http.get(file).subscribe(data =>{\\r\\n      let lkpArrQUERY_DEF =[];\\r\\n      Object.keys(data).forEach(function(key) {\\r\\n        let value = data[key];\\r\\n        let rec ={\\r\\n          CODE : key,\\r\\n           CODETEXT_LANG : key,\\r\\n           statement : value\\r\\n        }\\r\\n        lkpArrQUERY_DEF.push(rec);\\r\\n\\r\\n    });\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadStatements:data,\\\",data);\\r\\n    if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadStatements:lkpArrQUERY_DEF,\\\",lkpArrQUERY_DEF)\\r\\n      let paramConfig = {\\r\\n        \\\"Name\\\": \\\"statements\\\",\\r\\n        \\\"Val\\\": data\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\n      paramConfig = {\\r\\n        \\\"Name\\\": \\\"lkpArrQUERY_DEF\\\",\\r\\n        \\\"Val\\\": lkpArrQUERY_DEF\\r\\n      };\\r\\n      setParamConfig(paramConfig);\\r\\n\\r\\n    },\\r\\n    err => {\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"loadLanguage:err,\\\",err)\\r\\n\\r\\n\\r\\n\\r\\n    })\\r\\n  }\\r\\n\\r\\n\\r\\n  public handleFetchedModules(object, data){\\r\\n    if (object.paramConfig.DEBUG_FLAG) console.log('fetchedModules : ',data[0].data);\\r\\n    //this.items[0].items =  data;\\r\\n    object.items = [\\r\\n      {\\r\\n       text: 'Select Module',\\r\\n       items: data[0].data\\r\\n     }];\\r\\n     object.setModuleName(object.currentMenu);\\r\\n    if (object.paramConfig.DEBUG_FLAG) console.log(\\\"object.items:\\\", object.items, \\\"data[0].data.length:\\\", data[0].data.length)\\r\\n    if (data[0].data.length == 1){\\r\\n      object.showModuleSelection = false;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  public fetchMenu ( object, handleFetchedData){\\r\\n    if ( (this.StrAuth == \\\"\\\") || (typeof this.StrAuth === \\\"undefined\\\"))\\r\\n      return;\\r\\n\\r\\n\\r\\n    let Page =  \\\"\\\";\\r\\n    this.post(this, Page,object.Body).subscribe(result => {\\r\\n\\r\\n        handleFetchedData(object, result.data);\\r\\n\\r\\n\\r\\n      object.Body =[];\\r\\n    },\\r\\n    err => {\\r\\n      alert ('error:' + err.message);\\r\\n    });\\r\\n  }\\r\\n  public setModuleItems (object){\\r\\n\\r\\n\\r\\n    if (!object.staticMenu)\\r\\n    {\\r\\n      object.Body =[];\\r\\n      let NewVal = {\\r\\n        MENU : 'MAIN',\\r\\n        CHOICES : object.paramConfig.licensedModules.toUpperCase(),\\r\\n        LANGUAGE_NAME : object.paramConfig.userLang.toUpperCase(),\\r\\n      };\\r\\n\\r\\n        NewVal[\\\"_QUERY\\\"] = \\\"GET_ALLOWED_MODULES\\\";\\r\\n\\r\\n        object.addToBody(NewVal);\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\"--------object.Body :\\\", object.Body)\\r\\n\\r\\n\\r\\n      this.fetchMenu(object, this.handleFetchedModules);\\r\\n    }\\r\\n  }\\r\\n  public stateChange(object:any, data: PanelBarStateChangeEvent): boolean {\\r\\n    //public stateChange(object:any, data: Array<PanelBarItemModel>): boolean {\\r\\n  \\r\\n      if (object.staticMenu == true) {\\r\\n        const focusedEvent: PanelBarItemModel = data.items.filter(item => item.focused === true)[0];\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\" in stateChange : \\\" + focusedEvent.id)\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(focusedEvent)\\r\\n        if (focusedEvent.title == \\\"Formatting Flow\\\") {\\r\\n          object.showPanelbar = false;\\r\\n        }\\r\\n        console.log(\\\"object.isPhonePortrait:\\\", object.isPhonePortrait, object.showPanelbar)\\r\\n        //this.selectedId = focusedEvent.id;\\r\\n        //this.router.navigate(['/' + focusedEvent.id]);\\r\\n        //this.starServices.setRTL();\\r\\n        return true;  //Fuad check if it should return false or true\\r\\n  \\r\\n      }\\r\\n      const focusedEvent: PanelBarItemModel = data.items.filter(item => item.focused === true)[0];\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\" in stateChange : \\\" , focusedEvent.id)\\r\\n      let routineAuth = this.getRoutineAuth(object.menu, focusedEvent.id);\\r\\n      if (this.paramConfig.DEBUG_FLAG) console.log(\\\" in stateChange : \\\" , focusedEvent.id , \\\"routineAuth :\\\" , routineAuth)\\r\\n  \\r\\n      if (focusedEvent.id == \\\"PRVFLOW\\\")\\r\\n         object.showPanelbar = false;\\r\\n  \\r\\n      if (typeof routineAuth !== \\\"undefined\\\") {\\r\\n        if (this.paramConfig.DEBUG_FLAG) console.log(\\\" in stateChange : routineAuth.authLevel:\\\" + routineAuth.authLevel)\\r\\n        if (routineAuth.authLevel == 0) {\\r\\n          let dialogStruc = {\\r\\n            msg: this.noAccessMsg,\\r\\n            title: \\\"Warning\\\",\\r\\n            info: null,\\r\\n            object: this,\\r\\n            action: this.OkActions,\\r\\n            callback: null\\r\\n          };\\r\\n          this.showConfirmation(dialogStruc);\\r\\n          return false;\\r\\n        }\\r\\n        else {\\r\\n          object.selectedId = focusedEvent.id;\\r\\n          this.sessionParams[\\\"PrvUserFlow\\\"] = \\\"\\\";\\r\\n          this.sessionParams[\\\"PrvUserCDR\\\"] = \\\"\\\";\\r\\n   \\r\\n          if (object.selectedId == \\\"PRVFLOW\\\") {\\r\\n            this.sessionParams[\\\"PrvUserFlow\\\"] = \\\"PRV_BLD\\\";\\r\\n            this.sessionParams[\\\"PrvUserCDR\\\"] = \\\"PRV_CDR\\\";\\r\\n            object.showPanelbar = false;\\r\\n          }\\r\\n          if (object.selectedId == \\\"CCMCAT\\\") {\\r\\n            this.sessionParams[\\\"PrvUserFlow\\\"] = \\\"CRC_CAT\\\";\\r\\n            this.sessionParams[\\\"PrvUserCDR\\\"] = \\\"CRC_USER_INFO\\\";\\r\\n            object.showPanelbar = false;\\r\\n          }\\r\\n          if (object.selectedId == \\\"CCMGRP\\\") {\\r\\n            this.sessionParams[\\\"PrvUserFlow\\\"] = \\\"CRC_GROUP\\\";\\r\\n            this.sessionParams[\\\"PrvUserCDR\\\"] = \\\"CRC_GROUP_INFO\\\";\\r\\n            object.showPanelbar = false;\\r\\n          }\\r\\n          if (object.selectedId == \\\"CMGCAT\\\") {\\r\\n            this.sessionParams[\\\"PrvUserFlow\\\"] = \\\"CAM_CAT\\\";\\r\\n            this.sessionParams[\\\"PrvUserCDR\\\"] = \\\"CAM_USER_INFO\\\";\\r\\n            object.showPanelbar = false;\\r\\n          }\\r\\n          if (object.selectedId == \\\"CMGGRP\\\") {\\r\\n            this.sessionParams[\\\"PrvUserFlow\\\"] = \\\"CAM_GROUP\\\";\\r\\n            this.sessionParams[\\\"PrvUserCDR\\\"] = \\\"CAM_GROUP_INFO\\\";\\r\\n            object.showPanelbar = false;\\r\\n          }\\r\\n          if (object.selectedId == \\\"BILLING\\\") {\\r\\n            this.sessionParams[\\\"PrvUserFlow\\\"] = \\\"BILLING\\\";\\r\\n            this.sessionParams[\\\"PrvUserCDR\\\"] = \\\"BILLING_CDR\\\";\\r\\n            object.showPanelbar = false;\\r\\n          }\\r\\n  \\r\\n          if (object.selectedId.startsWith(\\\"PORTAL_\\\"))//Fuad : RND\\r\\n          {\\r\\n            this.sessionParams[\\\"PORTAL_FORM\\\"] = focusedEvent.id;\\r\\n            focusedEvent.id = 'DSPPORTAL';\\r\\n          }\\r\\n          //FUAD: check if below code till else is needed\\r\\n          if (object.router.routerState.snapshot.url == ('/' + focusedEvent.id)) {\\r\\n            object.router.navigateByUrl('', { skipLocationChange: true }).then(() =>\\r\\n              object.router.navigate(['/' + focusedEvent.id], { skipLocationChange: true, replaceUrl: true, preserveFragment: false })\\r\\n            );\\r\\n          }\\r\\n          else\\r\\n            object.router.navigate(['/' + focusedEvent.id], { skipLocationChange: true, replaceUrl: true, preserveFragment: false });\\r\\n  \\r\\n          if (object.isPhonePortrait){\\r\\n            object.showPanelbar = false;\\r\\n          }\\r\\n  \\r\\n          //this.starServices.setRTL();\\r\\n  \\r\\n          //this.showPanelbar = false;\\r\\n        }\\r\\n      }\\r\\n  \\r\\n      return false;\\r\\n    }\\r\\npublic setPanelBar (object){\\r\\n\\r\\n  if (!object.staticMenu)\\r\\n  {\\r\\n    object.Body =[];\\r\\n    let NewVal = {\\r\\n      MENU : object.currentMenu.toUpperCase(),\\r\\n      USERNAME : object.starServices.sessionParams.USERNAME.toUpperCase(),\\r\\n      LANGUAGE_NAME : object.paramConfig.userLang.toUpperCase()\\r\\n    };\\r\\n\\r\\n      NewVal[\\\"_QUERY\\\"] = \\\"GET_MENU_ROUTINES\\\";\\r\\n\\r\\n      object.addToBody(NewVal);\\r\\n\\r\\n    let NewVal1 = {\\r\\n      MENU : \\\"\\\",\\r\\n      USERNAME : object.starServices.sessionParams.USERNAME.toUpperCase()\\r\\n    };\\r\\n\\r\\n      NewVal1[\\\"_QUERY\\\"] = \\\"GET_ROUTINES_AUTHORITY\\\";\\r\\n\\r\\n      object.addToBody(NewVal1);\\r\\n\\r\\n    this.fetchMenu(object, this.handleFetchedPanelBar);\\r\\n  }\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n  public handleFetchedPanelBar(object, data) {\\r\\n    function checkAuthData(routine_name, authData) {\\r\\n      let i = 0;\\r\\n      let routineAuth;\\r\\n      while (i < authData.length) {\\r\\n        if (authData[i].ROUTINE_NAME == routine_name) {\\r\\n          routineAuth = authData[i];\\r\\n          break;\\r\\n        }\\r\\n        i++;\\r\\n      }\\r\\n      return routineAuth;\\r\\n    }\\r\\n    function formatData(arr, authData) {\\r\\n      let menu = [];\\r\\n      let children = [];\\r\\n      for (let i = 0; i < arr.length; i++) {\\r\\n        if (object.paramConfig.DEBUG_FLAG) console.log(\\\"arr[i]:\\\", arr[i]);\\r\\n        let type = arr[i].choice_type.charAt(0);\\r\\n        if (type == \\\"M\\\") {\\r\\n          if (children.length != 0) {\\r\\n            let item = {\\r\\n              title: menuItem.title,\\r\\n              choice: menuItem.choice,\\r\\n              children: children\\r\\n            };\\r\\n            menu.push(item);\\r\\n            children = [];\\r\\n          }\\r\\n          var menuItem = {\\r\\n            title: arr[i].text,\\r\\n            choice: arr[i].choice\\r\\n          };\\r\\n          //menu.push(item);\\r\\n        }\\r\\n        else if (type == \\\"R\\\") {\\r\\n          if (object.paramConfig.DEBUG_FLAG) console.log(\\\"authData:\\\", authData, \\\"arr[i]:\\\", arr[i]);\\r\\n          let routineAuth = checkAuthData(arr[i].choice, authData);\\r\\n          if (object.paramConfig.DEBUG_FLAG) console.log(\\\"arr[i].choice:\\\" + arr[i].choice + \\\"  routineAuth.DISP_FLAG:\\\" + routineAuth.DISP_FLAG + \\\" routineAuth.AUTHLEVEL :\\\" + routineAuth.AUTHLEVEL)\\r\\n          if (routineAuth.DISP_FLAG != \\\"N\\\") // && (routineAuth.AUTHLEVEL != 0) )\\r\\n          {\\r\\n            let routineItem = {\\r\\n              title: arr[i].text,\\r\\n              choice: arr[i].choice,\\r\\n              authLevel: routineAuth.AUTHLEVEL,\\r\\n              routineDesc: routineAuth.ROUTINE_DESC,\\r\\n              routineVer: routineAuth.ROUT_VER,\\r\\n              routerLink: \\\"/\\\" + arr[i].choice\\r\\n            };\\r\\n            children.push(routineItem);\\r\\n          }\\r\\n          //if (this.paramConfig.DEBUG_FLAG) console.log(\\\"---children\\\");\\r\\n          //if (this.paramConfig.DEBUG_FLAG) console.log(children);\\r\\n        }\\r\\n      }\\r\\n      if (children.length != 0) {\\r\\n        let item = {\\r\\n          title: menuItem.title,\\r\\n          choice: menuItem.choice,\\r\\n          children: children\\r\\n        };\\r\\n        menu.push(item);\\r\\n        children = [];\\r\\n      }\\r\\n\\r\\n      return menu;\\r\\n}\\r\\n\\r\\n  object.menu = formatData(data[0].data, data[1].data);\\r\\n\\r\\n  object.panelItems = object.menu;\\r\\n  let paramConfig = {\\r\\n    \\\"Name\\\": \\\"menu\\\",\\r\\n    \\\"Val\\\": object.menu\\r\\n  };\\r\\n  setParamConfig(paramConfig);\\r\\n\\r\\n\\r\\n}\\r\\n\\r\\npublic  sleep(ms) {\\r\\n  return new Promise(resolve => setTimeout(resolve, ms));\\r\\n}\\r\\nprivate commitBody = [];\\r\\npublic inTrans = false;\\r\\nprivate Body = [];\\r\\npublic commitCommands = ['INSERT', 'UPDATE', 'DELETE'];\\r\\n\\r\\npublic beginTrans(){\\r\\n  this.commitBody =[];\\r\\n  this.inTrans = true;\\r\\n\\r\\n}\\r\\npublic endTrans(object, commit){\\r\\n  let Page = \\\"&_trans=Y\\\";\\r\\n  let tableInfo;\\r\\n  //console.log(\\\"endTrans:\\\", this.commitBody);\\r\\n  if (commit && this.commitBody.length != 0){\\r\\n    return new Promise(resolve => {\\r\\n      this.post(this, Page, this.commitBody).subscribe(result => {\\r\\n        this.commitBody =[];\\r\\n        this.inTrans = false;\\r\\n\\r\\n        tableInfo = result.data[0].data;\\r\\n        return resolve(tableInfo);\\r\\n      },\\r\\n        err => {\\r\\n          object.FORM_TRIGGER_FAILURE = true;\\r\\n          this.commitBody =[];\\r\\n          this.inTrans = false;\\r\\n          //alert('error:' + err.message);\\r\\n          this.showErrorMsg(object, err);\\r\\n          return resolve(tableInfo);\\r\\n        });\\r\\n    });\\r\\n  }\\r\\n  else{\\r\\n    this.commitBody =[];\\r\\n    this.inTrans = false;\\r\\n  }\\r\\n\\r\\n\\r\\n}\\r\\n// public addToBody(NewVal) {\\r\\n//   this.Body.push(NewVal);\\r\\n// }\\r\\n\\r\\npublic execSQLBody(object, Body, DBLoc) {\\r\\n  function getFirstWord(str) {\\r\\n    let myArray = str.split(\\\"_\\\");\\r\\n    return myArray[0];\\r\\n  }\\r\\n  \\r\\n  object.FORM_TRIGGER_FAILURE = false;\\r\\n  let Page = \\\"&_trans=N\\\";\\r\\n  if (DBLoc != \\\"\\\")\\r\\n    Page = Page + \\\"&DBLoc=\\\" + DBLoc;\\r\\n  let tableInfo;\\r\\n\\r\\n  object.NOTFOUND = false;\\r\\n  //console.log(\\\"Body:\\\",Body);\\r\\n  if (this.inTrans) {\\r\\n    let firstWord = getFirstWord(Body[0]._QUERY).toUpperCase();\\r\\n    //console.log(\\\"commit:firstWord:\\\", firstWord, Body);\\r\\n    \\r\\n    let isCommitCommand = this.commitCommands.includes(firstWord);\\r\\n    if (isCommitCommand) {\\r\\n      this.commitBody.push(Body[0]);\\r\\n      return tableInfo;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  return new Promise(resolve => {\\r\\n    this.post(this, Page, Body).subscribe(result => {\\r\\n      //console.log (\\\"execSQLBody 3\\\", result);\\r\\n      //console.log(\\\"testx:execSQL:sqlStmt:result.data[0]:\\\", Body, result.data[0])\\r\\n      //console.log(\\\"testx:execSQL:sqlStmt:result.data[0]:\\\", Body, result.data)\\r\\n      tableInfo = result.data;\\r\\n      // if (result.data.length == 0)\\r\\n      //   object.NOTFOUND = true;\\r\\n      return resolve(tableInfo);\\r\\n    },\\r\\n      err => {\\r\\n        object.FORM_TRIGGER_FAILURE = true;\\r\\n        alert('error:' + err.message);\\r\\n        return resolve(tableInfo);\\r\\n      });\\r\\n  });\\r\\n\\r\\n\\r\\n}\\r\\npublic execSQL(object, sqlStmt) {\\r\\n  function getFirstWord(str) {\\r\\n    str = str.trim();\\r\\n    let spaceIndex = str.indexOf(' ');\\r\\n    return spaceIndex === -1 ? str : str.substr(0, spaceIndex);\\r\\n  }\\r\\n\\r\\n  object.FORM_TRIGGER_FAILURE = false;\\r\\n  let Page = \\\"&_trans=N\\\";\\r\\n  this.Body = [];\\r\\n  let NewVal = {};\\r\\n  NewVal[\\\"_QUERY\\\"] = \\\"EXECSQL\\\";\\r\\n  NewVal[\\\"_STMT\\\"] = sqlStmt;\\r\\n  let tableInfo;\\r\\n\\r\\n  object.NOTFOUND = false;\\r\\n  if (this.inTrans) {\\r\\n    let firstWord = getFirstWord(sqlStmt).toUpperCase();\\r\\n    //console.log(\\\"commit:firstWord:\\\", firstWord, sqlStmt);\\r\\n    \\r\\n    let isCommitCommand = this.commitCommands.includes(firstWord);\\r\\n    //console.log(\\\"execSQL: inTrans:\\\", NewVal);\\r\\n    if (isCommitCommand) {\\r\\n      this.commitBody.push(NewVal);\\r\\n      return tableInfo;\\r\\n    }\\r\\n  }\\r\\n  this.Body = this.addToBody(NewVal, this.Body);\\r\\n\\r\\n  return new Promise(resolve => {\\r\\n    this.post(this, Page, this.Body).subscribe(result => {\\r\\n      this.Body = [];\\r\\n      //console.log(\\\"execSQL:sqlStmt:result.data[0]:\\\", sqlStmt, result.data[0])\\r\\n      tableInfo = result.data[0].data;\\r\\n      if (result.data[0].rowCount == 0)\\r\\n        object.NOTFOUND = true;\\r\\n      return resolve(tableInfo);\\r\\n    },\\r\\n      err => {\\r\\n        object.FORM_TRIGGER_FAILURE = true;\\r\\n        alert('error:' + err.message);\\r\\n        return resolve(tableInfo);\\r\\n      });\\r\\n  });\\r\\n}\\r\\n\\r\\n////////\\r\\n \\r\\npublic att_img_getFileLink(field_data,object) {\\r\\n  let fileLink = \\\"\\\";\\r\\n  if ((field_data != \\\"\\\") && (field_data != \\\"[]\\\") && (field_data != null)) {\\r\\n    field_data = JSON.parse(field_data);\\r\\n    //console.log(\\\"getFileLink:field_data:\\\", field_data)\\r\\n    fileLink = object.AttDwnUrl + encodeURI(field_data[0].name);\\r\\n    //console.log(\\\"getFileLink:fileLink:\\\", fileLink)\\r\\n  }\\r\\n  return fileLink;\\r\\n}\\r\\npublic att_img_getAtt(data,object) {\\r\\n  let atts = \\\"\\\";\\r\\n  //console.log(\\\"getAtt_data:\\\", data);\\r\\n  if ((data != \\\"\\\") && (data != \\\"[]\\\") && (data != null)) {\\r\\n    let vals = JSON.parse(data);\\r\\n    //console.log(\\\"getAtt_data:\\\", vals);\\r\\n    vals.forEach(val => {\\r\\n      //console.log(\\\"val:\\\", val)\\r\\n      atts = atts + \\\"<\\\" + val.name + \\\" Size:\\\" + val.size + \\\">\\\";\\r\\n    })\\r\\n  }\\r\\n  return atts;\\r\\n}\\r\\npublic att_img_populateArrs(formGroup,object){\\r\\n  for (let i = 0; i < object.att_arr.length; i++) {\\r\\n    if (formGroup[object.att_arr[i]] != \\\"\\\") object.myFiles[object.att_arr[i]] = JSON.parse(formGroup[object.att_arr[i]]);\\r\\n  }\\r\\n  for (let i = 0; i < object.img_arr.length; i++) {\\r\\n    if (formGroup[object.img_arr[i]] != \\\"\\\") object.myFiles[object.img_arr[i]] = JSON.parse(formGroup[object.img_arr[i]]);\\r\\n  }\\r\\n}\\r\\npublic att_img_form_openUploadimage(field_id,object) {\\r\\n  //object.uploadimage = true;\\r\\n  //console.log(\\\"openUploadimage:field_id:\\\", field_id, object.myFiles, object.myFiles[field_id])\\r\\n  let myFiles = [];\\r\\n  if (typeof object.myFiles[field_id] != \\\"undefined\\\") {\\r\\n    myFiles = object.myFiles[field_id];\\r\\n  }\\r\\n  let filesDeleted = [];\\r\\n  if (typeof object.filesDeleted[field_id] != \\\"undefined\\\") {\\r\\n    filesDeleted = object.filesDeleted[field_id];\\r\\n  }\\r\\n  let hideOthers = false;\\r\\n  if (typeof object.disableUpload != \\\"undefined\\\") {\\r\\n    hideOthers = object.disableUpload;\\r\\n  }\\r\\n  let imageID = field_id;\\r\\n  var masterParams = {\\r\\n    \\\"action\\\": \\\"upload\\\",\\r\\n    \\\"imageID\\\": imageID,\\r\\n    \\\"myFiles\\\": myFiles,\\r\\n    \\\"filesDeleted\\\": filesDeleted\\r\\n  }\\r\\n\\r\\n  object.DSP_UPLOADConfig = new componentConfigDef()\\r\\n  object.DSP_UPLOADConfig.masterParams = masterParams\\r\\n}\\r\\npublic callGetSaveAttachemts(action,data,object) {\\r\\n  //console.log(\\\"callSaveAttachemts:myFiles:\\\", object.myFiles)\\r\\n  var masterParams = {\\r\\n    \\\"action\\\": action,\\r\\n    \\\"att_arr\\\": object.att_arr,\\r\\n    \\\"img_arr\\\": object.img_arr,\\r\\n    \\\"myFiles\\\": object.myFiles,\\r\\n    \\\"filesDeleted\\\": object.filesDeleted,\\r\\n    \\\"data\\\": data\\r\\n  }\\r\\n\\r\\n  object.DSP_UPLOADConfig = new componentConfigDef()\\r\\n  object.DSP_UPLOADConfig.masterParams = masterParams\\r\\n\\r\\n}\\r\\nasync att_img_saveFormCompletedHandler(value,object) {\\r\\n  //console.log(\\\"att_img_saveFormCompletedHandler:value\\\", value);\\r\\n  let field_id = value.field_id;\\r\\n  object.myFiles[field_id] = value.myFiles;\\r\\n  object.filesDeleted[field_id] = value.filesDeleted;\\r\\n  //console.log(\\\"object.myFiles[field_id]:\\\", object.myFiles[field_id])\\r\\n  let JSONVal  = JSON.stringify(object.myFiles[field_id]);\\r\\n  if (JSONVal == \\\"[]\\\")\\r\\n    JSONVal = \\\"\\\";\\r\\n  object.form.value[field_id] = JSONVal;\\r\\n  object.form.patchValue({ [field_id]: JSONVal });\\r\\n}\\r\\npublic att_img_saveGridCompletedHandler(value,object) {\\r\\n  \\r\\n  //console.log(\\\"att_img_saveGridCompletedHandler:value\\\", value);\\r\\n  let field_id = value.field_id;\\r\\n  object.myFiles[field_id] = value.myFiles;\\r\\n  object.filesDeleted[field_id] = value.filesDeleted;\\r\\n  //console.log(\\\"object.myFiles[field_id]:\\\", object.myFiles[field_id])\\r\\n  let JSONVal  = JSON.stringify(object.myFiles[field_id]);\\r\\n  if (JSONVal == \\\"[]\\\")\\r\\n    JSONVal = \\\"\\\";\\r\\n  object.formGroup.patchValue({ [field_id]: JSONVal });\\r\\n  object.formGroup.markAsDirty();\\r\\n  //console.log(\\\"att_img_saveGridCompletedHandler:object.formGroup.value\\\", object.formGroup.value);\\r\\n  object.uploadimage=false;\\r\\n}\\r\\npublic async att_img_grid_openUploadimage(field_id,object) {\\r\\n  if (!object.componentConfig.enabled) return;\\r\\n  await object.starServices.sleep(300);\\r\\n  //console.log(\\\"att_img_grid_openUploadimage:object.formGroup:\\\", object.formGroup)\\r\\n  object.uploadimage = true;\\r\\n  if (typeof object.formGroup != \\\"undefined\\\") {\\r\\n    object.myFiles[field_id] =[];\\r\\n    object.starServices.att_img_populateArrs(object.formGroup.value,object);\\r\\n    //console.log(\\\"openUploadimage:field_id:\\\", field_id, object.myFiles, object.myFiles[field_id])\\r\\n    let myFiles = [];\\r\\n    if (typeof object.myFiles[field_id] != \\\"undefined\\\") {\\r\\n      myFiles = object.myFiles[field_id];\\r\\n    }\\r\\n    let filesDeleted = [];\\r\\n    if (typeof object.filesDeleted[field_id] != \\\"undefined\\\") {\\r\\n      filesDeleted = object.filesDeleted[field_id];\\r\\n    }\\r\\n\\r\\n    let imageID = field_id;\\r\\n    var masterParams = {\\r\\n      \\\"action\\\": \\\"upload\\\",\\r\\n      \\\"imageID\\\": imageID,\\r\\n      \\\"myFiles\\\": myFiles,\\r\\n      \\\"filesDeleted\\\": filesDeleted\\r\\n    }\\r\\n\\r\\n    object.DSP_UPLOADConfig = new componentConfigDef()\\r\\n    object.DSP_UPLOADConfig.masterParams = masterParams\\r\\n  }\\r\\n}\\r\\npublic addNewCode(object, CODENAME): void {\\r\\n  object.grid_som_tabs_codes = new tabsCodes();\\r\\n  object.grid_som_tabs_codes['CODENAME'] = CODENAME; // for retrieve data\\r\\n  \\r\\n  \\r\\n  object.SOM_TABS_CODESConfig =  new componentConfigDef();\\r\\n  let masterParams = {\\r\\n    action: \\\"ADD\\\",\\r\\n    CODENAME:CODENAME,\\r\\n    CODE:object.filterCode,\\r\\n    CODETEXT_LANG : object.filterCode\\r\\n  }\\r\\n  object.SOM_TABS_CODESConfig.masterParams = masterParams; // For add new record\\r\\n  object.showCodeDetails=true;\\r\\n}\\r\\n\\r\\npublic setIdOrder(object,idField, orderField){\\r\\n  let ID = 1;\\r\\n  let ORDER = 1;\\r\\n\\r\\n  let GridData:any = object.grid.data;\\r\\n  if (typeof GridData.data !== \\\"undefined\\\"){\\r\\n    for (let i=0; i < GridData.data.length ; i++){\\r\\n      if (GridData.data[i][idField] >= ID)\\r\\n        ID = parseInt( GridData.data[i][idField]) + 1;\\r\\n      if (GridData.data[i][orderField] >= ORDER)\\r\\n        ORDER = parseInt(GridData.data[i][orderField] ) + 1;\\r\\n    }\\r\\n  }\\r\\n  let values = {\\r\\n    [idField]: ID,\\r\\n    [orderField]: ORDER\\r\\n  }\\r\\n  console.log(\\\"setInitialValues:values:\\\",values )\\r\\n  object.formGroup.patchValue(values)\\r\\n}\\r\\npublic rowReorder(object, orderField, e){\\r\\n  if (object.paramConfig.DEBUG_FLAG) console.log (\\\"rowReorder:\\\", e);\\r\\n  if (object.paramConfig.DEBUG_FLAG) console.log (\\\"rowReorder:\\\", e.draggedRows[0].rowIndex)\\r\\n    if (object.paramConfig.DEBUG_FLAG) console.log (\\\"rowReorder:\\\", e.dropPosition);\\r\\n  if (object.paramConfig.DEBUG_FLAG) console.log (\\\"rowReorder:\\\", e.dropTargetRow.rowIndex)\\r\\n  let dataItem = e.draggedRows[0].dataItem;\\r\\n  let GridData;\\r\\n  GridData =  object.grid.data;\\r\\n\\r\\n  if (e.dropPosition == \\\"after\\\"){\\r\\n    GridData.data.splice(e.dropTargetRow.rowIndex+1, 0, dataItem);\\r\\n    //Remove draggedRows\\r\\n    GridData.data = GridData.data.filter(function (dataItem, index) {\\r\\n      return index !== e.draggedRows[0].rowIndex;\\r\\n    });\\r\\n  }\\r\\n  else\\r\\n  if (e.dropPosition == \\\"before\\\"){\\r\\n     //Remove draggedRows\\r\\n    GridData.data = GridData.data.filter(function (dataItem, index) {\\r\\n      return index !== e.draggedRows[0].rowIndex;\\r\\n    });\\r\\n    GridData.data.splice(e.dropTargetRow.rowIndex, 0, dataItem);\\r\\n  }\\r\\n //write order field\\r\\n if (object.paramConfig.DEBUG_FLAG) console.log(\\\"rowReorder:GridData.data:\\\",GridData.data);\\r\\n for (let i=0; i < GridData.data.length;i++){\\r\\n   GridData.data[i][orderField]= i + 1;\\r\\n   GridData.data[i]._QUERY = object.updateCMD;\\r\\n }\\r\\n object.saveChanges(object.grid);\\r\\n}\\r\\npublic handleFilterCode(object,CODE) {\\r\\n  if (object.starServices.sessionParams.USER_INFO.GROUPNAME == \\\"SYSADM\\\"){\\r\\n    object.filterCode = CODE;\\r\\n  }\\r\\n }\\r\\n public hideNoValidLicense()\\r\\n {\\r\\n     const collection = document.getElementsByTagName(\\\"div\\\"); \\r\\n     //console.log (\\\"checking:collection:\\\",collection);\\r\\n     for (let i=0;i<collection.length;i++){\\r\\n       let innerHTML:any = collection[i].innerHTML;\\r\\n       //let result = innerHTML.includes(\\\"ng-reflect-ng-style\\\");\\r\\n       //let result = innerHTML.includes(\\\"display: flex;\\\");\\r\\n       let result = innerHTML.includes(\\\"No valid license found\\\");\\r\\n       //console.log (\\\"checking:result:\\\",result);\\r\\n       if (result){\\r\\n         result = innerHTML.includes(\\\"No valid license found\\\");\\r\\n         if (result){\\r\\n           //console.log (\\\"checking:innerHTML:\\\",result,innerHTML);\\r\\n           collection[i].style.setProperty('display', 'none');\\r\\n           }\\r\\n \\r\\n       }\\r\\n       \\r\\n     }\\r\\n     //console.log (\\\"collection:\\\", collection.length, collection[35])\\r\\n }\\r\\n}\\r\\n\\r\\n/*\\r\\n@Injectable({\\r\\n  providedIn: 'root',\\r\\n})\\r\\nexport class starServices extends star_Services {\\r\\n\\r\\n    constructor(\\r\\n        notificationService:NotificationService,\\r\\n        dialogService: DialogService,\\r\\n        http: HttpClient,   messages: MessageService) {\\r\\n        //let Page = encodeURI (\\\"&_query=GET_EIM_COMMANDS&SPC_FUNCTION='%'&EXCSYSTEM='SMNS_3'&EQUIPID='%'\\\");\\r\\n        let Page = encodeURI (\\\"\\\");\\r\\n\\r\\n\\r\\n        super(\\r\\n            notificationService,\\r\\n            dialogService,\\r\\n            http, Page, messages);\\r\\n\\r\\n    }\\r\\n\\r\\n    public queryForCategory({ CategoryID }: { CategoryID: number }, state?: any): void {\\r\\n        this.query(Object.assign({}, state, {\\r\\n            filter: {\\r\\n                filters: [{\\r\\n                    field: 'CategoryID', operator: 'eq', value: CategoryID\\r\\n                }],\\r\\n                logic: 'and'\\r\\n            }\\r\\n        }));\\r\\n    }\\r\\n\\r\\n    public queryForProductName(ProductName: string, state?: any): void {\\r\\n        this.query(Object.assign({}, state, {\\r\\n            filter: {\\r\\n                filters: [{\\r\\n                    field: 'ProductName', operator: 'contains', value: ProductName\\r\\n                }],\\r\\n                logic: 'and'\\r\\n            }\\r\\n        }));\\r\\n    }\\r\\n\\r\\n}\\r\\n\\r\\n*/\\r\\n\",\"import { Component, OnInit} from '@angular/core';\\n\\n\\n@Component({\\n  selector: 'lib-starlib',\\n  template: `\\n    <p>\\n      starlib works!\\n    </p>\\n  `,\\n  styles: [\\n  ]\\n})\\nexport class StarlibComponent implements OnInit {\\n\\n  constructor() { }\\n\\n  ngOnInit(): void {\\n  }\\n\\n}\\n\",\"/*\\n * Public API Surface of starlib\\n */\\n\\nexport * from './lib/starlib.service';\\nexport * from './lib/starlib.component';\\n\",\"/**\\n * Generated bundle index. Do not edit.\\n */\\n\\nexport * from './public-api';\\n\"],\"names\":[],\"mappings\":\"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\"}","type":"asset"}]}